2025-07-26 15:48:10,004 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 15:49:29,249 - database - ERROR - Erreur sauvegarde génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,254 - claude_service - ERROR - Erreur génération ed620231-c0bc-48fa-bdfd-81ce73c32e0e: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,255 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,255 - claude_service - ERROR - Génération ed620231-c0bc-48fa-bdfd-81ce73c32e0e échouée: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,268 - database - ERROR - Erreur sauvegarde génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,269 - claude_service - ERROR - Erreur génération 28adaf33-ac9a-4b77-aec0-ce7fef366c03: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,269 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,269 - claude_service - ERROR - Génération 28adaf33-ac9a-4b77-aec0-ce7fef366c03 échouée: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,296 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,297 - routes - ERROR - Erreur stream: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,316 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:29,316 - routes - ERROR - Erreur stream: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:49:43,659 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 15:50:18,624 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 15:52:08,210 - database - ERROR - Erreur sauvegarde génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,211 - claude_service - ERROR - Erreur génération ced5d680-c464-46df-8aab-b288155a629c: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,214 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,215 - claude_service - ERROR - Génération ced5d680-c464-46df-8aab-b288155a629c échouée: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,230 - database - ERROR - Erreur sauvegarde génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,231 - claude_service - ERROR - Erreur génération 4ae00b58-8f3a-4a6e-9ce3-78b7f13a7cb9: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,231 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,231 - claude_service - ERROR - Génération 4ae00b58-8f3a-4a6e-9ce3-78b7f13a7cb9 échouée: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,255 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,255 - routes - ERROR - Erreur stream: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,279 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:52:08,279 - routes - ERROR - Erreur stream: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 15:53:25,131 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:28:46,694 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:29:03,859 - database - ERROR - Erreur sauvegarde génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:03,860 - claude_service - ERROR - Erreur génération deccbf8b-ed67-4bda-8378-d0420e3684e8: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:03,861 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:03,861 - claude_service - ERROR - Génération deccbf8b-ed67-4bda-8378-d0420e3684e8 échouée: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:03,923 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:03,924 - routes - ERROR - Erreur stream: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:03,968 - database - ERROR - Erreur sauvegarde génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:03,969 - claude_service - ERROR - Erreur génération e80ca7e5-ef4d-4a34-8553-ff29e4f01cb1: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:03,969 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:03,969 - claude_service - ERROR - Génération e80ca7e5-ef4d-4a34-8553-ff29e4f01cb1 échouée: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:04,036 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:29:04,036 - routes - ERROR - Erreur stream: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:31:52,379 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:32:06,597 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:32:30,465 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:32:35,282 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:32:41,002 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:33:58,920 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-806ee7ef-882c-4b30-b2ea-2da88b7296d2', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Ali'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 16:33:58,927 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 16:33:58,929 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 16:33:58,957 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb043b32cd0>
2025-07-26 16:33:58,958 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb04459a720> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 16:33:58,975 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:33:58,976 - routes - ERROR - Erreur stream: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:33:58,978 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb044433e10>
2025-07-26 16:33:58,978 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 16:33:58,979 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 16:33:58,980 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 16:33:58,981 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 16:33:58,981 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 16:34:00,197 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 16:34:00 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T16:33:59Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T16:33:59Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T16:33:59Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T16:33:59Z'), (b'request-id', b'req_011CRVxEoYcmGeti4k8x6AP4'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96554d47ad418f51-ORD')])
2025-07-26 16:34:00,198 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 16:34:00,198 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 16:34:00 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T16:33:59Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T16:33:59Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T16:33:59Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T16:33:59Z', 'request-id': 'req_011CRVxEoYcmGeti4k8x6AP4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96554d47ad418f51-ORD'})
2025-07-26 16:34:00,198 - anthropic._base_client - DEBUG - request_id: req_011CRVxEoYcmGeti4k8x6AP4
2025-07-26 16:34:00,199 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 16:34:00,539 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 16:34:00,539 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 16:34:00,539 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 16:34:00,553 - claude_service - INFO - Génération 025dfeed-b217-4ac1-ab18-e33eab1406fe terminée avec succès
2025-07-26 16:34:25,356 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:34:29,677 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-37e98c7c-fc62-460b-a905-02d4625bbbd3', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Ali'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 16:34:29,685 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 16:34:29,685 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 16:34:29,713 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb0444a8e50>
2025-07-26 16:34:29,713 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb04459a7b0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 16:34:29,727 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 16:34:29,729 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb044407090>
2025-07-26 16:34:29,730 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 16:34:29,730 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 16:34:29,731 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 16:34:29,731 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 16:34:29,731 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 16:34:31,405 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:34:33,379 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:35:28,412 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:35:31,378 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:35:32,403 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b1204910-5f39-4c3b-a235-539581ceb0cf', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Code python jeux de snake'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 16:35:32,410 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 16:35:32,411 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 16:35:32,426 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf684a2c10>
2025-07-26 16:35:32,426 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcf685a67b0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 16:35:32,441 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf684a39d0>
2025-07-26 16:35:32,441 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 16:35:32,442 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 16:35:32,442 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 16:35:32,442 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 16:35:32,442 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 16:35:32,572 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-73972852-1043-4605-839e-f56f5ca67d99', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Code python jeux de snake'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 16:35:32,574 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 16:35:32,574 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 16:35:32,589 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf684bff50>
2025-07-26 16:35:32,589 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcf685a67b0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 16:35:32,604 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf68443a50>
2025-07-26 16:35:32,605 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 16:35:32,605 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 16:35:32,605 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 16:35:32,605 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 16:35:32,606 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 16:35:33,329 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 16:35:33 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T16:35:32Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T16:35:32Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T16:35:32Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T16:35:32Z'), (b'request-id', b'req_011CRVxMh4suktLYAfYJBVvL'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96554f8fcac6442f-ORD')])
2025-07-26 16:35:33,330 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 16:35:33,331 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 16:35:33 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T16:35:32Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T16:35:32Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T16:35:32Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T16:35:32Z', 'request-id': 'req_011CRVxMh4suktLYAfYJBVvL', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96554f8fcac6442f-ORD'})
2025-07-26 16:35:33,331 - anthropic._base_client - DEBUG - request_id: req_011CRVxMh4suktLYAfYJBVvL
2025-07-26 16:35:33,331 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 16:35:33,666 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 16:35:33 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T16:35:32Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T16:35:32Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T16:35:32Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T16:35:32Z'), (b'request-id', b'req_011CRVxMhn3eaqz5oz6QNqCf'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96554f90d9c55c8f-ORD')])
2025-07-26 16:35:33,667 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 16:35:33,667 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 16:35:33 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T16:35:32Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T16:35:32Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T16:35:32Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T16:35:32Z', 'request-id': 'req_011CRVxMhn3eaqz5oz6QNqCf', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96554f90d9c55c8f-ORD'})
2025-07-26 16:35:33,667 - anthropic._base_client - DEBUG - request_id: req_011CRVxMhn3eaqz5oz6QNqCf
2025-07-26 16:35:33,668 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 16:35:58,936 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 16:35:58,936 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 16:35:58,936 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 16:35:58,950 - claude_service - INFO - Génération c15a4127-1fd0-40bb-b053-3df643c7441b terminée avec succès
2025-07-26 16:36:03,372 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 16:36:03,372 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 16:36:03,373 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 16:36:03,386 - claude_service - INFO - Génération 7816aeda-f3bb-4040-8627-295a832c8835 terminée avec succès
2025-07-26 16:38:30,695 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:38:38,188 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-91a1862d-7b62-4dec-9691-e57750d8d6f1', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Code python. Jeux tic tac toe'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 16:38:38,200 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 16:38:38,200 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 16:38:38,214 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f043992f750>
2025-07-26 16:38:38,215 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f043a39a840> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 16:38:38,228 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f043a2aa510>
2025-07-26 16:38:38,229 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 16:38:38,229 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 16:38:38,229 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 16:38:38,229 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 16:38:38,229 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 16:38:39,641 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 16:38:39 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T16:38:38Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T16:38:38Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T16:38:38Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T16:38:38Z'), (b'request-id', b'req_011CRVxbPQt3oqKgmTAEAenC'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96555418f9f347a1-ORD')])
2025-07-26 16:38:39,642 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 16:38:39,642 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 16:38:39 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T16:38:38Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T16:38:38Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T16:38:38Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T16:38:38Z', 'request-id': 'req_011CRVxbPQt3oqKgmTAEAenC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96555418f9f347a1-ORD'})
2025-07-26 16:38:39,642 - anthropic._base_client - DEBUG - request_id: req_011CRVxbPQt3oqKgmTAEAenC
2025-07-26 16:38:39,643 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 16:39:02,130 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 16:39:02,130 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 16:39:02,130 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 16:39:02,145 - claude_service - INFO - Génération 777ea5ba-5f99-4728-9a35-463cee06a773 terminée avec succès
2025-07-26 16:39:02,611 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-3b330d5d-cfe4-48f6-ab11-17533c068ad0', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Code python. Jeux tic tac toe'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 16:39:02,612 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 16:39:02,612 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 16:39:02,612 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 16:39:02,612 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 16:39:02,613 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 16:39:02,613 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 16:39:03,696 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 16:39:03 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T16:39:02Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T16:39:02Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T16:39:02Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T16:39:02Z'), (b'request-id', b'req_011CRVxdBdmeCqK3GZPSJJU3'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965554b15c8247a1-ORD')])
2025-07-26 16:39:03,696 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 16:39:03,697 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 16:39:03 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T16:39:02Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T16:39:02Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T16:39:02Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T16:39:02Z', 'request-id': 'req_011CRVxdBdmeCqK3GZPSJJU3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '965554b15c8247a1-ORD'})
2025-07-26 16:39:03,697 - anthropic._base_client - DEBUG - request_id: req_011CRVxdBdmeCqK3GZPSJJU3
2025-07-26 16:39:03,697 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 16:39:34,042 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:40:21,016 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:40:22,809 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:40:41,679 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:42:08,489 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:10,402 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:10,715 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:18,308 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:18,604 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:19,663 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:26,631 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:26,652 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:29,556 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:29,562 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:35,714 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:35,814 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:57,219 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:43:57,250 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:44:04,162 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:44:04,176 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:44:21,102 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:44:55,123 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:44:55,272 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:07,044 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:07,934 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:08,768 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:10,582 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:10,729 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:26,449 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:26,596 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:28,219 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:28,350 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:35,042 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:35,197 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:37,970 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:38,779 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:39,688 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:41,418 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:52,216 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:45:52,502 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:46:02,862 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:46:30,081 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:46:30,461 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:46:32,875 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:46:33,303 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:46:34,695 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:46:35,082 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:48:11,301 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:48:11,960 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:48:29,874 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:48:47,567 - claude_service - ERROR - Erreur stream: name 'model' is not defined
2025-07-26 16:48:47,567 - claude_service - ERROR - Erreur streaming 3f45bd29-f959-440d-8703-270d0758ad7f: name 'model' is not defined
2025-07-26 16:48:47,595 - claude_service - ERROR - Génération 3f45bd29-f959-440d-8703-270d0758ad7f échouée: name 'model' is not defined
2025-07-26 16:48:47,736 - routes - INFO - Stream terminé pour 3f45bd29-f959-440d-8703-270d0758ad7f: error
2025-07-26 16:49:49,288 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:49:49,323 - __main__ - INFO - Stream buffers supprimés
2025-07-26 16:49:49,327 - __main__ - INFO - 13 générations supprimées
2025-07-26 16:49:49,362 - __main__ - INFO - Base de données nettoyée avec succès
2025-07-26 16:49:49,393 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:49:49,394 - __main__ - INFO - Streams actifs arrêtés
2025-07-26 16:49:58,272 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:50:06,624 - claude_service - ERROR - Erreur stream: name 'model' is not defined
2025-07-26 16:50:06,625 - claude_service - ERROR - Erreur streaming a02f0b7e-205e-4250-9500-ff3adea27dd2: name 'model' is not defined
2025-07-26 16:50:06,642 - claude_service - ERROR - Génération a02f0b7e-205e-4250-9500-ff3adea27dd2 échouée: name 'model' is not defined
2025-07-26 16:50:06,776 - routes - INFO - Stream terminé pour a02f0b7e-205e-4250-9500-ff3adea27dd2: error
2025-07-26 16:50:29,128 - claude_service - ERROR - Erreur stream: name 'model' is not defined
2025-07-26 16:50:29,129 - claude_service - ERROR - Erreur streaming edb4969b-bbf3-49c1-8c36-dba97377cd19: name 'model' is not defined
2025-07-26 16:50:29,143 - claude_service - ERROR - Génération edb4969b-bbf3-49c1-8c36-dba97377cd19 échouée: name 'model' is not defined
2025-07-26 16:50:29,274 - routes - INFO - Stream terminé pour edb4969b-bbf3-49c1-8c36-dba97377cd19: error
2025-07-26 16:51:14,569 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:51:14,623 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:51:19,487 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:51:19,491 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:51:39,004 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:52:20,134 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:52:20,694 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:53:32,831 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:53:32,961 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:53:58,261 - claude_service - ERROR - Erreur stream: name 'model' is not defined
2025-07-26 16:53:58,263 - claude_service - ERROR - Erreur streaming 1462af8c-619f-420c-8560-e5bf07726552: name 'model' is not defined
2025-07-26 16:53:58,278 - claude_service - ERROR - Génération 1462af8c-619f-420c-8560-e5bf07726552 échouée: name 'model' is not defined
2025-07-26 16:53:58,424 - routes - INFO - Stream terminé pour 1462af8c-619f-420c-8560-e5bf07726552: error
2025-07-26 16:54:18,722 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:54:51,154 - claude_service - ERROR - Erreur stream: name 'model' is not defined
2025-07-26 16:54:51,156 - claude_service - ERROR - Erreur streaming 36d1c026-2135-49f0-acca-8370ae45a487: name 'model' is not defined
2025-07-26 16:54:51,171 - claude_service - ERROR - Génération 36d1c026-2135-49f0-acca-8370ae45a487 échouée: name 'model' is not defined
2025-07-26 16:54:51,313 - routes - INFO - Stream terminé pour 36d1c026-2135-49f0-acca-8370ae45a487: error
2025-07-26 16:55:14,762 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:55:15,303 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:55:16,485 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:55:17,166 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:55:18,226 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:55:24,950 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 16:55:46,357 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages?beta=true', 'headers': {'X-Stainless-Stream-Helper': 'beta.messages', 'anthropic-beta': 'output-128k-2025-02-19'}, 'files': None, 'idempotency_key': 'stainless-python-retry-1be34e0b-bb7c-4935-98ba-442fdef29bb6', 'json_data': {'max_tokens': 128000, 'messages': [{'role': 'user', 'content': 'Code html site web'}], 'model': 'claude-3-7-sonnet-20250219', 'temperature': 1.0, 'stream': True}}
2025-07-26 16:55:46,362 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages?beta=true
2025-07-26 16:55:46,363 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 16:55:46,390 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd99a206290>
2025-07-26 16:55:46,390 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd99aca6960> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 16:55:46,406 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd99abc8250>
2025-07-26 16:55:46,406 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 16:55:46,407 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 16:55:46,407 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 16:55:46,407 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 16:55:46,407 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 16:55:47,259 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 16:55:47 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'200000'), (b'anthropic-ratelimit-input-tokens-remaining', b'200000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T16:55:46Z'), (b'anthropic-ratelimit-output-tokens-limit', b'80000'), (b'anthropic-ratelimit-output-tokens-remaining', b'80000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T16:55:46Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T16:55:46Z'), (b'anthropic-ratelimit-tokens-limit', b'280000'), (b'anthropic-ratelimit-tokens-remaining', b'280000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T16:55:46Z'), (b'request-id', b'req_011CRVyuBpjtHz5bdPVZR6Wr'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96556d331cb78c0a-ORD')])
2025-07-26 16:55:47,260 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages?beta=true "HTTP/1.1 200 OK"
2025-07-26 16:55:47,260 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages?beta=true "200 OK" Headers({'date': 'Sat, 26 Jul 2025 16:55:47 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '200000', 'anthropic-ratelimit-input-tokens-remaining': '200000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T16:55:46Z', 'anthropic-ratelimit-output-tokens-limit': '80000', 'anthropic-ratelimit-output-tokens-remaining': '80000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T16:55:46Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T16:55:46Z', 'anthropic-ratelimit-tokens-limit': '280000', 'anthropic-ratelimit-tokens-remaining': '280000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T16:55:46Z', 'request-id': 'req_011CRVyuBpjtHz5bdPVZR6Wr', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96556d331cb78c0a-ORD'})
2025-07-26 16:55:47,260 - anthropic._base_client - DEBUG - request_id: req_011CRVyuBpjtHz5bdPVZR6Wr
2025-07-26 16:55:47,261 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 16:56:00,210 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 16:56:00,211 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 16:56:00,211 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 16:56:00,211 - claude_service - ERROR - Erreur streaming bc3fd8c0-9437-49f0-b30a-61be1ba4e25a: name 'model' is not defined
2025-07-26 16:56:00,227 - claude_service - ERROR - Génération bc3fd8c0-9437-49f0-b30a-61be1ba4e25a échouée: name 'model' is not defined
2025-07-26 16:56:00,336 - routes - INFO - Stream terminé pour bc3fd8c0-9437-49f0-b30a-61be1ba4e25a: error
2025-07-26 17:04:18,960 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-eecc28f8-c8ca-4ecf-9641-7e33a60a0d33', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 17:04:18,967 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 17:04:18,967 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:04:18,992 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f920f858710>
2025-07-26 17:04:18,993 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f920f986840> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 17:04:19,008 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f920f81f390>
2025-07-26 17:04:19,009 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:04:19,010 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:04:19,010 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:04:19,011 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:04:19,012 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:04:19,906 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:04:19 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T17:04:19Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T17:04:19Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T17:04:19Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T17:04:19Z'), (b'request-id', b'req_011CRVzYxuRRnriiR5K8BpJB'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965579b6dca61060-ORD')])
2025-07-26 17:04:19,907 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 17:04:19,907 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 17:04:19 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T17:04:19Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T17:04:19Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T17:04:19Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T17:04:19Z', 'request-id': 'req_011CRVzYxuRRnriiR5K8BpJB', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '965579b6dca61060-ORD'})
2025-07-26 17:04:19,908 - anthropic._base_client - DEBUG - request_id: req_011CRVzYxuRRnriiR5K8BpJB
2025-07-26 17:04:19,908 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:04:20,505 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:04:20,505 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:04:20,505 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:04:20,506 - claude_service - ERROR - Erreur streaming cd84799b-0fc2-4f7e-aed9-d5e951e594ba: name 'model' is not defined
2025-07-26 17:04:20,520 - claude_service - ERROR - Génération cd84799b-0fc2-4f7e-aed9-d5e951e594ba échouée: name 'model' is not defined
2025-07-26 17:04:20,544 - routes - INFO - Stream terminé pour cd84799b-0fc2-4f7e-aed9-d5e951e594ba: error
2025-07-26 17:05:20,179 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:05:20,460 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:05:22,027 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:05:23,318 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:05:26,429 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2a4bfec9-464d-434f-aa7b-3aa3979e10c9', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 17:05:26,438 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 17:05:26,439 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:05:26,466 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd99aba75d0>
2025-07-26 17:05:26,466 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd99acaa840> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 17:05:26,481 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd99abb8d50>
2025-07-26 17:05:26,482 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:05:26,483 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:05:26,483 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:05:26,484 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:05:26,484 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:05:27,673 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:05:27 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T17:05:26Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T17:05:26Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T17:05:26Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T17:05:26Z'), (b'request-id', b'req_011CRVzdwP2s8z9cwmKAF8HR'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96557b5c8edb10dd-ORD')])
2025-07-26 17:05:27,674 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 17:05:27,674 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 17:05:27 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T17:05:26Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T17:05:26Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T17:05:26Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T17:05:26Z', 'request-id': 'req_011CRVzdwP2s8z9cwmKAF8HR', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96557b5c8edb10dd-ORD'})
2025-07-26 17:05:27,674 - anthropic._base_client - DEBUG - request_id: req_011CRVzdwP2s8z9cwmKAF8HR
2025-07-26 17:05:27,675 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:05:28,065 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:05:28,068 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:05:28,068 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:05:28,081 - claude_service - INFO - Génération 52202518-5914-46b1-804a-8fadffe135eb terminée avec succès
2025-07-26 17:05:28,096 - routes - INFO - Stream terminé pour 52202518-5914-46b1-804a-8fadffe135eb: completed
2025-07-26 17:05:29,957 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:05:42,657 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-08c3e705-f3bf-49f0-8ad2-0bc07ed9ed03', 'json_data': {'max_tokens': 32000, 'messages': [{'role': 'user', 'content': 'Allo'}], 'model': 'claude-opus-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 17:05:42,659 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 17:05:42,660 - httpcore.connection - DEBUG - close.started
2025-07-26 17:05:42,660 - httpcore.connection - DEBUG - close.complete
2025-07-26 17:05:42,660 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:05:42,686 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd99abf7410>
2025-07-26 17:05:42,686 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd99acaa840> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 17:05:42,701 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd99ab43ad0>
2025-07-26 17:05:42,701 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:05:42,702 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:05:42,702 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:05:42,702 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:05:42,702 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:05:44,528 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:05:44 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T17:05:42Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T17:05:42Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T17:05:42Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T17:05:42Z'), (b'request-id', b'req_011CRVzf8jRvf4wxLx9yTb9K'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96557bc1e872f603-ORD')])
2025-07-26 17:05:44,529 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 17:05:44,529 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 17:05:44 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T17:05:42Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T17:05:42Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T17:05:42Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T17:05:42Z', 'request-id': 'req_011CRVzf8jRvf4wxLx9yTb9K', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96557bc1e872f603-ORD'})
2025-07-26 17:05:44,529 - anthropic._base_client - DEBUG - request_id: req_011CRVzf8jRvf4wxLx9yTb9K
2025-07-26 17:05:44,529 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:05:44,855 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:05:44,856 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:05:44,856 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:05:44,874 - claude_service - INFO - Génération ca4793ff-31c3-4551-b156-d509aebf0d1d terminée avec succès
2025-07-26 17:05:44,884 - routes - INFO - Stream terminé pour ca4793ff-31c3-4551-b156-d509aebf0d1d: completed
2025-07-26 17:06:58,669 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages?beta=true', 'headers': {'X-Stainless-Stream-Helper': 'beta.messages', 'anthropic-beta': 'output-128k-2025-02-19'}, 'files': None, 'idempotency_key': 'stainless-python-retry-95e364e1-665e-4fe2-9382-f945495e5942', 'json_data': {'max_tokens': 128000, 'messages': [{'role': 'user', 'content': 'Zoos'}], 'model': 'claude-3-7-sonnet-20250219', 'temperature': 1.0, 'stream': True}}
2025-07-26 17:06:58,672 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages?beta=true
2025-07-26 17:06:58,673 - httpcore.connection - DEBUG - close.started
2025-07-26 17:06:58,673 - httpcore.connection - DEBUG - close.complete
2025-07-26 17:06:58,673 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:06:58,686 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd999aaa690>
2025-07-26 17:06:58,687 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd99acaa840> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 17:06:58,701 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd999aa9b50>
2025-07-26 17:06:58,701 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:06:58,702 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:06:58,702 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:06:58,702 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:06:58,702 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:06:59,159 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:06:59 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'200000'), (b'anthropic-ratelimit-input-tokens-remaining', b'200000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T17:06:58Z'), (b'anthropic-ratelimit-output-tokens-limit', b'80000'), (b'anthropic-ratelimit-output-tokens-remaining', b'80000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T17:06:58Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T17:06:58Z'), (b'anthropic-ratelimit-tokens-limit', b'280000'), (b'anthropic-ratelimit-tokens-remaining', b'280000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T17:06:58Z'), (b'request-id', b'req_011CRVzkjeHMppGybnELJ7HU'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96557d9ceaef003d-ORD')])
2025-07-26 17:06:59,160 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages?beta=true "HTTP/1.1 200 OK"
2025-07-26 17:06:59,160 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages?beta=true "200 OK" Headers({'date': 'Sat, 26 Jul 2025 17:06:59 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '200000', 'anthropic-ratelimit-input-tokens-remaining': '200000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T17:06:58Z', 'anthropic-ratelimit-output-tokens-limit': '80000', 'anthropic-ratelimit-output-tokens-remaining': '80000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T17:06:58Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T17:06:58Z', 'anthropic-ratelimit-tokens-limit': '280000', 'anthropic-ratelimit-tokens-remaining': '280000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T17:06:58Z', 'request-id': 'req_011CRVzkjeHMppGybnELJ7HU', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96557d9ceaef003d-ORD'})
2025-07-26 17:06:59,161 - anthropic._base_client - DEBUG - request_id: req_011CRVzkjeHMppGybnELJ7HU
2025-07-26 17:06:59,161 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:07:01,987 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:07:01,988 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:07:01,989 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:07:02,003 - claude_service - INFO - Génération 69259201-89f7-4f4e-b55d-d04466d2635d terminée avec succès
2025-07-26 17:07:02,092 - routes - INFO - Stream terminé pour 69259201-89f7-4f4e-b55d-d04466d2635d: completed
2025-07-26 17:13:40,437 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:13:40,453 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:13:52,034 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:13:52,069 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:14:25,473 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:14:25,474 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:14:25,577 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:14:25,577 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:14:32,884 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:14:32,884 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:14:32,935 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:14:32,935 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:14:53,376 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:14:53,377 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:14:53,483 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:14:53,484 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:14:57,018 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:14:57,020 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:14:57,790 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:14:57,790 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:15:07,028 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:15:07,028 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:15:07,308 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:15:07,308 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:15:27,506 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:15:27,506 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:15:27,734 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:15:27,734 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:15:31,081 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:15:31,082 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:15:31,869 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:15:31,869 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:15:41,308 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:15:41,308 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:15:42,037 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:15:42,037 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:15:45,817 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:15:45,817 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:16:32,723 - routes - ERROR - Erreur dashboard: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:16:36,458 - routes - ERROR - Erreur dashboard: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:16:37,016 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:16:37,026 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:16:42,576 - routes - ERROR - Erreur dashboard: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:16:46,369 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:16:46,384 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:16:46,766 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:16:46,766 - claude_service - WARNING - OPENAI_API_KEY non définie
2025-07-26 17:16:46,803 - routes - ERROR - Erreur dashboard: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:16:50,799 - app - ERROR - Exception on /generator [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 20, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 81, in generator
    claude_available=claude_service.available,
                     ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:16:50,800 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 17:16:53,831 - routes - ERROR - Erreur dashboard: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:17:10,815 - routes - ERROR - Erreur dashboard: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:17:11,021 - routes - ERROR - Erreur dashboard: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:17:11,961 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:17:11,982 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:17:31,222 - app - ERROR - Exception on /generator [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 20, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 81, in generator
    claude_available=claude_service.available,
                     ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:17:31,225 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 17:17:52,790 - routes - ERROR - Erreur dashboard: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:17:55,593 - app - ERROR - Exception on /generator [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 20, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 81, in generator
    claude_available=claude_service.available,
                     ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:17:55,594 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 17:17:57,294 - routes - ERROR - Erreur dashboard: 'ClaudeService' object has no attribute 'available'
2025-07-26 17:17:59,555 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:17:59,565 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:18:00,320 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:18:00,337 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:18:14,107 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:18:14,116 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:18:14,123 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:18:14,135 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:18:24,257 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:18:24,267 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:18:39,544 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/responses', 'files': None, 'idempotency_key': 'stainless-python-retry-1e696562-5b49-450c-a29f-f87c45ff6bcf', 'json_data': {'input': [{'role': 'user', 'content': 'Allo'}], 'max_output_tokens': 32768, 'model': 'gpt-4.1-mini', 'reasoning': {}, 'store': True, 'temperature': 1, 'text': {'format': {'type': 'text'}}, 'tools': [], 'top_p': 1}}
2025-07-26 17:18:39,553 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/responses
2025-07-26 17:18:39,554 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:18:39,569 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fee8b4025d0>
2025-07-26 17:18:39,570 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fee90c94830> server_hostname='api.openai.com' timeout=5.0
2025-07-26 17:18:39,584 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fee8b402690>
2025-07-26 17:18:39,585 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:18:39,585 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:18:39,586 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:18:39,586 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:18:39,586 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:18:40,811 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:18:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999971'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'm-lai'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'x-request-id', b'req_b303da84348abbb67f8e2b5f5a9e52ae'), (b'openai-processing-ms', b'805'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Q8rAmJ2I6Ctypjf0hjrCJAiq42ADAdXqijuSPrWwiwg-1753550320-1.0.1.1-_hDWJzdosHNGDwly8MHeEZViAcinq_FhlpcUj1WD.Ycyauny83kDkxahUL3UUm_4Cp0ONAaGyhJON1l3jXcC6wqooGNqq8hayccpkbZrnAo; path=/; expires=Sat, 26-Jul-25 17:48:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=K4WlEeJ5Y1_OBQGN.UCeLeZhKv_QXOpY4nJsl6tEBj4-1753550320804-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96558eb97eae8222-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 17:18:40,812 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
2025-07-26 17:18:40,812 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:18:40,813 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:18:40,813 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:18:40,813 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:18:40,813 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/responses "200 OK" Headers([('date', 'Sat, 26 Jul 2025 17:18:40 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999971'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('openai-version', '2020-10-01'), ('openai-organization', 'm-lai'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('x-request-id', 'req_b303da84348abbb67f8e2b5f5a9e52ae'), ('openai-processing-ms', '805'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=Q8rAmJ2I6Ctypjf0hjrCJAiq42ADAdXqijuSPrWwiwg-1753550320-1.0.1.1-_hDWJzdosHNGDwly8MHeEZViAcinq_FhlpcUj1WD.Ycyauny83kDkxahUL3UUm_4Cp0ONAaGyhJON1l3jXcC6wqooGNqq8hayccpkbZrnAo; path=/; expires=Sat, 26-Jul-25 17:48:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=K4WlEeJ5Y1_OBQGN.UCeLeZhKv_QXOpY4nJsl6tEBj4-1753550320804-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '96558eb97eae8222-ORD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 17:18:40,814 - openai._base_client - DEBUG - request_id: req_b303da84348abbb67f8e2b5f5a9e52ae
2025-07-26 17:18:40,979 - claude_service - INFO - Génération 686d1404-b92f-4de4-ad0d-e75ad1e7d11c terminée avec succès
2025-07-26 17:18:40,984 - routes - INFO - Stream terminé pour 686d1404-b92f-4de4-ad0d-e75ad1e7d11c: completed
2025-07-26 17:19:59,331 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:19:59,337 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:19:59,343 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:19:59,350 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:20:01,891 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:20:01,903 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:20:01,903 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:20:01,917 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:20:04,153 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:20:04,161 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:20:04,267 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:20:04,282 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:20:16,891 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:20:16,903 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:20:25,030 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-d486cc38-943c-46ca-be63-b2bf4060bc66', 'json_data': {'messages': [{'role': 'user', 'content': 'Allo'}], 'model': 'gpt-4.1', 'max_tokens': 32768, 'stream': True, 'temperature': 1.0}}
2025-07-26 17:20:25,036 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 17:20:25,037 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:20:25,051 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb95d60c0d0>
2025-07-26 17:20:25,051 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb95eca48c0> server_hostname='api.openai.com' timeout=5.0
2025-07-26 17:20:25,065 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb95d607f90>
2025-07-26 17:20:25,065 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:20:25,066 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:20:25,066 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:20:25,066 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:20:25,066 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:20:25,846 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:20:25 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'315'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'325'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999996'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'273055b3-5400-4aee-a093-e9cd356e6884'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=86ibQ8XFOzd.BG2AP_nFYs.cVf85eOmgZHWd1LaJTxw-1753550425-1.0.1.1-M3IRRhxehZDfKNe2BBnNwl6BMI9GzvvpVXtYdpZQ1S5vpbGs.j537yNTiI.fBip211NK37funRPefAqgksRF_YhTjVB57zqqWBMfqq_lQiA; path=/; expires=Sat, 26-Jul-25 17:50:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=epj28mq3U3_7E4ii_ZSxN3xjcAto0aEuusfD6JHInzI-1753550425839-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9655914cbd89e544-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 17:20:25,847 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 17:20:25,847 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 17:20:25 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '315'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '325'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999996'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', '273055b3-5400-4aee-a093-e9cd356e6884'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=86ibQ8XFOzd.BG2AP_nFYs.cVf85eOmgZHWd1LaJTxw-1753550425-1.0.1.1-M3IRRhxehZDfKNe2BBnNwl6BMI9GzvvpVXtYdpZQ1S5vpbGs.j537yNTiI.fBip211NK37funRPefAqgksRF_YhTjVB57zqqWBMfqq_lQiA; path=/; expires=Sat, 26-Jul-25 17:50:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=epj28mq3U3_7E4ii_ZSxN3xjcAto0aEuusfD6JHInzI-1753550425839-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9655914cbd89e544-ORD'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 17:20:25,847 - openai._base_client - DEBUG - request_id: 273055b3-5400-4aee-a093-e9cd356e6884
2025-07-26 17:20:25,847 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:20:26,200 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:20:26,200 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:20:26,200 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:20:26,214 - claude_service - INFO - Génération 2a6f067c-9668-4d75-b754-a1480d94daef terminée avec succès
2025-07-26 17:20:26,216 - routes - INFO - Stream terminé pour 2a6f067c-9668-4d75-b754-a1480d94daef: completed
2025-07-26 17:21:08,550 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-5ee986d9-a53a-4bed-8e36-fb89b7f08292', 'json_data': {'messages': [{'role': 'user', 'content': 'Donne-moi un code python jeux tic tac toe'}], 'model': 'gpt-4.1-mini', 'max_tokens': 32768, 'stream': True, 'temperature': 1.0}}
2025-07-26 17:21:08,558 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 17:21:08,561 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:21:08,576 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff4c333b050>
2025-07-26 17:21:08,577 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff4c8a908c0> server_hostname='api.openai.com' timeout=5.0
2025-07-26 17:21:08,592 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff4c333b0d0>
2025-07-26 17:21:08,592 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:21:08,593 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:21:08,593 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:21:08,593 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:21:08,593 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:21:09,292 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:21:09 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'184'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'187'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999987'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'd7b93c48-2b4d-455f-87db-f491073d431d'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=z3FtywCztY2V6zCT_gkIW3ys8DI.dPVA7RJbQSJjNs4-1753550469-1.0.1.1-yMjOPvUDv86_K4oIqgZHtF1jnmx6X_nhOoEtLX3rsAc34vADvL17An2E5MektwYVWNtXhAe..2ysURHMu08qAWJmg6NGeBATUteMCBCDzrk; path=/; expires=Sat, 26-Jul-25 17:51:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=NuAidedkhV7hnFaGK70XawFdgh12BFAyDcrxCletAR4-1753550469285-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9655925cbeda6501-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 17:21:09,293 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 17:21:09,293 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 17:21:09 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '184'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '187'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999987'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'd7b93c48-2b4d-455f-87db-f491073d431d'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=z3FtywCztY2V6zCT_gkIW3ys8DI.dPVA7RJbQSJjNs4-1753550469-1.0.1.1-yMjOPvUDv86_K4oIqgZHtF1jnmx6X_nhOoEtLX3rsAc34vADvL17An2E5MektwYVWNtXhAe..2ysURHMu08qAWJmg6NGeBATUteMCBCDzrk; path=/; expires=Sat, 26-Jul-25 17:51:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=NuAidedkhV7hnFaGK70XawFdgh12BFAyDcrxCletAR4-1753550469285-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9655925cbeda6501-ORD'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 17:21:09,293 - openai._base_client - DEBUG - request_id: d7b93c48-2b4d-455f-87db-f491073d431d
2025-07-26 17:21:09,294 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:21:26,275 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:21:26,275 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:21:26,275 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:21:26,286 - claude_service - INFO - Génération 72ebdfa5-98ca-4292-98bf-abe4b4e46268 terminée avec succès
2025-07-26 17:21:26,295 - routes - INFO - Stream terminé pour 72ebdfa5-98ca-4292-98bf-abe4b4e46268: completed
2025-07-26 17:23:03,257 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-bc54fc45-acd6-40e3-98b6-1def23d2393c', 'json_data': {'messages': [{'role': 'user', 'content': 'Écris moi un poème'}], 'model': 'gpt-4o', 'max_tokens': 16384, 'stream': True, 'temperature': 1.0}}
2025-07-26 17:23:03,259 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 17:23:03,259 - httpcore.connection - DEBUG - close.started
2025-07-26 17:23:03,260 - httpcore.connection - DEBUG - close.complete
2025-07-26 17:23:03,260 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:23:03,286 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb95d666b90>
2025-07-26 17:23:03,286 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb95eca48c0> server_hostname='api.openai.com' timeout=5.0
2025-07-26 17:23:03,303 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb95d767f50>
2025-07-26 17:23:03,303 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:23:03,304 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:23:03,304 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:23:03,305 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:23:03,305 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:23:03,894 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:23:03 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'233'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'237'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999993'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_df472a266006f2b31e7642031f592869'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96559529ae06cefa-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 17:23:03,894 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 17:23:03,895 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 17:23:03 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'm-lai', 'openai-processing-ms': '233', 'openai-project': 'proj_KX5tOquZig5jkTn8nQ5R3WvN', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '237', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999993', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_df472a266006f2b31e7642031f592869', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '96559529ae06cefa-ORD', 'alt-svc': 'h3=":443"; ma=86400'})
2025-07-26 17:23:03,895 - openai._base_client - DEBUG - request_id: req_df472a266006f2b31e7642031f592869
2025-07-26 17:23:03,895 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:23:09,283 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:23:09,284 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:23:09,284 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:23:09,295 - claude_service - INFO - Génération b5be39c3-2cbf-478b-b9e3-36a3a259bedd terminée avec succès
2025-07-26 17:23:09,396 - routes - INFO - Stream terminé pour b5be39c3-2cbf-478b-b9e3-36a3a259bedd: completed
2025-07-26 17:25:25,820 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:25:25,830 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:25:25,941 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:25:25,952 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:25:36,192 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:25:36,203 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:25:37,000 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:25:37,013 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:25:39,281 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:25:39,290 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:25:39,455 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:25:39,463 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:25:54,863 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:25:54,876 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:25:55,062 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:25:55,071 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:25:57,051 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:25:57,064 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:25:57,233 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:25:57,240 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:26:01,143 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:26:01,151 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:26:53,846 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:26:53,858 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:27:52,820 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:27:52,831 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:27:53,665 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:27:53,677 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:27:53,780 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:27:53,794 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:27:55,080 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:27:55,092 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:28:03,139 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:28:03,151 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:28:03,484 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:28:03,502 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:28:04,051 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:28:04,061 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:28:05,842 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:28:05,857 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:28:06,440 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:28:06,462 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:28:06,526 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:28:06,533 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:28:09,504 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:28:09,514 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:28:53,635 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-6a8560bc-bcf2-4702-bf1d-adc1d1ec7ef5', 'json_data': {'messages': [{'role': 'user', 'content': 'Écris un poème'}], 'model': 'gpt-4.1-nano', 'max_tokens': 32768, 'stream': True, 'temperature': 1.0}}
2025-07-26 17:28:53,644 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 17:28:53,645 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:28:53,660 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f28e98d0850>
2025-07-26 17:28:53,660 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f28ea1ac8c0> server_hostname='api.openai.com' timeout=5.0
2025-07-26 17:28:53,675 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f28e8aa0a50>
2025-07-26 17:28:53,675 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:28:53,676 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:28:53,676 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:28:53,677 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:28:53,677 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:28:54,436 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:28:54 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'224'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'228'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999993'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'fac1cdbf-c76c-4ec6-8b91-d4adb9a33b75'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=lSmpFOlody28Jcj7nGtXTeUBtaLFWpjinEUsJUAnVrA-1753550934-1.0.1.1-.GePBeDTnLnr62eDHJ8ff6jglGmPFRm8N6sUXdjGMO7EQ7eYga2vqQwPag.DWWd.kSiR1cqyV8oKyJT0pOWFZKVYPQlZF7.iEnNSAfWXLjU; path=/; expires=Sat, 26-Jul-25 17:58:54 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=CWeccGr307N83tpK9u0GEaeQUVSdHHtXN0jUHOe8A7g-1753550934430-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96559db78f3f2c1d-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 17:28:54,437 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 17:28:54,437 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 17:28:54 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '224'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '228'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999993'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'fac1cdbf-c76c-4ec6-8b91-d4adb9a33b75'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=lSmpFOlody28Jcj7nGtXTeUBtaLFWpjinEUsJUAnVrA-1753550934-1.0.1.1-.GePBeDTnLnr62eDHJ8ff6jglGmPFRm8N6sUXdjGMO7EQ7eYga2vqQwPag.DWWd.kSiR1cqyV8oKyJT0pOWFZKVYPQlZF7.iEnNSAfWXLjU; path=/; expires=Sat, 26-Jul-25 17:58:54 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=CWeccGr307N83tpK9u0GEaeQUVSdHHtXN0jUHOe8A7g-1753550934430-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '96559db78f3f2c1d-ORD'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 17:28:54,437 - openai._base_client - DEBUG - request_id: fac1cdbf-c76c-4ec6-8b91-d4adb9a33b75
2025-07-26 17:28:54,438 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:28:59,198 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:28:59,198 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:28:59,198 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:28:59,212 - claude_service - INFO - Génération c7d8f8ca-959c-44fa-b2c7-53111ed1bae1 terminée avec succès
2025-07-26 17:28:59,383 - routes - INFO - Stream terminé pour c7d8f8ca-959c-44fa-b2c7-53111ed1bae1: completed
2025-07-26 17:30:30,019 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:30:30,035 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:30:30,333 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:30:30,346 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:30:30,505 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:30:30,513 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:31:58,420 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:31:58,433 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:31:59,190 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:31:59,203 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:31:59,496 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:31:59,505 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:32:01,000 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:32:01,013 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:32:01,656 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:32:01,663 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:32:06,412 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:32:06,422 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:32:06,434 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:32:06,444 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:32:06,541 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:32:06,549 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:32:19,904 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:32:19,911 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:32:19,913 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:32:19,922 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:32:20,008 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:32:20,017 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:32:38,077 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:32:38,085 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:33:03,648 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-48b06ed6-2b12-43c9-808c-14ecbcb098c8', 'json_data': {'messages': [{'role': 'user', 'content': 'Écris peonme'}], 'model': 'gpt-4.1-mini', 'max_tokens': 32768, 'stream': True, 'temperature': 1.0}}
2025-07-26 17:33:03,659 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 17:33:03,660 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:33:03,692 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f60c8b55d50>
2025-07-26 17:33:03,692 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f60ca1b0950> server_hostname='api.openai.com' timeout=5.0
2025-07-26 17:33:03,708 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f60c8b55e10>
2025-07-26 17:33:03,708 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:33:03,708 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:33:03,709 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:33:03,709 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:33:03,709 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:33:03,985 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:33:03 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'173'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'185'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999993'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_9c0485ebb6056fbcf373b9c4d30e9d31'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=w9UbNyVhEcQ8hRuSHGWZ_xicWqlGeKkEbk3zQDKAUIc-1753551183-1.0.1.1-zj.Bt.osDQCdPtLauu_QHmZeKqK4Sodb9AUojsFYXdOUvVMpIe.evQ5v.v.uq1CJBdtXoP1ADnJUYsS4jw_W7PlRX4fB.ekgPCfIN4QwvQI; path=/; expires=Sat, 26-Jul-25 18:03:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=3tRvNyqTU6W4TA01Ou.NKKWnUqB6BA573UDzOXiUJjc-1753551183978-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9655a3d23a68af34-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 17:33:03,986 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 17:33:03,986 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 17:33:03 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '173'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '185'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999993'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_9c0485ebb6056fbcf373b9c4d30e9d31'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=w9UbNyVhEcQ8hRuSHGWZ_xicWqlGeKkEbk3zQDKAUIc-1753551183-1.0.1.1-zj.Bt.osDQCdPtLauu_QHmZeKqK4Sodb9AUojsFYXdOUvVMpIe.evQ5v.v.uq1CJBdtXoP1ADnJUYsS4jw_W7PlRX4fB.ekgPCfIN4QwvQI; path=/; expires=Sat, 26-Jul-25 18:03:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=3tRvNyqTU6W4TA01Ou.NKKWnUqB6BA573UDzOXiUJjc-1753551183978-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9655a3d23a68af34-ORD'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 17:33:03,987 - openai._base_client - DEBUG - request_id: req_9c0485ebb6056fbcf373b9c4d30e9d31
2025-07-26 17:33:03,987 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:33:06,063 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:33:06,063 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:33:06,063 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:33:06,077 - claude_service - INFO - Génération ea8b1685-8a21-424c-9ebb-ff2a9927cb1e terminée avec succès
2025-07-26 17:33:06,094 - routes - INFO - Stream terminé pour ea8b1685-8a21-424c-9ebb-ff2a9927cb1e: completed
2025-07-26 17:35:40,851 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:35:40,861 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:35:41,029 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:35:41,039 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:35:41,377 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:35:41,388 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:36:50,870 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:36:50,881 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:36:50,986 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:36:50,994 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:36:51,226 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:36:51,234 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:37:41,903 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:37:41,915 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:37:42,551 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:37:42,563 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:37:42,648 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:37:42,657 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:38:11,433 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:38:11,451 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:38:22,789 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:38:22,797 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:42:52,609 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:42:52,624 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:43:28,538 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-a2ac4cea-a12d-4df5-8006-879f63cc3d13', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'tt'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 17:43:28,545 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 17:43:28,546 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:43:28,573 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f60c9726410>
2025-07-26 17:43:28,574 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f60ca1ad1c0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 17:43:28,589 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f60ca0aa7d0>
2025-07-26 17:43:28,589 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:43:28,590 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:43:28,590 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:43:28,590 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:43:28,590 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:43:29,584 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:43:29 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T17:43:28Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T17:43:28Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T17:43:28Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T17:43:28Z'), (b'request-id', b'req_011CRW3YAM58HbFJjoKjKKLN'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9655b313bf72f824-ORD')])
2025-07-26 17:43:29,585 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 17:43:29,585 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 17:43:29 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T17:43:28Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T17:43:28Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T17:43:28Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T17:43:28Z', 'request-id': 'req_011CRW3YAM58HbFJjoKjKKLN', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9655b313bf72f824-ORD'})
2025-07-26 17:43:29,585 - anthropic._base_client - DEBUG - request_id: req_011CRW3YAM58HbFJjoKjKKLN
2025-07-26 17:43:29,586 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:43:30,731 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:43:30,732 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:43:30,732 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:43:30,744 - claude_service - INFO - Génération 5a1bf44f-4481-474a-96af-5f91977ebcb9 terminée avec succès
2025-07-26 17:43:30,855 - routes - INFO - Stream terminé pour 5a1bf44f-4481-474a-96af-5f91977ebcb9: completed
2025-07-26 17:47:26,682 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:47:26,684 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:47:26,684 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:47:26,695 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:47:26,695 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:47:26,696 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:48:34,905 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:48:34,918 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:48:34,998 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:48:35,001 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:48:35,007 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:48:35,011 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:48:38,405 - routes - ERROR - Erreur dashboard: Could not build url for endpoint 'costs'. Did you mean 'prompts' instead?
2025-07-26 17:48:38,405 - app - ERROR - Exception on /dashboard [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/routes.py", line 66, in dashboard
    return render_template('dashboard.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 58, in top-level template code
    <a class="nav-link {% if request.endpoint == 'costs' %}active{% endif %}" href="{{ url_for('costs') }}">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'costs'. Did you mean 'prompts' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 24, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 75, in dashboard
    return render_template('dashboard.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 58, in top-level template code
    <a class="nav-link {% if request.endpoint == 'costs' %}active{% endif %}" href="{{ url_for('costs') }}">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'costs'. Did you mean 'prompts' instead?
2025-07-26 17:48:38,409 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 17:49:00,132 - routes - ERROR - Erreur dashboard: Could not build url for endpoint 'costs'. Did you mean 'prompts' instead?
2025-07-26 17:49:00,132 - app - ERROR - Exception on /dashboard [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/routes.py", line 66, in dashboard
    return render_template('dashboard.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 58, in top-level template code
    <a class="nav-link {% if request.endpoint == 'costs' %}active{% endif %}" href="{{ url_for('costs') }}">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'costs'. Did you mean 'prompts' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 24, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 75, in dashboard
    return render_template('dashboard.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 58, in top-level template code
    <a class="nav-link {% if request.endpoint == 'costs' %}active{% endif %}" href="{{ url_for('costs') }}">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'costs'. Did you mean 'prompts' instead?
2025-07-26 17:49:00,137 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 17:49:04,936 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:49:04,947 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:49:05,056 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:49:05,069 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:49:05,098 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:49:05,107 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:49:22,675 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:49:22,691 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:49:22,840 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:49:22,848 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:49:22,867 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:49:22,878 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:49:24,354 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:49:24,371 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:50:48,070 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-a7a9f607-7d8a-449b-94b0-fe4315980f3a', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 17:50:48,080 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 17:50:48,080 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:50:48,105 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f9aa8230a10>
2025-07-26 17:50:48,105 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f9aa8c91eb0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 17:50:48,120 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f9aa821fbd0>
2025-07-26 17:50:48,120 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:50:48,121 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:50:48,121 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:50:48,122 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:50:48,122 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:50:49,038 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:50:49 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T17:50:48Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T17:50:48Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T17:50:48Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T17:50:48Z'), (b'request-id', b'req_011CRW46ZXjHQsi66L6Hzn4K'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9655bdceccdcfa17-ORD')])
2025-07-26 17:50:49,039 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 17:50:49,039 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 17:50:49 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T17:50:48Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T17:50:48Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T17:50:48Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T17:50:48Z', 'request-id': 'req_011CRW46ZXjHQsi66L6Hzn4K', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9655bdceccdcfa17-ORD'})
2025-07-26 17:50:49,039 - anthropic._base_client - DEBUG - request_id: req_011CRW46ZXjHQsi66L6Hzn4K
2025-07-26 17:50:49,040 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:50:49,530 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:50:49,530 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:50:49,531 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:50:49,550 - claude_service - INFO - Génération c6506343-e9a2-4c8a-b5e2-57d4062b9fd1 terminée avec succès
2025-07-26 17:50:49,567 - routes - INFO - Stream terminé pour c6506343-e9a2-4c8a-b5e2-57d4062b9fd1: completed
2025-07-26 17:51:22,510 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:51:22,521 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:51:22,523 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:51:22,559 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:51:22,857 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:51:22,868 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:51:27,802 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:51:27,817 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:51:28,626 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:51:28,640 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:51:28,789 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:51:28,802 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:51:30,067 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:51:30,078 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:51:34,716 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 17:51:34,726 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 17:52:15,731 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-fbfd483e-5814-4dac-a33a-be739363b511', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Site web html'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 17:52:15,737 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 17:52:15,737 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 17:52:15,764 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd2d0b5ba50>
2025-07-26 17:52:15,764 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd2d0c91eb0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 17:52:15,779 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd2d0bd2fd0>
2025-07-26 17:52:15,780 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 17:52:15,780 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 17:52:15,780 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 17:52:15,781 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 17:52:15,781 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 17:52:16,649 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 17:52:16 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T17:52:15Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T17:52:15Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T17:52:15Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T17:52:15Z'), (b'request-id', b'req_011CRW4D2MSWEt3Lfz8yug1S'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9655bff2aba0111a-ORD')])
2025-07-26 17:52:16,650 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 17:52:16,650 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 17:52:16 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T17:52:15Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T17:52:15Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T17:52:15Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T17:52:15Z', 'request-id': 'req_011CRW4D2MSWEt3Lfz8yug1S', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9655bff2aba0111a-ORD'})
2025-07-26 17:52:16,650 - anthropic._base_client - DEBUG - request_id: req_011CRW4D2MSWEt3Lfz8yug1S
2025-07-26 17:52:16,651 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 17:52:43,840 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 17:52:43,840 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 17:52:43,840 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 17:52:43,871 - claude_service - INFO - Coût enregistré pour 3c7d2107-dc13-414c-84be-fd256158ad53: $0.013422 (claude-sonnet-4-20250514)
2025-07-26 17:52:43,871 - claude_service - INFO - Génération 3c7d2107-dc13-414c-84be-fd256158ad53 terminée avec succès
2025-07-26 17:52:43,876 - routes - INFO - Stream terminé pour 3c7d2107-dc13-414c-84be-fd256158ad53: completed
2025-07-26 18:00:38,563 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:00:38,571 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:00:38,988 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:00:38,998 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:00:39,182 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:00:39,190 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:01:46,288 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:01:46,317 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:01:46,451 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:01:46,460 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:01:46,753 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:01:46,766 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:01:49,874 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:01:49,882 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:02:08,125 - routes - ERROR - Erreur playground: No filter named 'tojsonfilter'.
2025-07-26 18:02:24,109 - routes - ERROR - Erreur playground: No filter named 'tojsonfilter'.
2025-07-26 18:02:51,534 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:02:51,547 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:02:51,548 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:02:51,560 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:02:51,952 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:02:51,966 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:03:09,288 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:03:09,303 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:03:09,589 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:03:09,601 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:03:09,654 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:03:09,664 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:03:13,573 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:03:13,598 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:03:13,802 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:03:13,813 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:03:14,288 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:03:14,299 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:04:18,482 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:04:18,496 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:04:18,844 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:04:18,857 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:04:18,971 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:04:18,981 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:07:06,931 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:07:06,942 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:07:50,732 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:07:50,744 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:08:49,790 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-f2f26755-cfda-4e78-a824-5786d8df2e22', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Code python jeux de tic tac toe'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 18:08:49,797 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 18:08:49,798 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 18:08:49,824 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd4e6edde50>
2025-07-26 18:08:49,824 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd4e6f8deb0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 18:08:49,840 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd4e6e79e90>
2025-07-26 18:08:49,840 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 18:08:49,841 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 18:08:49,841 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 18:08:49,841 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 18:08:49,842 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 18:08:50,870 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 18:08:50 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-RAY', b'9655d8378e32f159-ORD'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T18:08:49Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T18:08:49Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T18:08:49Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T18:08:49Z'), (b'request-id', b'req_011CRW5UJM9e28zBS8ceX9Si'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare')])
2025-07-26 18:08:50,872 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 18:08:50,872 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 18:08:50 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-ray': '9655d8378e32f159-ORD', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T18:08:49Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T18:08:49Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T18:08:49Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T18:08:49Z', 'request-id': 'req_011CRW5UJM9e28zBS8ceX9Si', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare'})
2025-07-26 18:08:50,872 - anthropic._base_client - DEBUG - request_id: req_011CRW5UJM9e28zBS8ceX9Si
2025-07-26 18:08:50,873 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 18:09:14,805 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 18:09:14,805 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 18:09:14,806 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 18:09:14,872 - claude_service - INFO - Coût enregistré pour d9a91705-22ed-402e-b641-ab9a71fb2b9a: $0.014472 (claude-sonnet-4-20250514)
2025-07-26 18:09:14,872 - claude_service - INFO - Génération d9a91705-22ed-402e-b641-ab9a71fb2b9a terminée avec succès
2025-07-26 18:09:14,884 - routes - INFO - Stream terminé pour d9a91705-22ed-402e-b641-ab9a71fb2b9a: completed
2025-07-26 18:11:34,826 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:11:34,835 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:12:51,722 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:12:51,731 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:13:22,805 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:13:22,815 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:38:20,320 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:38:20,329 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:38:20,335 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:38:20,345 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:38:20,346 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:38:20,357 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:38:20,357 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:38:20,368 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:38:27,534 - database - ERROR - Erreur récupération statistiques: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT count(*) AS count_1 
FROM (SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:38:27,536 - database - ERROR - Erreur récupération générations actives: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status = ? ORDER BY generations.timestamp DESC]
[parameters: ('generating',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:38:27,537 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:38:31,061 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 100, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:38:35,836 - database - ERROR - Erreur récupération statistiques: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT count(*) AS count_1 
FROM (SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:38:35,842 - database - ERROR - Erreur récupération générations actives: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status = ? ORDER BY generations.timestamp DESC]
[parameters: ('generating',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:38:35,843 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:38:42,520 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:38:42,557 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:38:42,615 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:38:42,633 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:38:42,687 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:38:42,702 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:38:42,759 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:38:42,771 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:38:53,427 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:38:53,447 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:05,664 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:05,691 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:05,754 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:05,754 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:05,766 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:05,772 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:05,858 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:05,867 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:21,389 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:21,402 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:21,510 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:21,522 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:21,522 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:21,530 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:21,580 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:21,589 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:28,937 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:28,951 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:29,116 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:29,126 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:29,138 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:29,149 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:29,203 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:39:29,213 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:39:30,613 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:30,618 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:30,621 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-64eead2b-b101-4a23-934c-4aae1e7867f6', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Code python jeux tic tac toe'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 18:39:30,643 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 18:39:30,644 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 18:39:30,675 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f18b939f590>
2025-07-26 18:39:30,675 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f18b93315b0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 18:39:30,692 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f18b8a1afd0>
2025-07-26 18:39:30,692 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 18:39:30,692 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 18:39:30,693 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 18:39:30,693 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 18:39:30,693 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 18:39:30,833 - database - ERROR - Erreur récupération génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:31,643 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 18:39:31 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T18:39:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T18:39:30Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T18:39:30Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T18:39:30Z'), (b'request-id', b'req_011CRW7oznm7JNdppw836C3t'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96560528d99361e4-ORD')])
2025-07-26 18:39:31,644 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 18:39:31,645 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 18:39:31 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T18:39:30Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T18:39:30Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T18:39:30Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T18:39:30Z', 'request-id': 'req_011CRW7oznm7JNdppw836C3t', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96560528d99361e4-ORD'})
2025-07-26 18:39:31,645 - anthropic._base_client - DEBUG - request_id: req_011CRW7oznm7JNdppw836C3t
2025-07-26 18:39:31,645 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 18:39:31,694 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:31,812 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:31,869 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:31,983 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:32,041 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:32,143 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:32,261 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:32,333 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:32,431 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:32,604 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:32,725 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:32,774 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:32,832 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:32,885 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:33,102 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:33,257 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:33,396 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:33,975 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:33,992 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,009 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,026 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,041 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,058 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,178 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,378 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,394 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,504 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,621 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,791 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:34,963 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:35,038 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:35,123 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:35,171 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:35,231 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:35,347 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:35,400 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:35,512 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:35,628 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:35,865 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:35,980 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,021 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,132 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,186 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,315 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,478 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,494 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,521 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,693 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,748 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,871 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,914 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:36,980 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:37,085 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:37,193 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:37,329 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:37,510 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:37,529 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:37,692 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:37,806 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,035 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,153 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,262 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,322 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,382 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,433 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,488 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,606 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,713 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,765 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,873 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,890 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:38,955 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:39,009 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:39,070 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:39,173 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:39,300 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:39,354 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:39,574 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:39,766 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:39,791 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:39,901 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:40,243 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:40,347 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:40,403 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:40,515 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:40,569 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:40,917 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:41,020 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:41,133 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:41,421 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:41,467 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:41,525 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:41,578 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:41,688 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:41,801 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:42,134 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:42,559 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:42,608 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:42,622 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:42,639 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:42,659 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:42,699 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:42,807 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:42,879 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:43,030 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:43,255 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:43,309 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:43,480 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:43,653 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:43,760 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:43,811 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:43,867 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:43,929 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,040 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,147 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,198 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,268 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,325 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,440 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,489 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,651 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,819 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,926 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:44,981 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:45,041 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:45,153 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:45,374 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:45,595 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:45,702 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:45,867 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:46,038 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:46,153 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:46,259 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:46,314 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:46,430 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:46,485 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:46,592 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:46,706 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:46,826 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:47,090 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:47,293 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:47,368 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:47,480 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:47,536 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:47,699 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:47,820 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:47,873 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:47,986 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,204 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,313 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,369 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,434 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,483 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,539 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,592 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,648 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,770 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,814 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,872 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,921 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:48,980 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,089 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,168 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,199 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,267 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,316 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,373 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,500 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,533 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,589 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,641 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,758 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,813 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:49,873 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,001 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,034 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,144 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,205 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,257 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,310 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,366 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,418 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,483 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,537 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,644 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:50,977 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:51,033 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:51,205 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:51,327 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:51,434 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:51,539 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:51,649 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:51,761 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:51,875 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:51,947 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,063 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,234 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,249 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,264 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,388 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,541 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,598 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,717 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,772 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,825 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,885 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:52,937 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,000 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,170 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,233 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,393 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,454 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,501 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,560 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,623 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,676 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,739 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:53,845 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,013 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,126 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,236 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,289 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,351 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,411 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,515 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,624 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,739 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,797 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,850 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:54,963 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,015 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,079 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,130 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,250 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,305 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,358 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,467 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,543 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,634 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,695 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,799 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,864 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,914 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:55,968 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:56,027 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:56,080 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:56,148 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:56,370 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:56,640 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:56,759 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:56,818 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:56,919 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:57,105 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:57,720 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:57,725 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 18:39:57,726 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 18:39:57,726 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 18:39:57,727 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:57,728 - database - ERROR - Erreur récupération génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('6920609f-fb0f-4109-8ee4-24a3b9cdaa4d', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:39:57,728 - claude_service - INFO - Génération 6920609f-fb0f-4109-8ee4-24a3b9cdaa4d terminée avec succès
2025-07-26 18:40:06,399 - database - ERROR - Erreur récupération statistiques: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT count(*) AS count_1 
FROM (SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:06,401 - database - ERROR - Erreur récupération générations actives: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status = ? ORDER BY generations.timestamp DESC]
[parameters: ('generating',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:06,403 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:09,445 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 100, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:18,544 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:18,547 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:18,550 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c35a4141-bbfd-41aa-8e0f-a2e56d4cab2f', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 18:40:18,557 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 18:40:18,558 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 18:40:18,583 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8038cb3150>
2025-07-26 18:40:18,583 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f8038c215b0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 18:40:18,601 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f803833d990>
2025-07-26 18:40:18,601 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 18:40:18,602 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 18:40:18,602 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 18:40:18,603 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 18:40:18,603 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 18:40:18,752 - database - ERROR - Erreur récupération génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:19,558 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 18:40:19 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T18:40:18Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T18:40:18Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T18:40:18Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T18:40:18Z'), (b'request-id', b'req_011CRW7sXczAPCunEGzPqK1P'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965606544ccd104e-ORD')])
2025-07-26 18:40:19,559 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 18:40:19,559 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 18:40:19 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T18:40:18Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T18:40:18Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T18:40:18Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T18:40:18Z', 'request-id': 'req_011CRW7sXczAPCunEGzPqK1P', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '965606544ccd104e-ORD'})
2025-07-26 18:40:19,560 - anthropic._base_client - DEBUG - request_id: req_011CRW7sXczAPCunEGzPqK1P
2025-07-26 18:40:19,560 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 18:40:19,615 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:19,694 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:19,790 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:19,904 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:20,066 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:20,354 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:20,402 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:20,407 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 18:40:20,408 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 18:40:20,408 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 18:40:20,409 - database - ERROR - Erreur sauvegarde génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:20,410 - database - ERROR - Erreur récupération génération: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('c43950ba-ddb8-425d-acc5-2fda15635fe2', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:40:20,410 - claude_service - INFO - Génération c43950ba-ddb8-425d-acc5-2fda15635fe2 terminée avec succès
2025-07-26 18:40:32,508 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:40:32,519 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:41:30,033 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-44cc3b99-4aad-401d-b6e9-5964e9038349', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'Allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 18:41:30,040 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 18:41:30,041 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 18:41:30,056 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f1c58ac8850>
2025-07-26 18:41:30,056 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f1c58bc4f80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 18:41:30,070 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f1c58ae6310>
2025-07-26 18:41:30,071 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 18:41:30,071 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 18:41:30,071 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 18:41:30,071 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 18:41:30,071 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 18:41:31,114 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 18:41:31 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-RAY', b'96560812fe64e894-ORD'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T18:41:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T18:41:30Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T18:41:30Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T18:41:30Z'), (b'request-id', b'req_011CRW7xoCFgPvzLasgHA4nJ'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare')])
2025-07-26 18:41:31,115 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 18:41:31,115 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 18:41:31 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-ray': '96560812fe64e894-ORD', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T18:41:30Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T18:41:30Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T18:41:30Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T18:41:30Z', 'request-id': 'req_011CRW7xoCFgPvzLasgHA4nJ', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare'})
2025-07-26 18:41:31,116 - anthropic._base_client - DEBUG - request_id: req_011CRW7xoCFgPvzLasgHA4nJ
2025-07-26 18:41:31,116 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 18:41:32,747 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 18:41:32,748 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 18:41:32,748 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 18:41:33,068 - claude_service - INFO - Coût enregistré pour 73780b4b-4491-474a-ae27-b1cba9c7579b: $0.000484 (claude-sonnet-4-20250514)
2025-07-26 18:41:33,069 - claude_service - INFO - Génération 73780b4b-4491-474a-ae27-b1cba9c7579b terminée avec succès
2025-07-26 18:41:33,091 - routes - INFO - Stream terminé pour 73780b4b-4491-474a-ae27-b1cba9c7579b: completed
2025-07-26 18:41:37,745 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 100, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:41:46,560 - database - ERROR - Erreur génération token partage: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('73780b4b-4491-474a-ae27-b1cba9c7579b', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:41:52,811 - database - ERROR - Erreur génération token partage: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('73780b4b-4491-474a-ae27-b1cba9c7579b', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:41:59,254 - database - ERROR - Erreur récupération statistiques: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT count(*) AS count_1 
FROM (SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:41:59,258 - database - ERROR - Erreur récupération générations actives: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status = ? ORDER BY generations.timestamp DESC]
[parameters: ('generating',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:41:59,259 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:42:00,057 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:42:00,069 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:42:12,993 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 100, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:42:13,912 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 100, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:42:16,853 - database - ERROR - Erreur génération token partage: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('73780b4b-4491-474a-ae27-b1cba9c7579b', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:42:37,750 - database - ERROR - Erreur génération token partage: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('73780b4b-4491-474a-ae27-b1cba9c7579b', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:43:17,729 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 18:43:17,740 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 18:45:03,397 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 100, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:45:28,818 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 100, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:45:40,220 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:45:40,234 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:45:40,326 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:45:40,338 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:45:40,359 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:45:40,370 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:45:40,611 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:45:40,620 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:45:44,101 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:45:44,116 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:45:44,536 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:45:44,545 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:45:44,893 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:45:44,902 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:45:44,928 - database - ERROR - Erreur récupération génération par token: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.share_token = ?
 LIMIT ? OFFSET ?]
[parameters: ('tVLT_fxQ_8q9d539kBcO5w3k9oZi-2LQ', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:46:07,773 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 100, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:46:36,635 - database - ERROR - Erreur récupération statistiques: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT count(*) AS count_1 
FROM (SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:46:36,637 - database - ERROR - Erreur récupération générations actives: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status = ? ORDER BY generations.timestamp DESC]
[parameters: ('generating',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:46:36,638 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:46:45,682 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:46:45,687 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:46:45,691 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:46:45,698 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:46:45,703 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:46:45,715 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:46:45,773 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:46:45,782 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:47:49,892 - database - ERROR - Erreur récupération statistiques: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT count(*) AS count_1 
FROM (SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:47:49,894 - database - ERROR - Erreur récupération générations actives: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status = ? ORDER BY generations.timestamp DESC]
[parameters: ('generating',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:47:49,896 - database - ERROR - Erreur récupération historique: (sqlite3.OperationalError) no such column: generations.share_token
[SQL: SELECT generations.id AS generations_id, generations.prompt AS generations_prompt, generations.response AS generations_response, generations.status AS generations_status, generations.timestamp AS generations_timestamp, generations.created_at AS generations_created_at, generations.started_at AS generations_started_at, generations.completed_at AS generations_completed_at, generations.token_count AS generations_token_count, generations.progress AS generations_progress, generations.txt_file AS generations_txt_file, generations.md_file AS generations_md_file, generations.error_message AS generations_error_message, generations.prompt_hash AS generations_prompt_hash, generations.model_used AS generations_model_used, generations.is_persistent AS generations_is_persistent, generations.share_token AS generations_share_token 
FROM generations 
WHERE generations.status IN (?, ?) ORDER BY generations.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: ('completed', 'error', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-26 18:47:53,286 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:47:53,294 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:48:51,299 - routes - ERROR - Erreur génération PDF: cannot load library 'libpango-1.0-0': libpango-1.0-0: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libpango-1.0-0'
2025-07-26 18:49:14,274 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:49:14,282 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:51:53,990 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:51:54,040 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:51:54,156 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:51:54,165 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:51:54,170 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:51:54,191 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:51:54,427 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:51:54,436 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:51:58,618 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 18:51:58,627 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 18:51:58,631 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 18:51:59,605 - routes - WARNING - WeasyPrint échoué: cannot load library 'libpango-1.0-0': libpango-1.0-0: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libpango-1.0-0', essai avec xhtml2pdf
2025-07-26 18:52:02,009 - xhtml2pdf.document - DEBUG - pisaDocument options:
  src = '<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="UTF-8">\n    <title>Génération AI Playground</title>\n    <style>\n        body { font-family: Arial; font-size: 12px; margin: 2cm; }\n        .header { border-bottom: 2px solid #007bff; padding-bottom: 10px; margin-bottom: 20px; }\n        .section { margin: 20px 0; }\n        .prompt { background: #f5f5f5; padding: 10px; margin: 10px 0; }\n        pre { background: #f5f5f5; padding: 10px; white-space: pre-wrap; }\n    </style>\n</head>\n<body>\n    <div class="header">\n        <h1>AI Playground - Génération</h1>\n        <p>Modèle: claude-sonnet-4-20250514 | Date: 26/07/2025 18:41 | Tokens: 32</p>\n    </div>\n    <div class="section">\n        <h2>Prompt</h2>\n        <div class="prompt">Allo</div>\n    </div>\n    <div class="section">\n        <h2>Réponse</h2>\n        <div>Bonjour ! Comment allez-vous ? Je peux vous aider en français si vous préférez, ou dans d\'autres langues. Que puis-je faire pour vous aujourd\'hui ?</div>\n    </div>\n</body>\n</html>'
  dest = <_io.BytesIO object at 0x7f1c58a81760>
  path = ''
  link_callback = None
  xhtml = False
  context_meta = None
2025-07-26 18:52:23,896 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:52:23,918 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:52:24,242 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:52:24,251 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:52:24,339 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:52:24,360 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:52:24,538 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:52:24,550 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 18:52:25,468 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 18:52:25,481 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 18:52:25,482 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 18:52:26,243 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 18:52:26,244 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 18:52:26,244 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 18:52:27,045 - routes - WARNING - WeasyPrint échoué: cannot load library 'libpango-1.0-0': libpango-1.0-0: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libpango-1.0-0', essai avec xhtml2pdf
2025-07-26 18:52:27,623 - xhtml2pdf.document - DEBUG - pisaDocument options:
  src = '<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="UTF-8">\n    <title>Génération AI Playground</title>\n    <style>\n        body { font-family: Arial; font-size: 12px; margin: 2cm; }\n        .header { border-bottom: 2px solid #007bff; padding-bottom: 10px; margin-bottom: 20px; }\n        .section { margin: 20px 0; }\n        .prompt { background: #f5f5f5; padding: 10px; margin: 10px 0; }\n        pre { background: #f5f5f5; padding: 10px; white-space: pre-wrap; }\n    </style>\n</head>\n<body>\n    <div class="header">\n        <h1>AI Playground - Génération</h1>\n        <p>Modèle: claude-sonnet-4-20250514 | Date: 26/07/2025 18:41 | Tokens: 32</p>\n    </div>\n    <div class="section">\n        <h2>Prompt</h2>\n        <div class="prompt">Allo</div>\n    </div>\n    <div class="section">\n        <h2>Réponse</h2>\n        <div>Bonjour ! Comment allez-vous ? Je peux vous aider en français si vous préférez, ou dans d\'autres langues. Que puis-je faire pour vous aujourd\'hui ?</div>\n    </div>\n</body>\n</html>'
  dest = <_io.BytesIO object at 0x7f0f4389dda0>
  path = ''
  link_callback = None
  xhtml = False
  context_meta = None
2025-07-26 18:52:30,274 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 18:52:30,282 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:01:59,661 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 19:01:59,666 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 19:01:59,672 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 19:02:28,906 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:02:28,918 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:05:01,892 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:05:01,902 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:05:01,929 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:05:01,942 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:05:01,967 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:05:01,976 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:05:01,995 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:05:02,005 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:05:03,463 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 19:05:03,470 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 19:05:03,473 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 19:05:18,708 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 19:05:18,713 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 19:05:18,714 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 19:05:40,046 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 19:05:40,052 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 19:05:40,054 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 19:05:42,524 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 19:05:42,529 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 19:05:42,529 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 19:05:47,642 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:05:47,652 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:05:51,523 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 19:05:51,529 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 19:05:51,530 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 19:10:35,874 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:10:35,884 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:12:26,973 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:12:26,985 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:19:48,778 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:19:48,788 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:22:14,064 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 19:22:14,068 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 19:22:14,069 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 19:22:17,935 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 19:22:17,940 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 19:22:17,941 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 19:22:20,291 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
2025-07-26 19:22:20,295 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
2025-07-26 19:22:20,295 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
2025-07-26 19:31:01,711 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:01,724 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:24,450 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:24,461 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:25,042 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:25,058 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:25,092 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:25,104 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:25,215 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:25,226 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:33,787 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:33,819 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:34,132 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:34,143 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:34,154 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:34,165 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:34,291 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:34,301 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:37,613 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:37,629 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:37,629 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:31:37,783 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:37,799 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:37,799 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:31:37,944 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:37,954 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:37,965 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:31:38,353 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:38,363 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:38,363 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:31:43,052 - app - ERROR - Exception on /generator [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 27, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 89, in generator
    return render_template('generator.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/generator.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 98, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/generator.html", line 93, in block 'content'
    ({{ model_info.max_output_tokens|int // 1000 }}K tokens max)
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/filters.py", line 998, in do_int
    return int(value)
           ^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'max_output_tokens'
2025-07-26 19:31:43,055 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 19:31:48,995 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:49,033 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:49,035 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:31:49,361 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:49,375 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:49,376 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:31:49,465 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:49,473 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:49,482 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:31:49,761 - app - ERROR - Exception on /generator [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 27, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 89, in generator
    return render_template('generator.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/generator.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 98, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/generator.html", line 93, in block 'content'
    ({{ model_info.max_output_tokens|int // 1000 }}K tokens max)
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/filters.py", line 998, in do_int
    return int(value)
           ^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'max_output_tokens'
2025-07-26 19:31:49,764 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 19:31:49,854 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:31:49,862 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:31:49,862 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:31:59,764 - app - ERROR - Exception on /generator [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 27, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 89, in generator
    return render_template('generator.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/generator.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 98, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/generator.html", line 93, in block 'content'
    ({{ model_info.max_output_tokens|int // 1000 }}K tokens max)
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/filters.py", line 998, in do_int
    return int(value)
           ^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'max_output_tokens'
2025-07-26 19:31:59,767 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 19:35:39,703 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:35:39,780 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:35:40,354 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:35:40,360 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:35:40,360 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:35:40,368 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:35:40,404 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:35:40,691 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:35:40,933 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:35:40,934 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:35:41,185 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:35:41,196 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:35:50,840 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:35:51,208 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:35:51,217 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:36:09,561 - routes - ERROR - Erreur API génération: 'ClaudeService' object has no attribute 'generate_text'
2025-07-26 19:37:38,580 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:38,944 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:38,971 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:39,103 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:39,104 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:37:39,217 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:39,379 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:39,388 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:39,398 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:39,408 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:39,571 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:39,579 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:41,896 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:42,532 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:42,562 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:42,562 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:37:42,591 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:42,634 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:43,091 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:43,102 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:43,166 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:43,167 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:43,195 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:43,206 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:46,080 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:46,233 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:46,360 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:46,731 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:46,746 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:46,934 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:46,947 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:46,967 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:46,993 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:47,068 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:47,461 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:47,461 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:37:56,169 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:56,810 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:56,811 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:37:56,929 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:57,154 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:57,309 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:37:57,503 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:57,512 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:57,667 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:57,677 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:37:57,747 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:37:57,761 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:00,356 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:00,603 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:00,859 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:00,993 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:01,014 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:01,029 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:01,153 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:01,167 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:01,395 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:01,408 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:01,498 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:01,498 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:38:03,850 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:04,346 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:04,512 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:04,524 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:04,649 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:04,877 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:04,896 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:04,924 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:05,066 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:05,075 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:05,336 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:05,336 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:38:07,674 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:08,027 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:08,346 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:08,371 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:08,444 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:08,672 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:08,695 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:08,740 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:08,924 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:08,925 - claude_service - WARNING - XAI_API_KEY non définie
2025-07-26 19:38:09,094 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:09,105 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:19,694 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:38:20,117 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:38:20,133 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:38:28,585 - routes - ERROR - Erreur API génération: 'ClaudeService' object has no attribute 'generate_text'
2025-07-26 19:38:49,656 - routes - ERROR - Erreur API génération: 'ClaudeService' object has no attribute 'generate_text'
2025-07-26 19:39:18,470 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:39:18,622 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:39:19,247 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:39:19,265 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:39:19,273 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:39:19,335 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:39:19,351 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:39:19,736 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:39:19,755 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:39:19,766 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:39:20,261 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:39:20,276 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:39:29,158 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:39:29,496 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:39:29,544 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:39:29,752 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:39:29,766 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:39:29,941 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:39:30,098 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:39:30,100 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:39:30,111 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:39:30,113 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:39:30,402 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:39:30,409 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:39:31,410 - routes - ERROR - Erreur stream: 'DatabaseManager' object has no attribute 'get_generation'
2025-07-26 19:39:31,417 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-6a06352f-b1d1-4f63-a37f-ff7ec72f8007', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 19:39:31,425 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 19:39:31,426 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:39:31,459 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7eff836b6250>
2025-07-26 19:39:31,459 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7eff83dbf4a0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 19:39:31,474 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7eff83640450>
2025-07-26 19:39:31,474 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:39:31,475 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:39:31,475 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:39:31,476 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:39:31,476 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:39:32,790 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:39:32 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T19:39:31Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T19:39:31Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T19:39:31Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T19:39:31Z'), (b'request-id', b'req_011CRWCPRh6cBGYxyMD4UtGA'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96565d11c8b9f60c-ORD')])
2025-07-26 19:39:32,791 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 19:39:32,791 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:39:32 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T19:39:31Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T19:39:31Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T19:39:31Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T19:39:31Z', 'request-id': 'req_011CRWCPRh6cBGYxyMD4UtGA', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96565d11c8b9f60c-ORD'})
2025-07-26 19:39:32,792 - anthropic._base_client - DEBUG - request_id: req_011CRWCPRh6cBGYxyMD4UtGA
2025-07-26 19:39:32,792 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:39:33,065 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:39:33,406 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:39:33,406 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:39:33,406 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:39:33,498 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:39:33,517 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:39:54,563 - routes - ERROR - Erreur stream: 'DatabaseManager' object has no attribute 'get_generation'
2025-07-26 19:39:54,575 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-15ef2f7d-8667-4296-bb50-0e9109a66b5d', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 19:39:54,590 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 19:39:54,591 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:39:54,616 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fde87dbd850>
2025-07-26 19:39:54,616 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fde889db4a0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 19:39:54,634 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fde8740a690>
2025-07-26 19:39:54,634 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:39:54,635 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:39:54,635 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:39:54,635 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:39:54,635 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:39:55,645 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:39:55 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-RAY', b'96565da27da910ec-ORD'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T19:39:54Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T19:39:54Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T19:39:54Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T19:39:54Z'), (b'request-id', b'req_011CRWCR8hx2a52EjytbtkNv'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare')])
2025-07-26 19:39:55,646 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 19:39:55,647 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:39:55 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-ray': '96565da27da910ec-ORD', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T19:39:54Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T19:39:54Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T19:39:54Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T19:39:54Z', 'request-id': 'req_011CRWCR8hx2a52EjytbtkNv', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare'})
2025-07-26 19:39:55,647 - anthropic._base_client - DEBUG - request_id: req_011CRWCR8hx2a52EjytbtkNv
2025-07-26 19:39:55,647 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:39:56,484 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:39:56,485 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:39:56,485 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:40:24,637 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:40:24,715 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:40:25,249 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:40:25,262 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:40:25,314 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:40:25,345 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:40:25,359 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:40:25,778 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:40:25,790 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:40:25,816 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:40:26,164 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:40:26,174 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:40:27,943 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:40:28,349 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:40:28,361 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:40:38,592 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:40:38,603 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4e4a54b6-4277-489c-96f3-984de7718a45', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 19:40:38,610 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 19:40:38,610 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:40:38,636 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f5df2efea10>
2025-07-26 19:40:38,636 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f5df35bf5c0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 19:40:38,652 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f5df2efe9d0>
2025-07-26 19:40:38,652 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:40:38,653 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:40:38,653 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:40:38,653 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:40:38,653 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:40:39,521 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:40:39 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T19:40:38Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T19:40:38Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T19:40:38Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T19:40:38Z'), (b'request-id', b'req_011CRWCUNuopdU5inikbCFTf'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96565eb598e4112f-ORD')])
2025-07-26 19:40:39,522 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 19:40:39,522 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:40:39 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T19:40:38Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T19:40:38Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T19:40:38Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T19:40:38Z', 'request-id': 'req_011CRWCUNuopdU5inikbCFTf', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96565eb598e4112f-ORD'})
2025-07-26 19:40:39,522 - anthropic._base_client - DEBUG - request_id: req_011CRWCUNuopdU5inikbCFTf
2025-07-26 19:40:39,522 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:40:40,375 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:40:40,375 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:40:40,375 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:40:51,928 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:40:51,939 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c6277321-04a3-49f9-8607-6da93b586295', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 19:40:51,947 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 19:40:51,947 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:40:51,975 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f85fd258090>
2025-07-26 19:40:51,975 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f85fe7cb5c0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 19:40:51,990 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f85fdbddc90>
2025-07-26 19:40:51,990 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:40:51,991 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:40:51,991 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:40:51,991 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:40:51,991 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:40:52,949 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:40:52 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T19:40:52Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T19:40:52Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T19:40:52Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T19:40:52Z'), (b'request-id', b'req_011CRWCVMuZXAj4jXHrCSJ1H'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96565f08ff0b000f-ORD')])
2025-07-26 19:40:52,951 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 19:40:52,951 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:40:52 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T19:40:52Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T19:40:52Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T19:40:52Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T19:40:52Z', 'request-id': 'req_011CRWCVMuZXAj4jXHrCSJ1H', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96565f08ff0b000f-ORD'})
2025-07-26 19:40:52,951 - anthropic._base_client - DEBUG - request_id: req_011CRWCVMuZXAj4jXHrCSJ1H
2025-07-26 19:40:52,952 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:40:53,546 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:40:53,546 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:40:53,547 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:41:05,362 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:41:05,376 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-261a4123-64c0-47bc-9f30-5a05ac29258f', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 19:41:05,382 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 19:41:05,383 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:41:05,399 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7eff83627f90>
2025-07-26 19:41:05,399 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7eff83dc3650> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 19:41:05,415 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7eff82d11150>
2025-07-26 19:41:05,415 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:41:05,416 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:41:05,416 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:41:05,416 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:41:05,416 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:41:08,282 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:41:08 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T19:41:05Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T19:41:05Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T19:41:05Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T19:41:05Z'), (b'request-id', b'req_011CRWCWMLraDZPATioAKWMo'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96565f5ced8aeb07-ORD')])
2025-07-26 19:41:08,284 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 19:41:08,284 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:41:08 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T19:41:05Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T19:41:05Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T19:41:05Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T19:41:05Z', 'request-id': 'req_011CRWCWMLraDZPATioAKWMo', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96565f5ced8aeb07-ORD'})
2025-07-26 19:41:08,284 - anthropic._base_client - DEBUG - request_id: req_011CRWCWMLraDZPATioAKWMo
2025-07-26 19:41:08,284 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:41:09,151 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:41:09,152 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:41:09,152 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:41:43,271 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:41:43,283 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c842622e-44f4-4338-a728-7e763bc85ad4', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 19:41:43,284 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 19:41:43,284 - httpcore.connection - DEBUG - close.started
2025-07-26 19:41:43,284 - httpcore.connection - DEBUG - close.complete
2025-07-26 19:41:43,284 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:41:43,310 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7eff82d53750>
2025-07-26 19:41:43,310 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7eff83dc3650> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 19:41:43,325 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7eff82dda6d0>
2025-07-26 19:41:43,325 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:41:43,326 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:41:43,326 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:41:43,326 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:41:43,326 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:41:44,770 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:41:44,857 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:41:44,868 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:41:45,401 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:41:45,413 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:41:45,493 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:41:45,522 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:41:45,542 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:41:45,551 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:41:46,074 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:41:46,479 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:41:46,488 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:41:50,601 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:41:50,655 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:41:50,942 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:41:51,406 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:41:51,419 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:41:51,434 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:41:51,456 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:41:51,596 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:41:51,607 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:41:52,007 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:41:52,399 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:41:52,418 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:42:01,823 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:42:02,442 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:42:02,461 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:42:14,448 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:42:14,641 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:42:14,872 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:42:14,944 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:42:15,035 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:42:15,069 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:42:15,305 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:42:15,317 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:42:15,422 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:42:15,434 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:42:15,451 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:42:15,462 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:42:17,271 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:42:17,655 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:42:17,667 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:43:34,707 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:43:35,036 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:43:35,045 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:43:41,818 - claude_service - INFO - Génération 0141fe03-a535-4275-91ff-bf23dafc45f6 créée avec succès
2025-07-26 19:43:42,066 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:42,070 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-7bffbbd3-d584-4641-9b9e-205a4f48ba33', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 19:43:42,078 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 19:43:42,079 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:43:42,094 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd71337f750>
2025-07-26 19:43:42,094 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd713fb3650> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 19:43:42,112 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd717deca10>
2025-07-26 19:43:42,113 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:43:42,114 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:43:42,114 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:43:42,114 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:43:42,114 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:43:42,166 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:42,267 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:42,367 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:42,468 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:42,568 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:42,669 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:42,769 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:42,869 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:42,970 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:43,070 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:43,082 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:43:43 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T19:43:42Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T19:43:42Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T19:43:42Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T19:43:42Z'), (b'request-id', b'req_011CRWChuGY8wK4s1pqDJ7Ty'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656633038f5a242-ORD')])
2025-07-26 19:43:43,083 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 19:43:43,083 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:43:43 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T19:43:42Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T19:43:42Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T19:43:42Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T19:43:42Z', 'request-id': 'req_011CRWChuGY8wK4s1pqDJ7Ty', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656633038f5a242-ORD'})
2025-07-26 19:43:43,083 - anthropic._base_client - DEBUG - request_id: req_011CRWChuGY8wK4s1pqDJ7Ty
2025-07-26 19:43:43,084 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:43:43,170 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:43,271 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:43,371 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:43,471 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:43,572 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:43,672 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:43,773 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:43,873 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:43,917 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:43:43,917 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:43:43,917 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:43:43,975 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:44,075 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:44,175 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:44,276 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:44,376 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:44,477 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:44,577 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:44,677 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:44,778 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:44,878 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:44,979 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:45,079 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:45,180 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:45,281 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:45,381 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:45,481 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:45,582 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:45,682 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:45,784 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:45,894 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:45,995 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:46,095 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:46,195 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:46,296 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:46,396 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:46,497 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:46,597 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:46,697 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:46,798 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:46,898 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:46,999 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:47,099 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:58,695 - claude_service - INFO - Génération c687fc2e-8759-49c3-b307-4df5d43ec3e9 créée avec succès
2025-07-26 19:43:58,939 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:58,951 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c3988278-b0f4-4e76-9e20-ac97f1d7431d', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'yop'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 19:43:58,957 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 19:43:58,958 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:43:58,972 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f047c2e89d0>
2025-07-26 19:43:58,973 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f047c9af650> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 19:43:58,988 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f047c2e8810>
2025-07-26 19:43:58,989 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:43:58,989 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:43:58,990 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:43:58,990 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:43:58,990 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:43:59,039 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:59,140 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:59,240 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:59,341 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:59,441 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:59,541 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:59,642 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:59,742 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:59,843 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:43:59,869 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:43:59 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-RAY', b'96566399ba9234ad-ORD'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T19:43:59Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T19:43:59Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T19:43:59Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T19:43:59Z'), (b'request-id', b'req_011CRWCj9U6NFqrPCrcQiziv'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare')])
2025-07-26 19:43:59,870 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 19:43:59,870 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:43:59 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-ray': '96566399ba9234ad-ORD', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T19:43:59Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T19:43:59Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T19:43:59Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T19:43:59Z', 'request-id': 'req_011CRWCj9U6NFqrPCrcQiziv', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare'})
2025-07-26 19:43:59,870 - anthropic._base_client - DEBUG - request_id: req_011CRWCj9U6NFqrPCrcQiziv
2025-07-26 19:43:59,870 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:43:59,944 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:00,044 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:00,145 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:00,245 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:00,345 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:00,446 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:00,546 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:00,646 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:00,724 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:44:00,725 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:44:00,725 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:44:00,747 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:00,847 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:00,947 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:01,048 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:01,148 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:01,249 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:01,352 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:01,453 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:01,553 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:01,654 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:01,754 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:01,855 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:01,955 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:02,056 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:02,158 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:02,259 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:02,359 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:02,460 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:02,560 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:02,662 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:02,763 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:02,863 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:02,963 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:03,064 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:03,164 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:03,265 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:03,365 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:03,465 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:03,566 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:03,666 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:03,767 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:03,867 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:44:03,967 - database - ERROR - Erreur récupération génération: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-26 19:45:31,925 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:45:32,132 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:45:32,542 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:45:32,557 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:45:32,603 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:45:32,729 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:45:32,738 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:45:32,870 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:45:33,049 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:45:33,063 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:45:33,341 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:45:33,352 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:45:42,470 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:45:42,800 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:45:42,807 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:45:54,692 - claude_service - INFO - Génération 98f5ee4f-19e9-4671-9dc3-4ed242ff1acc créée avec succès
2025-07-26 19:45:54,949 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9f8daf20-2fad-47f2-b837-40ed0315ccc8', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 19:45:54,958 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 19:45:54,959 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:45:54,985 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f029035a690>
2025-07-26 19:45:54,985 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f02913d3650> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 19:45:55,003 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0290358350>
2025-07-26 19:45:55,004 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:45:55,004 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:45:55,005 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:45:55,005 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:45:55,005 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:45:55,901 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:45:55 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T19:45:55Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T19:45:55Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T19:45:55Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T19:45:55Z'), (b'request-id', b'req_011CRWCshRRki9Fv4mXFo2y6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656666ec8e6cc3a-ORD')])
2025-07-26 19:45:55,902 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 19:45:55,902 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:45:55 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T19:45:55Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T19:45:55Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T19:45:55Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T19:45:55Z', 'request-id': 'req_011CRWCshRRki9Fv4mXFo2y6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656666ec8e6cc3a-ORD'})
2025-07-26 19:45:55,902 - anthropic._base_client - DEBUG - request_id: req_011CRWCshRRki9Fv4mXFo2y6
2025-07-26 19:45:55,903 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:45:56,470 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:45:56,470 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:45:56,470 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:45:56,855 - routes - INFO - Stream terminé pour 98f5ee4f-19e9-4671-9dc3-4ed242ff1acc: completed
2025-07-26 19:46:09,438 - claude_service - INFO - Génération 2eb397e9-ae86-480d-a59e-00122b3e501b créée avec succès
2025-07-26 19:46:09,994 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-d5ea8cb4-70f4-4511-9743-5baf3545bcec', 'json_data': {'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'grok-4-latest', 'stream': True, 'temperature': 1.0}}
2025-07-26 19:46:09,995 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 19:46:09,995 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:46:10,022 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f028b519490>
2025-07-26 19:46:10,022 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0290e816d0> server_hostname='api.x.ai' timeout=5.0
2025-07-26 19:46:10,040 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f028b519550>
2025-07-26 19:46:10,041 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:46:10,041 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:46:10,041 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:46:10,041 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:46:10,042 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:46:10,261 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:46:10 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-6040ebc1ccbb70fe31cf89bf21ca601b-58cd00e3004078e0-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=HqsoVPL_QZZPGPkrPaKmp_QGyeZF9rA7b84_XmRaPuk-1753559170-1.0.1.1-UOARTe0Kkm.mQbd2ueOsjC5VOm5yCoUyFUYI81YG8nNf6..KPa59tuTsI1OxNGnzDC6kaZKf.uuWoyRkKt88V2VdiLuqvJ8ocM82KFCUZLQ; path=/; expires=Sat, 26-Jul-25 20:16:10 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965666cccff2e13f-ORD')])
2025-07-26 19:46:10,262 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 19:46:10,262 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:46:10 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'x-zero-data-retention': 'false', 'x-request-id': '00-6040ebc1ccbb70fe31cf89bf21ca601b-58cd00e3004078e0-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=HqsoVPL_QZZPGPkrPaKmp_QGyeZF9rA7b84_XmRaPuk-1753559170-1.0.1.1-UOARTe0Kkm.mQbd2ueOsjC5VOm5yCoUyFUYI81YG8nNf6..KPa59tuTsI1OxNGnzDC6kaZKf.uuWoyRkKt88V2VdiLuqvJ8ocM82KFCUZLQ; path=/; expires=Sat, 26-Jul-25 20:16:10 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '965666cccff2e13f-ORD'})
2025-07-26 19:46:10,262 - openai._base_client - DEBUG - request_id: 00-6040ebc1ccbb70fe31cf89bf21ca601b-58cd00e3004078e0-01
2025-07-26 19:46:10,263 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:46:21,988 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:46:21,989 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:46:21,989 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:46:22,602 - routes - INFO - Stream terminé pour 2eb397e9-ae86-480d-a59e-00122b3e501b: completed
2025-07-26 19:46:44,045 - claude_service - INFO - Génération 1b481a79-f6bc-4f69-9f3f-ac48f5bdf721 créée avec succès
2025-07-26 19:46:44,490 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-69c4a0e3-5e55-4b03-a1ef-71e5f92f6874', 'json_data': {'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'grok-3-fast', 'stream': True, 'temperature': 1.0}}
2025-07-26 19:46:44,501 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 19:46:44,502 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:46:44,530 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd711ea9f90>
2025-07-26 19:46:44,530 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd7135616d0> server_hostname='api.x.ai' timeout=5.0
2025-07-26 19:46:44,547 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd7121cf310>
2025-07-26 19:46:44,547 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:46:44,548 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:46:44,548 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:46:44,548 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:46:44,548 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:46:44,919 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:46:44 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-e8163024bef9f89f24c89cbb60b1b125-7513834c004ec6f7-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=LZy8rdcfrfCAV5tOSRO1qK.eXjTI3hbLQ3XB66fAUa8-1753559204-1.0.1.1-X0BxCgmBCO0TNM.ALx_FZeAQE76hGU6M5ErsemgtK050eufcHjiPprnMGNFqf4UJapZPmTwgOjpdBqYViPPLcjIOHtoN1x_HdZKAtTonZMI; path=/; expires=Sat, 26-Jul-25 20:16:44 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965667a47adee1db-ORD')])
2025-07-26 19:46:44,920 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 19:46:44,920 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:46:44 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'x-zero-data-retention': 'false', 'x-request-id': '00-e8163024bef9f89f24c89cbb60b1b125-7513834c004ec6f7-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=LZy8rdcfrfCAV5tOSRO1qK.eXjTI3hbLQ3XB66fAUa8-1753559204-1.0.1.1-X0BxCgmBCO0TNM.ALx_FZeAQE76hGU6M5ErsemgtK050eufcHjiPprnMGNFqf4UJapZPmTwgOjpdBqYViPPLcjIOHtoN1x_HdZKAtTonZMI; path=/; expires=Sat, 26-Jul-25 20:16:44 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '965667a47adee1db-ORD'})
2025-07-26 19:46:44,920 - openai._base_client - DEBUG - request_id: 00-e8163024bef9f89f24c89cbb60b1b125-7513834c004ec6f7-01
2025-07-26 19:46:44,921 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:46:47,072 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:46:47,072 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:46:47,072 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:46:47,545 - routes - INFO - Stream terminé pour 1b481a79-f6bc-4f69-9f3f-ac48f5bdf721: completed
2025-07-26 19:48:38,744 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:39,713 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:39,727 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:39,808 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:39,920 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:40,322 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:40,448 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:40,462 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:40,478 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:40,512 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:40,828 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:40,842 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:53,634 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:53,686 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:54,063 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:54,152 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:54,310 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:54,323 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:54,352 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:54,367 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:54,600 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:54,609 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:54,643 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:54,655 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:57,308 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:57,511 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:57,877 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:57,900 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:58,114 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:58,128 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:58,556 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:58,558 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:48:59,018 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:59,031 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:48:59,127 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:48:59,138 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:49:01,174 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:49:01,515 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:49:01,523 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:49:43,258 - claude_service - INFO - Génération 9ce931a1-c9f5-44af-8784-9e5ed26bbee1 créée avec succès
2025-07-26 19:49:43,715 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-58961ee0-796d-41ef-b1da-7be79f2c56d4', 'json_data': {'messages': [{'role': 'user', 'content': 'ecris moi un poeme'}], 'model': 'grok-4-latest', 'stream': True, 'temperature': 1.0}}
2025-07-26 19:49:43,723 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 19:49:43,723 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 19:49:43,749 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f047c2817d0>
2025-07-26 19:49:43,749 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f047c4497f0> server_hostname='api.x.ai' timeout=5.0
2025-07-26 19:49:43,767 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f047ad3e1d0>
2025-07-26 19:49:43,767 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 19:49:43,768 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 19:49:43,768 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 19:49:43,768 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 19:49:43,768 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 19:49:44,092 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 19:49:44 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-RAY', b'96566c04987c10bc-ORD'), (b'Cache-Control', b'no-cache'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-6188b5c42e0f57e2d45152d6f5dfec38-fbcef40f004199f2-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Vx9K8R65mGDEXt98Odl.Brh3QS9HsGypBdrWY7twQgI-1753559384-1.0.1.1-kDxGS4gMLQPB73tSdWWT3qXDgfEKbQNQl9yKIKZ.5XR2mMhPA15f31iMuGgVyJyvgwSYUt5SbtSa0WSeg_OpP77XxRdKh2IEn7Nkj9c1i4c; path=/; expires=Sat, 26-Jul-25 20:19:44 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare')])
2025-07-26 19:49:44,096 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 19:49:44,096 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 19:49:44 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-ray': '96566c04987c10bc-ORD', 'cache-control': 'no-cache', 'x-zero-data-retention': 'false', 'x-request-id': '00-6188b5c42e0f57e2d45152d6f5dfec38-fbcef40f004199f2-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=Vx9K8R65mGDEXt98Odl.Brh3QS9HsGypBdrWY7twQgI-1753559384-1.0.1.1-kDxGS4gMLQPB73tSdWWT3qXDgfEKbQNQl9yKIKZ.5XR2mMhPA15f31iMuGgVyJyvgwSYUt5SbtSa0WSeg_OpP77XxRdKh2IEn7Nkj9c1i4c; path=/; expires=Sat, 26-Jul-25 20:19:44 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare'})
2025-07-26 19:49:44,096 - openai._base_client - DEBUG - request_id: 00-6188b5c42e0f57e2d45152d6f5dfec38-fbcef40f004199f2-01
2025-07-26 19:49:44,096 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 19:50:14,508 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:50:14,895 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:50:14,906 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:50:51,554 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 19:50:51,554 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 19:50:51,555 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 19:50:51,831 - claude_service - INFO - Coût enregistré pour 9ce931a1-c9f5-44af-8784-9e5ed26bbee1: $0.0027
2025-07-26 19:53:12,308 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:12,558 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:12,723 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:12,935 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:13,018 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:13,027 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:13,213 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:13,228 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:13,348 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:13,356 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:13,515 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:13,528 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:19,046 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:19,268 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:19,562 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:19,573 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:19,690 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:19,908 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:19,918 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:19,943 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:20,221 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:20,251 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:20,603 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:20,612 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:28,438 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:28,570 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:28,969 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:28,990 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:29,118 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:29,144 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:29,178 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:29,374 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:53:29,548 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:29,561 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:53:29,768 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:53:29,779 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:55:20,547 - database - INFO - Génération 9ce931a1-c9f5-44af-8784-9e5ed26bbee1 supprimée
2025-07-26 19:55:22,750 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:55:23,133 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:55:23,145 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:59:57,196 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:59:57,313 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:59:57,763 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:59:57,780 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:59:57,983 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:59:58,044 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:59:58,054 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:59:58,079 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 19:59:58,473 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:59:58,483 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 19:59:58,571 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 19:59:58,585 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:00:00,655 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:00:01,275 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:00:01,283 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:00:57,837 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:00:58,215 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:00:58,227 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:01:15,715 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-d4464ba3-9f7b-40c9-997a-82d66b019867', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 20:01:15,721 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:01:15,722 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:01:15,771 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa1b3f6a8d0>
2025-07-26 20:01:15,771 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fa1b3f70290> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:01:15,787 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa1b3f42610>
2025-07-26 20:01:15,787 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:01:15,788 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:01:15,788 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:01:15,788 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:01:15,788 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:01:17,389 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:01:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:01:16Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:01:17Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:01:15Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:01:16Z'), (b'request-id', b'req_011CRWE3aAG3hWc6DtMt5MKv'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96567ce9bdacef30-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:01:17,390 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:01:17,390 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:01:17,390 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:01:17,391 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:01:17,391 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:01:17,391 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:01:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:01:16Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:01:17Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:01:15Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:01:16Z', 'request-id': 'req_011CRWE3aAG3hWc6DtMt5MKv', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96567ce9bdacef30-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:01:17,391 - anthropic._base_client - DEBUG - request_id: req_011CRWE3aAG3hWc6DtMt5MKv
2025-07-26 20:01:30,603 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-4b15aa20-dcf2-461c-969b-648214f705be', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 20:01:30,632 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:01:30,633 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:01:30,661 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff763ef7210>
2025-07-26 20:01:30,662 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff763508290> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:01:30,677 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff763ef4850>
2025-07-26 20:01:30,678 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:01:30,678 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:01:30,678 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:01:30,679 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:01:30,679 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:01:31,747 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:01:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:01:31Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:01:31Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:01:30Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:01:31Z'), (b'request-id', b'req_011CRWE4fs6HV5dtFACwnB3E'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96567d46cf1810fd-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:01:31,748 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:01:31,748 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:01:31,749 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:01:31,749 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:01:31,749 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:01:31,749 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:01:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:01:31Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:01:31Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:01:30Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:01:31Z', 'request-id': 'req_011CRWE4fs6HV5dtFACwnB3E', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96567d46cf1810fd-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:01:31,749 - anthropic._base_client - DEBUG - request_id: req_011CRWE4fs6HV5dtFACwnB3E
2025-07-26 20:01:32,075 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-b713944b-7c94-4a11-8380-5f5b70a2914d', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'gpt-4o', 'max_tokens': 10}}
2025-07-26 20:01:32,084 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:01:32,084 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:01:32,097 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f66846c4e50>
2025-07-26 20:01:32,097 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f6684a187a0> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:01:32,112 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f66846c4f10>
2025-07-26 20:01:32,112 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:01:32,113 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:01:32,113 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:01:32,113 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:01:32,113 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:01:33,050 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:01:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'499'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'553'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999996'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_4117341bcd1e0cd7bcd1b392df36a20f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=zivXDIepUnc8CyZEF8JugAypwEuaFcEeJCZwPYXiqJo-1753560093-1.0.1.1-iLL14hDkHA4GZ7xtltO0wgHvIlLqRGcPXPLwI_3XCAsdS2Kw2_Vr.Q7KzYi6Zj.T72qeWa7oJslTbxAOAz8Puhuld2.3gjUhQR3xP.eL3fU; path=/; expires=Sat, 26-Jul-25 20:31:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=of.pFdmVSUWalhCOBdUNyo5T6QSSh0q89zVUYN5.D3s-1753560093043-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96567d4fb9758753-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:01:33,051 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:01:33,051 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:01:33,063 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:01:33,063 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:01:33,063 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:01:33,063 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:01:33 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '499'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '553'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999996'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_4117341bcd1e0cd7bcd1b392df36a20f'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=zivXDIepUnc8CyZEF8JugAypwEuaFcEeJCZwPYXiqJo-1753560093-1.0.1.1-iLL14hDkHA4GZ7xtltO0wgHvIlLqRGcPXPLwI_3XCAsdS2Kw2_Vr.Q7KzYi6Zj.T72qeWa7oJslTbxAOAz8Puhuld2.3gjUhQR3xP.eL3fU; path=/; expires=Sat, 26-Jul-25 20:31:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=of.pFdmVSUWalhCOBdUNyo5T6QSSh0q89zVUYN5.D3s-1753560093043-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '96567d4fb9758753-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:01:33,064 - openai._base_client - DEBUG - request_id: req_4117341bcd1e0cd7bcd1b392df36a20f
2025-07-26 20:01:33,169 - httpcore.connection - DEBUG - close.started
2025-07-26 20:01:33,169 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:01:33,321 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-f74bbed3-b016-4b9b-ab88-bee87ac3c27e', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'grok-4-latest', 'max_tokens': 10}}
2025-07-26 20:01:33,321 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 20:01:33,322 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:01:33,350 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff7631beed0>
2025-07-26 20:01:33,351 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff7635088c0> server_hostname='api.x.ai' timeout=5.0
2025-07-26 20:01:33,366 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff7631bef50>
2025-07-26 20:01:33,367 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:01:33,367 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:01:33,367 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:01:33,368 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:01:33,368 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:01:33,970 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:01:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-c351c1f2bbca00599bcbbe506a34cf0e-dc4cec34004ee003-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=.M8Hli.0jrGeNLopFTkDz3LTccMxlUVwHlFQKACaaDk-1753560093-1.0.1.1-qDKgKhJjtSUxzqf_JtXVgHFtgGVatVGE7Dq2WExvIRpCHjpkOxq9S7ewKhYmordqBJtoNI25m_5sY0zdP4.NPxLp0bdmPFURI_0Bt9RCMpg; path=/; expires=Sat, 26-Jul-25 20:31:33 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96567d579fadeb6a-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:01:33,971 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:01:33,971 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:01:33,972 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:01:33,972 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:01:33,972 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:01:33,972 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:01:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'x-zero-data-retention': 'false', 'x-request-id': '00-c351c1f2bbca00599bcbbe506a34cf0e-dc4cec34004ee003-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=.M8Hli.0jrGeNLopFTkDz3LTccMxlUVwHlFQKACaaDk-1753560093-1.0.1.1-qDKgKhJjtSUxzqf_JtXVgHFtgGVatVGE7Dq2WExvIRpCHjpkOxq9S7ewKhYmordqBJtoNI25m_5sY0zdP4.NPxLp0bdmPFURI_0Bt9RCMpg; path=/; expires=Sat, 26-Jul-25 20:31:33 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '96567d579fadeb6a-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:01:33,972 - openai._base_client - DEBUG - request_id: 00-c351c1f2bbca00599bcbbe506a34cf0e-dc4cec34004ee003-01
2025-07-26 20:03:25,967 - httpcore.connection - DEBUG - close.started
2025-07-26 20:03:25,968 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:03:26,212 - httpcore.connection - DEBUG - close.started
2025-07-26 20:03:26,213 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:03:26,733 - httpcore.connection - DEBUG - close.started
2025-07-26 20:03:26,736 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:03:27,358 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:03:27,961 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:03:28,317 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:03:28,352 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:03:28,565 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:03:28,593 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:03:28,594 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:03:28,619 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:03:29,125 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:03:29,132 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:03:29,138 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:03:29,144 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:04:01,059 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:04:01,458 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:04:01,466 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:04:29,542 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-e37d05ed-6527-415d-ae28-59d513a81810', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 20:04:29,549 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:04:29,551 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:04:29,566 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff763515110>
2025-07-26 20:04:29,567 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff76404bad0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:04:29,582 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff764448d50>
2025-07-26 20:04:29,582 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:04:29,583 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:04:29,583 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:04:29,583 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:04:29,584 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:04:30,830 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:04:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:04:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:04:30Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:04:29Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:04:30Z'), (b'request-id', b'req_011CRWEHrjZ8zcLrgwg9AbuS'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965681a4e99fe104-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:04:30,831 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:04:30,832 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:04:30,832 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:04:30,832 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:04:30,832 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:04:30,832 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:04:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:04:30Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:04:30Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:04:29Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:04:30Z', 'request-id': 'req_011CRWEHrjZ8zcLrgwg9AbuS', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '965681a4e99fe104-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:04:30,833 - anthropic._base_client - DEBUG - request_id: req_011CRWEHrjZ8zcLrgwg9AbuS
2025-07-26 20:04:30,870 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-a1328187-e2c1-4acb-aeba-01d8fb92142d', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 20:04:30,874 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:04:30,877 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:04:30,916 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff7635397d0>
2025-07-26 20:04:30,916 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff76404bda0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:04:30,938 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff763515350>
2025-07-26 20:04:30,938 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:04:30,939 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:04:30,939 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:04:30,939 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:04:30,939 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:04:31,169 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-7b97d917-e243-43b4-8760-0327739a133c', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'gpt-4o', 'max_tokens': 10}}
2025-07-26 20:04:31,180 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:04:31,181 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:04:31,196 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f66846c1790>
2025-07-26 20:04:31,196 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f6684a4c4d0> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:04:31,213 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f66846c17d0>
2025-07-26 20:04:31,213 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:04:31,214 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:04:31,214 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:04:31,214 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:04:31,214 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:04:32,081 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:04:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:04:31Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:04:32Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:04:31Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:04:31Z'), (b'request-id', b'req_011CRWEHxY4JH2q5ZiCzWSay'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965681ad6dea003b-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:04:32,082 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:04:32,082 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:04:32,082 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:04:32,082 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:04:32,082 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:04:32,083 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:04:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:04:31Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:04:32Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:04:31Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:04:31Z', 'request-id': 'req_011CRWEHxY4JH2q5ZiCzWSay', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '965681ad6dea003b-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:04:32,083 - anthropic._base_client - DEBUG - request_id: req_011CRWEHxY4JH2q5ZiCzWSay
2025-07-26 20:04:32,301 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:04:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'482'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'495'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999996'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_9a44e254e1feba9e5be4b2c6aeeba83b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=fei8X1MuX8oUuAD8rpqHYwFCqOuLMAZ2RgjJVUUkEyE-1753560272-1.0.1.1-48zrOo0llpBo25yPjmHDp5VULc3cHvwQ.Xk8smvoxg_FwXylj_J_.kJMsF1cYuwgKeCX4YsS0QN9NiHVeultTZBaFkdFtpJ.XaW1P13Gre8; path=/; expires=Sat, 26-Jul-25 20:34:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=_YXjdNLqY9pwytx6aD7iQ5a1HV1TdbCFJ3V_gHXCoR0-1753560272294-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965681af1cefc5fe-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:04:32,302 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:04:32,302 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:04:32,303 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:04:32,303 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:04:32,303 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:04:32,303 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:04:32 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '482'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '495'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999996'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_9a44e254e1feba9e5be4b2c6aeeba83b'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=fei8X1MuX8oUuAD8rpqHYwFCqOuLMAZ2RgjJVUUkEyE-1753560272-1.0.1.1-48zrOo0llpBo25yPjmHDp5VULc3cHvwQ.Xk8smvoxg_FwXylj_J_.kJMsF1cYuwgKeCX4YsS0QN9NiHVeultTZBaFkdFtpJ.XaW1P13Gre8; path=/; expires=Sat, 26-Jul-25 20:34:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=_YXjdNLqY9pwytx6aD7iQ5a1HV1TdbCFJ3V_gHXCoR0-1753560272294-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '965681af1cefc5fe-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:04:32,303 - openai._base_client - DEBUG - request_id: req_9a44e254e1feba9e5be4b2c6aeeba83b
2025-07-26 20:04:32,344 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-fe14cd1d-10d1-42b8-a903-f36d1a758002', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'gpt-4o', 'max_tokens': 10}}
2025-07-26 20:04:32,351 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:04:32,352 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:04:32,364 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-3e1ee24e-2ba4-4f2f-b2bc-2dd07c07afc1', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'grok-2-1212', 'max_tokens': 10}}
2025-07-26 20:04:32,365 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 20:04:32,365 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:04:32,366 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa1b3b75b50>
2025-07-26 20:04:32,366 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fa1b8b75d00> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:04:32,381 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa1b3b75c10>
2025-07-26 20:04:32,381 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:04:32,381 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:04:32,381 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:04:32,382 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:04:32,382 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:04:32,389 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f66846daed0>
2025-07-26 20:04:32,390 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f668479b260> server_hostname='api.x.ai' timeout=5.0
2025-07-26 20:04:32,405 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f66846daf50>
2025-07-26 20:04:32,405 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:04:32,406 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:04:32,406 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:04:32,406 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:04:32,406 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:04:32,895 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:04:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'414'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'417'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999997'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_3096028d58250b77f58e1de1d31b5e86'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=oQB3J4EkwRVaYegj11tn49W4rIin4q5zF6fj0cefync-1753560272-1.0.1.1-1obLrR8N4qQ8GGFKJkEnomF6fsqR7MYkl21.0gk_rB5ZHsw5xZz6KQqQ4Xpm5U.SmYtytLXRXPMMOFcxUj3OT4Ea6bsm6.Bv4FZG.1ab6vo; path=/; expires=Sat, 26-Jul-25 20:34:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=zSCnmcZ1px2J2F8Lrcew1AI3KvmDZIB7Kz2v4soc8bI-1753560272888-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965681b66c9a9121-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:04:32,897 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:04:32,897 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:04:32,898 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:04:32,898 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:04:32,898 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:04:32,898 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:04:32 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '414'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '417'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999997'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_3096028d58250b77f58e1de1d31b5e86'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=oQB3J4EkwRVaYegj11tn49W4rIin4q5zF6fj0cefync-1753560272-1.0.1.1-1obLrR8N4qQ8GGFKJkEnomF6fsqR7MYkl21.0gk_rB5ZHsw5xZz6KQqQ4Xpm5U.SmYtytLXRXPMMOFcxUj3OT4Ea6bsm6.Bv4FZG.1ab6vo; path=/; expires=Sat, 26-Jul-25 20:34:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=zSCnmcZ1px2J2F8Lrcew1AI3KvmDZIB7Kz2v4soc8bI-1753560272888-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '965681b66c9a9121-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:04:32,899 - openai._base_client - DEBUG - request_id: req_3096028d58250b77f58e1de1d31b5e86
2025-07-26 20:04:32,916 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:04:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-162771c6b069d09c2293034426997e28-ca4ae01600413ca7-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=a740.OQoxWEpMdtRgT9nZOsNDcI8_Gv00R2xuBkouEY-1753560272-1.0.1.1-RMXjXnI8Hlf5USAJvSQ83fJGkjXMLwGPEEFjira5OJYjrElr2usisam9ftRc2uThatq2qyyGMyyQG1kC6gR3NdPin2RsEum0TJFwLn920to; path=/; expires=Sat, 26-Jul-25 20:34:32 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965681b69e6ed7f1-ORD')])
2025-07-26 20:04:32,917 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:04:32,917 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:04:32,918 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:04:32,918 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:04:32,918 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:04:32,918 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:04:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'x-zero-data-retention': 'false', 'x-request-id': '00-162771c6b069d09c2293034426997e28-ca4ae01600413ca7-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=a740.OQoxWEpMdtRgT9nZOsNDcI8_Gv00R2xuBkouEY-1753560272-1.0.1.1-RMXjXnI8Hlf5USAJvSQ83fJGkjXMLwGPEEFjira5OJYjrElr2usisam9ftRc2uThatq2qyyGMyyQG1kC6gR3NdPin2RsEum0TJFwLn920to; path=/; expires=Sat, 26-Jul-25 20:34:32 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '965681b69e6ed7f1-ORD'})
2025-07-26 20:04:32,918 - openai._base_client - DEBUG - request_id: 00-162771c6b069d09c2293034426997e28-ca4ae01600413ca7-01
2025-07-26 20:04:32,963 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-0c7732cb-b66f-4783-8864-d3abac628e62', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'grok-2-1212', 'max_tokens': 10}}
2025-07-26 20:04:32,964 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 20:04:32,965 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:04:32,981 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f66846e6150>
2025-07-26 20:04:32,981 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f668479b2f0> server_hostname='api.x.ai' timeout=5.0
2025-07-26 20:04:32,996 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f66846e6210>
2025-07-26 20:04:32,996 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:04:33,004 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:04:33,005 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:04:33,005 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:04:33,005 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:04:33,372 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:04:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-c034d621f6e73785e9751f48103c4935-14b5f6060021d947-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=FR17X6HWdg1qB1JNQet3ziPxugbjWQiZ8nzmPyzEKFE-1753560273-1.0.1.1-0IhzQT8tEjQVgo.tnfoETgsqMd0EtaYkbDQvmESjp7tDqt_1U1RwiivwOdHOR8w.6A9NquwJM3dcW78tllcB4OmcYICpN84bPF78PBw2S9Y; path=/; expires=Sat, 26-Jul-25 20:34:33 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965681ba4ea7e207-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:04:33,373 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:04:33,373 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:04:33,373 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:04:33,373 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:04:33,374 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:04:33,374 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:04:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'x-zero-data-retention': 'false', 'x-request-id': '00-c034d621f6e73785e9751f48103c4935-14b5f6060021d947-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=FR17X6HWdg1qB1JNQet3ziPxugbjWQiZ8nzmPyzEKFE-1753560273-1.0.1.1-0IhzQT8tEjQVgo.tnfoETgsqMd0EtaYkbDQvmESjp7tDqt_1U1RwiivwOdHOR8w.6A9NquwJM3dcW78tllcB4OmcYICpN84bPF78PBw2S9Y; path=/; expires=Sat, 26-Jul-25 20:34:33 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '965681ba4ea7e207-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:04:33,374 - openai._base_client - DEBUG - request_id: 00-c034d621f6e73785e9751f48103c4935-14b5f6060021d947-01
2025-07-26 20:06:45,334 - httpcore.connection - DEBUG - close.started
2025-07-26 20:06:45,335 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:06:45,336 - httpcore.connection - DEBUG - close.started
2025-07-26 20:06:45,336 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:10:28,873 - httpcore.connection - DEBUG - close.started
2025-07-26 20:10:28,874 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:10:32,598 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:10:33,267 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:10:33,300 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:10:43,715 - claude_service - INFO - Génération 3a21d6f5-34fa-43ba-a648-3530adcc884d créée avec succès
2025-07-26 20:10:44,212 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-70d74104-494d-477d-a68c-225c384c3d75', 'json_data': {'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'gpt-4.1-nano', 'max_tokens': 32768, 'stream': True, 'temperature': 1.0}}
2025-07-26 20:10:44,221 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:10:44,221 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:10:44,235 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d641d2fd0>
2025-07-26 20:10:44,235 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3d65865ac0> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:10:44,250 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d641d3090>
2025-07-26 20:10:44,250 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:10:44,251 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:10:44,251 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:10:44,252 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:10:44,252 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:10:44,679 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:10:44 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'153'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'156'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999997'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'2af962fd-8851-4a21-94c7-0418f70f490a'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=4Rqj1ekWL61GNHPHNvBF3PI_stnkkx8T0sdJ8ZRSjB4-1753560644-1.0.1.1-xDQkitOXQyKxsQxz9KZm0R_HUO4n1jPKBIxBIZBVNWLXY.fjxbJx8nVvsHW.siqUUYU.A3.FxV0BUJY2TxVDJylxAni.GiMwVT.CyG4PPcU; path=/; expires=Sat, 26-Jul-25 20:40:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=RouFZw4ys8tJhqUxMTJBYiAmlcdtkH5ItOBpFa6PawU-1753560644672-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96568aca9f64616a-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:10:44,681 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:10:44,681 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:10:44 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '153'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '156'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999997'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', '2af962fd-8851-4a21-94c7-0418f70f490a'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=4Rqj1ekWL61GNHPHNvBF3PI_stnkkx8T0sdJ8ZRSjB4-1753560644-1.0.1.1-xDQkitOXQyKxsQxz9KZm0R_HUO4n1jPKBIxBIZBVNWLXY.fjxbJx8nVvsHW.siqUUYU.A3.FxV0BUJY2TxVDJylxAni.GiMwVT.CyG4PPcU; path=/; expires=Sat, 26-Jul-25 20:40:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=RouFZw4ys8tJhqUxMTJBYiAmlcdtkH5ItOBpFa6PawU-1753560644672-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '96568aca9f64616a-ORD'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:10:44,681 - openai._base_client - DEBUG - request_id: 2af962fd-8851-4a21-94c7-0418f70f490a
2025-07-26 20:10:44,681 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:10:47,639 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:10:47,642 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:10:47,642 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:10:47,923 - claude_service - INFO - Coût enregistré pour 3a21d6f5-34fa-43ba-a648-3530adcc884d: $0.0000
2025-07-26 20:10:47,963 - routes - INFO - Stream terminé pour 3a21d6f5-34fa-43ba-a648-3530adcc884d: completed
2025-07-26 20:12:55,719 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-5525105e-88c3-4631-9eeb-fd64cd1aa5b6', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 20:12:55,719 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:12:55,720 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:12:55,746 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff76355ca90>
2025-07-26 20:12:55,746 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff76352c290> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:12:55,762 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff763579250>
2025-07-26 20:12:55,762 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:12:55,762 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:12:55,763 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:12:55,763 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:12:55,763 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:12:56,922 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:12:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:12:56Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:12:56Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:12:55Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:12:56Z'), (b'request-id', b'req_011CRWEwArzds1YGgyzyRJKY'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96568e008d96f85e-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:12:56,923 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:12:56,923 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:12:56,924 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:12:56,924 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:12:56,924 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:12:56,925 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:12:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:12:56Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:12:56Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:12:55Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:12:56Z', 'request-id': 'req_011CRWEwArzds1YGgyzyRJKY', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96568e008d96f85e-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:12:56,925 - anthropic._base_client - DEBUG - request_id: req_011CRWEwArzds1YGgyzyRJKY
2025-07-26 20:12:57,052 - httpcore.connection - DEBUG - close.started
2025-07-26 20:12:57,053 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:12:57,053 - httpcore.connection - DEBUG - close.started
2025-07-26 20:12:57,054 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:12:57,054 - httpcore.connection - DEBUG - close.started
2025-07-26 20:12:57,054 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:12:57,300 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-47f0c2fe-075a-4db5-b2f7-a8f594ae5baa', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'gpt-4o', 'max_tokens': 10}}
2025-07-26 20:12:57,303 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:12:57,303 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:12:57,317 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff7631c79d0>
2025-07-26 20:12:57,318 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff76352da30> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:12:57,335 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff7631c7a90>
2025-07-26 20:12:57,336 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:12:57,336 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:12:57,336 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:12:57,337 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:12:57,337 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:12:57,996 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:12:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'575'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'578'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999996'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_305630220bc296133cd3f0cb9755e81f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=tjcKiL7b.w58HBugaWzxakXn.NQb8Ej..nTsd3lyIYk-1753560777-1.0.1.1-WPofOFM3xb0dNSfCWcURb3Epsa_rXqgp8wAigmJOLRUHy6y.VL4qkRdUSBIox3eszkxUPS_h8YnEiZcFTTK77KavV8TceIQFkoY.gn7qIDs; path=/; expires=Sat, 26-Jul-25 20:42:57 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=poZEb8TnIkQ.OwaBA_6tZwtK7oBjZNyOXLz5JY0Y12g-1753560777989-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96568e0a69f4d234-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:12:57,996 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:12:57,997 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:12:57,997 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:12:57,997 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:12:57,997 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:12:57,998 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:12:57 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '575'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '578'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999996'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_305630220bc296133cd3f0cb9755e81f'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=tjcKiL7b.w58HBugaWzxakXn.NQb8Ej..nTsd3lyIYk-1753560777-1.0.1.1-WPofOFM3xb0dNSfCWcURb3Epsa_rXqgp8wAigmJOLRUHy6y.VL4qkRdUSBIox3eszkxUPS_h8YnEiZcFTTK77KavV8TceIQFkoY.gn7qIDs; path=/; expires=Sat, 26-Jul-25 20:42:57 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=poZEb8TnIkQ.OwaBA_6tZwtK7oBjZNyOXLz5JY0Y12g-1753560777989-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '96568e0a69f4d234-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:12:57,998 - openai._base_client - DEBUG - request_id: req_305630220bc296133cd3f0cb9755e81f
2025-07-26 20:12:58,061 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-0ee37d1c-6726-4fcd-9b4d-0eface24109a', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'grok-2-1212', 'max_tokens': 10}}
2025-07-26 20:12:58,062 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 20:12:58,062 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:12:58,091 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff7631e1510>
2025-07-26 20:12:58,091 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff7633cf530> server_hostname='api.x.ai' timeout=5.0
2025-07-26 20:12:58,108 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff7631e15d0>
2025-07-26 20:12:58,108 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:12:58,109 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:12:58,109 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:12:58,109 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:12:58,109 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:12:58,518 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:12:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-d38b3c5f89587dd5a893376d6ffeaba5-ab4fa45b004f7b0a-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=MnXSe8uhYop1E9yetptcOq8U_ngXaP.6qRsfAtKbXuM-1753560778-1.0.1.1-iRgHD6vvxTb4ObamIme82fqPcTKVB8sF2SVt.czLswyr8tkxoO6CRrcA9DJBhuB0deOPJca.YdNIkqEGoV1n6fwBvPtdVsgyN_HGBpUgKdA; path=/; expires=Sat, 26-Jul-25 20:42:58 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96568e0f390c52a6-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:12:58,519 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:12:58,522 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:12:58,523 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:12:58,523 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:12:58,523 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:12:58,523 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:12:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'x-zero-data-retention': 'false', 'x-request-id': '00-d38b3c5f89587dd5a893376d6ffeaba5-ab4fa45b004f7b0a-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=MnXSe8uhYop1E9yetptcOq8U_ngXaP.6qRsfAtKbXuM-1753560778-1.0.1.1-iRgHD6vvxTb4ObamIme82fqPcTKVB8sF2SVt.czLswyr8tkxoO6CRrcA9DJBhuB0deOPJca.YdNIkqEGoV1n6fwBvPtdVsgyN_HGBpUgKdA; path=/; expires=Sat, 26-Jul-25 20:42:58 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '96568e0f390c52a6-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:12:58,523 - openai._base_client - DEBUG - request_id: 00-d38b3c5f89587dd5a893376d6ffeaba5-ab4fa45b004f7b0a-01
2025-07-26 20:13:00,189 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-c099e87e-9c89-44d5-8f79-3420cea82a7f', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 20:13:00,190 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:13:00,190 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:13:00,252 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d5ff25050>
2025-07-26 20:13:00,253 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3d643d3800> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:13:00,268 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d5ff0ad90>
2025-07-26 20:13:00,268 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:13:00,269 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:13:00,269 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:13:00,269 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:13:00,269 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:13:01,716 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:13:01 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:13:01Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:13:01Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:13:00Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:13:01Z'), (b'request-id', b'req_011CRWEwW9NHwSMETRhDeffo'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96568e1cb8122256-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:13:01,716 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:13:01,717 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:13:01,717 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:13:01,717 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:13:01,718 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:13:01,718 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:13:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:13:01Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:13:01Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:13:00Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:13:01Z', 'request-id': 'req_011CRWEwW9NHwSMETRhDeffo', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96568e1cb8122256-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:13:01,718 - anthropic._base_client - DEBUG - request_id: req_011CRWEwW9NHwSMETRhDeffo
2025-07-26 20:13:01,980 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-3a5c518a-ca72-4b89-808b-8f8475198fa2', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'gpt-4o', 'max_tokens': 10}}
2025-07-26 20:13:01,989 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:13:01,990 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:13:02,004 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f898b3a5490>
2025-07-26 20:13:02,004 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f898b71c3b0> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:13:02,019 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f898b3a5410>
2025-07-26 20:13:02,019 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:13:02,022 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:13:02,023 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:13:02,023 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:13:02,023 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:13:02,812 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:13:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'381'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'383'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999996'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'876f46cb-e675-4af7-994b-3c74c37dffe7'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=GTx4g7H33TZIei49no.eL0WhiCiHI8wTFQYNL6aDMpg-1753560782-1.0.1.1-Vipvzi8Y26s0ZVZlWrx2xzddavWY22Ivf0H_0ZsASssY3WG4IlE.Uywxu_DWg9zuX_e0iRasOe1ZFYwqmdP9Xmd.f.EzIRMEW7MMJrmrr7c; path=/; expires=Sat, 26-Jul-25 20:43:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=UyNyD3oCtpOvfqHg3uJDFLEjWC0_fdP02s5dN51yWlM-1753560782806-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96568e27af05c5ca-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:13:02,813 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:13:02,813 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:13:02,814 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:13:02,814 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:13:02,814 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:13:02,814 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:13:02 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '381'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '383'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999996'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', '876f46cb-e675-4af7-994b-3c74c37dffe7'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=GTx4g7H33TZIei49no.eL0WhiCiHI8wTFQYNL6aDMpg-1753560782-1.0.1.1-Vipvzi8Y26s0ZVZlWrx2xzddavWY22Ivf0H_0ZsASssY3WG4IlE.Uywxu_DWg9zuX_e0iRasOe1ZFYwqmdP9Xmd.f.EzIRMEW7MMJrmrr7c; path=/; expires=Sat, 26-Jul-25 20:43:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=UyNyD3oCtpOvfqHg3uJDFLEjWC0_fdP02s5dN51yWlM-1753560782806-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '96568e27af05c5ca-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:13:02,815 - openai._base_client - DEBUG - request_id: 876f46cb-e675-4af7-994b-3c74c37dffe7
2025-07-26 20:13:02,872 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-dea677e1-2c2d-452c-bd8c-c6eaacee6467', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'grok-2-1212', 'max_tokens': 10}}
2025-07-26 20:13:02,873 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 20:13:02,874 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:13:02,900 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d5ff44610>
2025-07-26 20:13:02,901 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3d643d3bf0> server_hostname='api.x.ai' timeout=5.0
2025-07-26 20:13:02,918 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d5ff446d0>
2025-07-26 20:13:02,918 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:13:02,918 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:13:02,918 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:13:02,919 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:13:02,919 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:13:03,380 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:13:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-04db81e25e17002d7130bcae0ad1da7a-eeae111100419f16-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=lGs7g1Y.I24yrvo.PHSHY0KdgxExi4ieDeLSpM0L49w-1753560783-1.0.1.1-UvgW.6UzF076MI0KLstWWvRK8rhVIubDu2sFkpoLUKNSEdkaZGaZui1gIyBqtXa4Ln3VbgDEPsBWqDNayWpzZszn8CZ_JVkcEamFQCevJF4; path=/; expires=Sat, 26-Jul-25 20:43:03 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96568e2d4b218728-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:13:03,381 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:13:03,381 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:13:03,381 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:13:03,382 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:13:03,382 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:13:03,382 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:13:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'x-zero-data-retention': 'false', 'x-request-id': '00-04db81e25e17002d7130bcae0ad1da7a-eeae111100419f16-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=lGs7g1Y.I24yrvo.PHSHY0KdgxExi4ieDeLSpM0L49w-1753560783-1.0.1.1-UvgW.6UzF076MI0KLstWWvRK8rhVIubDu2sFkpoLUKNSEdkaZGaZui1gIyBqtXa4Ln3VbgDEPsBWqDNayWpzZszn8CZ_JVkcEamFQCevJF4; path=/; expires=Sat, 26-Jul-25 20:43:03 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '96568e2d4b218728-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:13:03,382 - openai._base_client - DEBUG - request_id: 00-04db81e25e17002d7130bcae0ad1da7a-eeae111100419f16-01
2025-07-26 20:14:16,015 - httpcore.connection - DEBUG - close.started
2025-07-26 20:14:16,016 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:14:16,134 - httpcore.connection - DEBUG - close.started
2025-07-26 20:14:16,136 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:14:16,332 - httpcore.connection - DEBUG - close.started
2025-07-26 20:14:16,333 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:14:16,333 - httpcore.connection - DEBUG - close.started
2025-07-26 20:14:16,334 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:14:16,617 - httpcore.connection - DEBUG - close.started
2025-07-26 20:14:16,620 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:14:16,621 - httpcore.connection - DEBUG - close.started
2025-07-26 20:14:16,622 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:14:17,644 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:14:17,780 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:14:18,348 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:14:18,519 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:14:18,531 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:14:18,745 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:14:18,794 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:14:18,804 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:14:19,173 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:14:19,186 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:14:19,763 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:14:19,776 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:15:29,232 - database - INFO - Génération 3a21d6f5-34fa-43ba-a648-3530adcc884d supprimée
2025-07-26 20:15:42,026 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:15:42,561 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:15:42,892 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:15:42,901 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:15:43,111 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:15:43,258 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:15:43,334 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:15:43,352 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:15:43,777 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:15:43,795 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:15:43,850 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:15:43,865 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:15:43,987 - database - INFO - Génération 1b481a79-f6bc-4f69-9f3f-ac48f5bdf721 supprimée
2025-07-26 20:16:03,696 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:04,368 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:04,381 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:04,651 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:04,655 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:04,896 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:05,124 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:05,128 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:05,136 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:05,158 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:05,268 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:05,277 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:08,227 - app - ERROR - Exception on /generator [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 27, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 89, in generator
    return render_template('generator.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/generator.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 103, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/generator.html", line 93, in block 'content'
    ({{ model_info.max_output_tokens|int // 1000 }}K tokens max)
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/filters.py", line 998, in do_int
    return int(value)
           ^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'max_output_tokens'
2025-07-26 20:16:08,230 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 20:16:12,689 - app - ERROR - Exception on /generator [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 27, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 89, in generator
    return render_template('generator.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/generator.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 103, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/generator.html", line 93, in block 'content'
    ({{ model_info.max_output_tokens|int // 1000 }}K tokens max)
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/filters.py", line 998, in do_int
    return int(value)
           ^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'max_output_tokens'
2025-07-26 20:16:12,691 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 20:16:18,037 - app - ERROR - Exception on /generator [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 27, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 89, in generator
    return render_template('generator.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/generator.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 103, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/generator.html", line 93, in block 'content'
    ({{ model_info.max_output_tokens|int // 1000 }}K tokens max)
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/filters.py", line 998, in do_int
    return int(value)
           ^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'max_output_tokens'
2025-07-26 20:16:18,041 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 20:16:23,962 - app - ERROR - Exception on /generator [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 27, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 89, in generator
    return render_template('generator.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/generator.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 103, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/generator.html", line 93, in block 'content'
    ({{ model_info.max_output_tokens|int // 1000 }}K tokens max)
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/filters.py", line 998, in do_int
    return int(value)
           ^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'max_output_tokens'
2025-07-26 20:16:23,963 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 20:16:29,821 - database - INFO - Génération 2eb397e9-ae86-480d-a59e-00122b3e501b supprimée
2025-07-26 20:16:34,137 - database - INFO - Génération 98f5ee4f-19e9-4671-9dc3-4ed242ff1acc supprimée
2025-07-26 20:16:37,790 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:37,824 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:37,827 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:38,149 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:38,395 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:38,409 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:38,633 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:38,647 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:38,702 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:38,714 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:38,768 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:38,779 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:39,394 - database - INFO - Génération c687fc2e-8759-49c3-b307-4df5d43ec3e9 supprimée
2025-07-26 20:16:43,543 - database - INFO - Génération 0141fe03-a535-4275-91ff-bf23dafc45f6 supprimée
2025-07-26 20:16:51,223 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:51,298 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:51,428 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:51,974 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:51,991 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:52,120 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:52,123 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:52,135 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:52,149 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:52,441 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:52,997 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:53,008 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:56,611 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:56,682 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:57,120 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:57,326 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:16:57,356 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:57,368 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:57,434 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:57,455 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:57,667 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:57,692 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:16:57,912 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:16:57,923 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:17:01,860 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:17:01,914 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:17:02,437 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:17:02,450 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:17:02,722 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:17:02,723 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:17:02,737 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:17:02,840 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:17:03,230 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:17:03,241 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:17:03,318 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:17:03,330 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:17:22,730 - claude_service - INFO - Génération a323d8aa-c145-4c9c-8b1b-86f00b3a5082 créée avec succès
2025-07-26 20:17:22,991 - claude_service - INFO - Démarrage génération O-Series avec modèle o3
2025-07-26 20:17:23,751 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/responses', 'files': None, 'idempotency_key': 'stainless-python-retry-250dc8a3-272a-4417-905c-8b5b64b073d9', 'json_data': {'input': [{'role': 'user', 'content': 'allo'}], 'model': 'o3', 'reasoning': {'effort': 'medium'}, 'store': True, 'text': {'format': {'type': 'text'}}, 'tools': []}}
2025-07-26 20:17:23,761 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/responses
2025-07-26 20:17:23,761 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:17:23,776 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d5ff38950>
2025-07-26 20:17:23,776 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3d65859d90> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:17:23,792 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d656fa1d0>
2025-07-26 20:17:23,792 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:17:23,792 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:17:23,793 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:17:23,793 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:17:23,793 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:17:26,126 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:17:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999786'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'm-lai'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'x-request-id', b'req_6379c80543d536380728a1ff2ab8e8e0'), (b'openai-processing-ms', b'1609'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Aaw_XbKzK1qmwOrnaKkN8.oLW3klKR3GrgNW58nbgGA-1753561046-1.0.1.1-Bqi7AdpJ7Xb3QaWhNpaWopdwT3VblCKvaIfPYV26oTDCok89aptOk_SVip3Q.jaYsexicvlU_K4zGI_0oORqnScDEPNZUtLJrUO26YcLXtw; path=/; expires=Sat, 26-Jul-25 20:47:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=XoP72d4lt0lWY3KywV6NNokNNe_IG5v3XR8dVKRro7k-1753561046119-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656948bb91c0ed2-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:17:26,127 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
2025-07-26 20:17:26,128 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:17:26,128 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:17:26,128 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:17:26,129 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:17:26,129 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/responses "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:17:26 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999786'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('openai-version', '2020-10-01'), ('openai-organization', 'm-lai'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('x-request-id', 'req_6379c80543d536380728a1ff2ab8e8e0'), ('openai-processing-ms', '1609'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=Aaw_XbKzK1qmwOrnaKkN8.oLW3klKR3GrgNW58nbgGA-1753561046-1.0.1.1-Bqi7AdpJ7Xb3QaWhNpaWopdwT3VblCKvaIfPYV26oTDCok89aptOk_SVip3Q.jaYsexicvlU_K4zGI_0oORqnScDEPNZUtLJrUO26YcLXtw; path=/; expires=Sat, 26-Jul-25 20:47:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=XoP72d4lt0lWY3KywV6NNokNNe_IG5v3XR8dVKRro7k-1753561046119-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9656948bb91c0ed2-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:17:26,129 - openai._base_client - DEBUG - request_id: req_6379c80543d536380728a1ff2ab8e8e0
2025-07-26 20:17:30,954 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:17:31,367 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:17:31,377 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:17:32,830 - claude_service - INFO - Coût enregistré pour a323d8aa-c145-4c9c-8b1b-86f00b3a5082: $0.1380
2025-07-26 20:18:07,697 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-b6480be7-4c1d-4af3-890f-c93a790ebfc3', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 20:18:07,709 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:18:07,710 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:18:07,737 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f898c084a10>
2025-07-26 20:18:07,737 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f898b728200> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:18:07,751 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f898c079cd0>
2025-07-26 20:18:07,752 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:18:07,752 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:18:07,753 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:18:07,753 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:18:07,753 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:18:09,061 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:18:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:18:08Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:18:09Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:18:07Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:18:08Z'), (b'request-id', b'req_011CRWFLAkh19rR2r8v3Ebcm'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656959e7fd5fa1b-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:18:09,063 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:18:09,063 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:18:09,063 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:18:09,063 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:18:09,063 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:18:09,064 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:18:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:18:08Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:18:09Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:18:07Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:18:08Z', 'request-id': 'req_011CRWFLAkh19rR2r8v3Ebcm', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656959e7fd5fa1b-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:18:09,064 - anthropic._base_client - DEBUG - request_id: req_011CRWFLAkh19rR2r8v3Ebcm
2025-07-26 20:18:09,136 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-d2824a28-9418-4db2-b0f9-5177c3a2ffaf', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'gpt-4o', 'max_tokens': 10}}
2025-07-26 20:18:09,138 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:18:09,140 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:18:09,158 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d5fe30c90>
2025-07-26 20:18:09,158 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3d5ff50e60> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:18:09,175 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d5fe30d50>
2025-07-26 20:18:09,176 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:18:09,176 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:18:09,176 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:18:09,177 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:18:09,177 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:18:09,993 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:18:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'495'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'499'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999997'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'c64d6380-6a2c-4c4e-aef4-9d002b1c2b42'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=cRa1nNTWY_LsnxUf8Jcy89NVD8DMA123iocWh0sZtsU-1753561089-1.0.1.1-6AXWiuaNyxWu5MaWzpMN0JCGAWi58yHje63101iznpj0PnjLxlZym6QbfAbXA8c62vjbfEedkeZZA27PsoWrJYM4hYNpt.dxwxb5NblOFT4; path=/; expires=Sat, 26-Jul-25 20:48:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=bcqDYtHUN8qm5ktrNpuJI.XrElHR8D_RBlQ97e1dvJY-1753561089986-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965695a76aaf89ed-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:18:09,994 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:18:09,995 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:18:09,998 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:18:09,998 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:18:09,998 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:18:09,999 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:18:09 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '495'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '499'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999997'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'c64d6380-6a2c-4c4e-aef4-9d002b1c2b42'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=cRa1nNTWY_LsnxUf8Jcy89NVD8DMA123iocWh0sZtsU-1753561089-1.0.1.1-6AXWiuaNyxWu5MaWzpMN0JCGAWi58yHje63101iznpj0PnjLxlZym6QbfAbXA8c62vjbfEedkeZZA27PsoWrJYM4hYNpt.dxwxb5NblOFT4; path=/; expires=Sat, 26-Jul-25 20:48:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=bcqDYtHUN8qm5ktrNpuJI.XrElHR8D_RBlQ97e1dvJY-1753561089986-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '965695a76aaf89ed-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:18:09,999 - openai._base_client - DEBUG - request_id: c64d6380-6a2c-4c4e-aef4-9d002b1c2b42
2025-07-26 20:18:10,062 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-7e28356c-76c1-4656-8770-7d244f1e2eda', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'grok-2-1212', 'max_tokens': 10}}
2025-07-26 20:18:10,062 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 20:18:10,063 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:18:10,114 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d5fe3ff50>
2025-07-26 20:18:10,114 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3d5ff511c0> server_hostname='api.x.ai' timeout=5.0
2025-07-26 20:18:10,131 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d5fe3fed0>
2025-07-26 20:18:10,132 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:18:10,133 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:18:10,133 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:18:10,133 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:18:10,133 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:18:10,439 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:18:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-d29fba3fff0df88659af7c8c9b7ca22a-4e8d566700418998-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=N5l8dc1zga0VUcxSyjCrkysgM.pPk5vmcwTAqWsBwXs-1753561090-1.0.1.1-vyJOQfdpiVqP9DYdj_roPAeVC4wwUITYOWaYKjoZwmHUP1wrC8AAvI3Tkc0fIE7k4xyb9Geh.bYbopgEiOShyYxPIQEYO6QkLy4y_vYJ.vA; path=/; expires=Sat, 26-Jul-25 20:48:10 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965695ad5fced95e-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:18:10,440 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:18:10,440 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:18:10,441 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:18:10,441 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:18:10,441 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:18:10,441 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:18:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'x-zero-data-retention': 'false', 'x-request-id': '00-d29fba3fff0df88659af7c8c9b7ca22a-4e8d566700418998-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=N5l8dc1zga0VUcxSyjCrkysgM.pPk5vmcwTAqWsBwXs-1753561090-1.0.1.1-vyJOQfdpiVqP9DYdj_roPAeVC4wwUITYOWaYKjoZwmHUP1wrC8AAvI3Tkc0fIE7k4xyb9Geh.bYbopgEiOShyYxPIQEYO6QkLy4y_vYJ.vA; path=/; expires=Sat, 26-Jul-25 20:48:10 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '965695ad5fced95e-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:18:10,442 - openai._base_client - DEBUG - request_id: 00-d29fba3fff0df88659af7c8c9b7ca22a-4e8d566700418998-01
2025-07-26 20:18:16,343 - httpcore.connection - DEBUG - close.started
2025-07-26 20:18:16,344 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:18:16,344 - httpcore.connection - DEBUG - close.started
2025-07-26 20:18:16,344 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:18:16,640 - httpcore.connection - DEBUG - close.started
2025-07-26 20:18:16,642 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:18:18,235 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:18,347 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:18,402 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:18,942 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:19,035 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:19,050 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:19,113 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:19,133 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:19,170 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:19,188 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:19,475 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:19,485 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:28,625 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:28,724 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:28,767 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:29,275 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:29,294 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:29,340 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:29,356 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:29,393 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:29,406 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:29,481 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:30,061 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:30,070 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:43,473 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:43,825 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:44,000 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:44,020 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:18:44,260 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:44,272 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:44,510 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:44,523 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:44,642 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:44,653 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:18:44,702 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:18:44,714 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:19:00,401 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:19:00,409 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:19:00,415 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:19:00,461 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:19:01,100 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:19:01,104 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:19:01,107 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:19:01,116 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:19:01,119 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:19:01,128 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:19:01,179 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:19:01,190 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:19:05,002 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-77c02944-a81a-4fd0-b692-f9d3dd2f787d', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 20:19:05,010 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:19:05,011 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:19:05,038 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f08e2ecd610>
2025-07-26 20:19:05,039 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f08e306a3c0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:19:05,055 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f08e2e78290>
2025-07-26 20:19:05,055 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:19:05,056 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:19:05,056 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:19:05,056 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:19:05,056 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:19:06,289 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:19:06 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:19:05Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:19:06Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:19:05Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:19:05Z'), (b'request-id', b'req_011CRWFQPn8UcMwAt55MA8SE'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96569704ab2361ba-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:19:06,290 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:19:06,290 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:19:06,291 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:19:06,291 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:19:06,291 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:19:06,291 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:19:06 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:19:05Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:19:06Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:19:05Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:19:05Z', 'request-id': 'req_011CRWFQPn8UcMwAt55MA8SE', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96569704ab2361ba-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:19:06,292 - anthropic._base_client - DEBUG - request_id: req_011CRWFQPn8UcMwAt55MA8SE
2025-07-26 20:19:06,381 - httpcore.connection - DEBUG - close.started
2025-07-26 20:19:06,381 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:19:06,631 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-b9c1fe3e-75f4-4f6a-b881-5f4395833c2e', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'gpt-4o', 'max_tokens': 10}}
2025-07-26 20:19:06,632 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:19:06,632 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:19:06,645 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f08e2157810>
2025-07-26 20:19:06,645 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f08e306a7b0> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:19:06,658 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f08e21578d0>
2025-07-26 20:19:06,658 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:19:06,659 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:19:06,659 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:19:06,659 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:19:06,659 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:19:07,297 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:19:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'549'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'552'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999996'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'677409a0-40f3-475c-a193-eca9575172e2'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=.wpjIKcG3GFmhyuxUceDu6kW32xBtAJoVL0LUCCZ9Xo-1753561147-1.0.1.1-YsMMHq_MRf17FXWwSZ1zVZFhaQRXDzS3jsDDmkDX8ZLLsDq2n670SeaPqeSJ70WlFvVM3vTqfk5hxrENjWkG4rdPYmtOrVGWnkooJTPk3jk; path=/; expires=Sat, 26-Jul-25 20:49:07 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=CPUnCL.0oWRKPGJRPP._hGZAkDjwq8xjeIkwVSR7zwY-1753561147290-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656970eaf74f842-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:19:07,297 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:19:07,298 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:19:07,298 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:19:07,298 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:19:07,299 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:19:07,299 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:19:07 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '549'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '552'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999996'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', '677409a0-40f3-475c-a193-eca9575172e2'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=.wpjIKcG3GFmhyuxUceDu6kW32xBtAJoVL0LUCCZ9Xo-1753561147-1.0.1.1-YsMMHq_MRf17FXWwSZ1zVZFhaQRXDzS3jsDDmkDX8ZLLsDq2n670SeaPqeSJ70WlFvVM3vTqfk5hxrENjWkG4rdPYmtOrVGWnkooJTPk3jk; path=/; expires=Sat, 26-Jul-25 20:49:07 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=CPUnCL.0oWRKPGJRPP._hGZAkDjwq8xjeIkwVSR7zwY-1753561147290-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9656970eaf74f842-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:19:07,299 - openai._base_client - DEBUG - request_id: 677409a0-40f3-475c-a193-eca9575172e2
2025-07-26 20:19:07,554 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-07da1cd2-80a7-4534-9a85-31a79e76c5e4', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'grok-2-1212', 'max_tokens': 10}}
2025-07-26 20:19:07,562 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 20:19:07,562 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:19:07,627 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff7632c9050>
2025-07-26 20:19:07,627 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff764042450> server_hostname='api.x.ai' timeout=5.0
2025-07-26 20:19:07,643 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff7632c9110>
2025-07-26 20:19:07,643 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:19:07,645 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:19:07,646 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:19:07,646 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:19:07,646 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:19:08,081 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:19:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-5ce52da7c72201843d327fa82109eaeb-bc5d095b0041c725-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=faKgy892G_c.QIWyb8I71jW1zR5MKdJbEmAftDeLCpE-1753561148-1.0.1.1-1wRrqYDHlNg9Vyq7zMlFGFYDlur8n7w5VQMdNDCBi2PuOXCjf2Mgsmp7K_Ta1dnc7xQcrmTIHKTei09B5Tgu9FbR_efkJPh.4mNJu9yjqps; path=/; expires=Sat, 26-Jul-25 20:49:08 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96569714df7fab71-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:19:08,082 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:19:08,082 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:19:08,083 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:19:08,083 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:19:08,083 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:19:08,083 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:19:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'x-zero-data-retention': 'false', 'x-request-id': '00-5ce52da7c72201843d327fa82109eaeb-bc5d095b0041c725-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=faKgy892G_c.QIWyb8I71jW1zR5MKdJbEmAftDeLCpE-1753561148-1.0.1.1-1wRrqYDHlNg9Vyq7zMlFGFYDlur8n7w5VQMdNDCBi2PuOXCjf2Mgsmp7K_Ta1dnc7xQcrmTIHKTei09B5Tgu9FbR_efkJPh.4mNJu9yjqps; path=/; expires=Sat, 26-Jul-25 20:49:08 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '96569714df7fab71-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:19:08,083 - openai._base_client - DEBUG - request_id: 00-5ce52da7c72201843d327fa82109eaeb-bc5d095b0041c725-01
2025-07-26 20:19:17,663 - claude_service - INFO - Génération e87bec5a-58b0-4085-94f4-529038ee039b créée avec succès
2025-07-26 20:19:17,929 - claude_service - INFO - Démarrage génération O-Series avec modèle o3
2025-07-26 20:19:18,437 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/responses', 'files': None, 'idempotency_key': 'stainless-python-retry-8fbdea03-6723-441d-884b-aec921488c73', 'json_data': {'input': [{'role': 'user', 'content': 'allo'}], 'model': 'o3', 'reasoning': {'effort': 'medium'}, 'store': True, 'text': {'format': {'type': 'text'}}, 'tools': []}}
2025-07-26 20:19:18,445 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/responses
2025-07-26 20:19:18,445 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:19:18,460 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f898acdb710>
2025-07-26 20:19:18,460 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f898c241e20> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:19:18,475 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f898aced6d0>
2025-07-26 20:19:18,475 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:19:18,476 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:19:18,476 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:19:18,476 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:19:18,476 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:19:22,859 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:19:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999786'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'm-lai'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'x-request-id', b'req_e2bfb451a24a282ab2d33cc99e50bd83'), (b'openai-processing-ms', b'3930'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=rS8aU4dtXQpMnY1eNaEuaS5bWh059ay37v9SkGgQC1A-1753561162-1.0.1.1-SRnqTA5wXU8vGyyPrLbvWDr9lMdLV5Z7Q7kqpFNU5eUKgYaRZIZgEMIQ.DZDPbAR7z_6R1ec6GUEjvhPdyrhfSs65ZorZkViyZ_jiTwhFV0; path=/; expires=Sat, 26-Jul-25 20:49:22 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=arCF8DgZLzdPb7j5i.9iy95OG44ND2PG32vpuCUrUFE-1753561162853-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965697588b67114b-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:19:22,861 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
2025-07-26 20:19:22,861 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:19:22,862 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:19:22,862 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:19:22,862 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:19:22,862 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/responses "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:19:22 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999786'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('openai-version', '2020-10-01'), ('openai-organization', 'm-lai'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('x-request-id', 'req_e2bfb451a24a282ab2d33cc99e50bd83'), ('openai-processing-ms', '3930'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=rS8aU4dtXQpMnY1eNaEuaS5bWh059ay37v9SkGgQC1A-1753561162-1.0.1.1-SRnqTA5wXU8vGyyPrLbvWDr9lMdLV5Z7Q7kqpFNU5eUKgYaRZIZgEMIQ.DZDPbAR7z_6R1ec6GUEjvhPdyrhfSs65ZorZkViyZ_jiTwhFV0; path=/; expires=Sat, 26-Jul-25 20:49:22 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=arCF8DgZLzdPb7j5i.9iy95OG44ND2PG32vpuCUrUFE-1753561162853-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '965697588b67114b-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:19:22,863 - openai._base_client - DEBUG - request_id: req_e2bfb451a24a282ab2d33cc99e50bd83
2025-07-26 20:19:22,933 - claude_service - INFO - Structure de réponse O-Series: <class 'openai.types.responses.response.Response'>
2025-07-26 20:19:22,933 - claude_service - INFO - Attributs disponibles: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_get_value', '_iter', '_request_id', '_setattr_handler', 'background', 'construct', 'copy', 'created_at', 'dict', 'error', 'from_orm', 'id', 'incomplete_details', 'instructions', 'json', 'max_output_tokens', 'max_tool_calls', 'metadata', 'model', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'object', 'output', 'output_text', 'parallel_tool_calls', 'parse_file', 'parse_obj', 'parse_raw', 'previous_response_id', 'prompt', 'reasoning', 'schema', 'schema_json', 'service_tier', 'status', 'temperature', 'text', 'to_dict', 'to_json', 'tool_choice', 'tools', 'top_logprobs', 'top_p', 'truncation', 'update_forward_refs', 'usage', 'user', 'validate']
2025-07-26 20:19:22,934 - claude_service - INFO - Détection d'artefacts d'objets, utilisation du fallback
2025-07-26 20:19:35,033 - claude_service - INFO - Coût enregistré pour e87bec5a-58b0-4085-94f4-529038ee039b: $0.3300
2025-07-26 20:19:35,190 - routes - INFO - Stream terminé pour e87bec5a-58b0-4085-94f4-529038ee039b: completed
2025-07-26 20:20:00,388 - httpcore.connection - DEBUG - close.started
2025-07-26 20:20:00,388 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:20:00,415 - httpcore.connection - DEBUG - close.started
2025-07-26 20:20:00,417 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:20:01,999 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:20:02,036 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:20:02,447 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:20:02,515 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:20:02,724 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:20:02,743 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:20:02,839 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:20:02,852 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:20:03,135 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:20:03,138 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:20:03,147 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:20:03,151 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:20:05,914 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:20:06,460 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:20:06,581 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:20:06,762 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:20:06,793 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:20:07,149 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:20:07,168 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:20:07,229 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:20:07,247 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:20:07,426 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:20:07,872 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:20:07,881 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:20:38,534 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:20:38,960 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:20:38,971 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:20:49,524 - claude_service - INFO - Génération 3dc7ca61-d111-4f7e-89f9-74f349176dca créée avec succès
2025-07-26 20:20:49,780 - claude_service - INFO - Démarrage génération O-Series avec modèle o3
2025-07-26 20:20:50,056 - claude_service - INFO - Utilisation du fallback GPT-4o pour simuler o3
2025-07-26 20:20:50,056 - claude_service - ERROR - Erreur API responses.create pour o3: Utilisation intentionnelle du fallback pour stabilité
2025-07-26 20:20:50,057 - claude_service - INFO - Details de l'erreur: AttributeError: Utilisation intentionnelle du fallback pour stabilité
2025-07-26 20:20:50,057 - claude_service - INFO - Fallback vers API chat.completions pour o3
2025-07-26 20:20:50,276 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-91eeb9b8-fc8c-4ddd-83e7-c35ef61ce5fd', 'json_data': {'messages': [{'role': 'system', 'content': "Tu es un modèle de raisonnement avancé spécialisé. Tu dois toujours suivre la structure demandée avec les sections 'Processus de raisonnement' et 'Réponse finale'."}, {'role': 'user', 'content': "Tu es le modèle de raisonnement o3. Tu dois suivre cette structure exacte :\n\n## 🧠 Processus de raisonnement:\n\n[Explique ici ton processus de réflexion étape par étape. Analyse le problème, considère différentes approches, évalue les options, et montre ta logique de raisonnement avant d'arriver à la conclusion.]\n\n## 💬 Réponse finale:\n\n[Donne ici ta réponse finale claire et concise basée sur ton raisonnement ci-dessus.]\n\nPrompt de l'utilisateur: alo"}], 'model': 'gpt-4o', 'max_tokens': 4000, 'temperature': 0.7}}
2025-07-26 20:20:50,284 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:20:50,284 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:20:50,299 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f898ab6b350>
2025-07-26 20:20:50,300 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f898c241eb0> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:20:50,315 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f898c022590>
2025-07-26 20:20:50,316 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:20:50,316 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:20:50,316 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:20:50,317 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:20:50,317 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:20:55,774 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:20:55 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'5026'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'5027'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999837'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'9b3b35c1-da0d-4391-8dd6-6a2ddb27d166'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=G4kRX4FYpCPGA6BauLz6t3LJllDhod5li6_uFu0Ra68-1753561255-1.0.1.1-.oyE8ioCzB2vXnEEBeA6I5etU5.0MABfSz4ISYTbtUDf485gbeHkbUxiZ6jnSOq9WGcSFGekRWIW2SlGAULhX5utDj1g5Gi9jM53IJSHTdE; path=/; expires=Sat, 26-Jul-25 20:50:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ZiHglrpC9zXXEmuv0ZvH9Ep0L5wiQtIdXkg.XihGoDE-1753561255766-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'965699968c8d20d4-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:20:55,776 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:20:55,776 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:20:55,779 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:20:55,779 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:20:55,780 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:20:55,780 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:20:55 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '5026'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '5027'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999837'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', '9b3b35c1-da0d-4391-8dd6-6a2ddb27d166'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=G4kRX4FYpCPGA6BauLz6t3LJllDhod5li6_uFu0Ra68-1753561255-1.0.1.1-.oyE8ioCzB2vXnEEBeA6I5etU5.0MABfSz4ISYTbtUDf485gbeHkbUxiZ6jnSOq9WGcSFGekRWIW2SlGAULhX5utDj1g5Gi9jM53IJSHTdE; path=/; expires=Sat, 26-Jul-25 20:50:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=ZiHglrpC9zXXEmuv0ZvH9Ep0L5wiQtIdXkg.XihGoDE-1753561255766-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '965699968c8d20d4-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:20:55,780 - openai._base_client - DEBUG - request_id: 9b3b35c1-da0d-4391-8dd6-6a2ddb27d166
2025-07-26 20:20:55,791 - claude_service - INFO - Fallback réussi pour o3, réponse de 1194 caractères
2025-07-26 20:21:21,020 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:21:21,373 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:21:21,383 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:21:53,249 - claude_service - INFO - Coût enregistré pour 3dc7ca61-d111-4f7e-89f9-74f349176dca: $1.8260
2025-07-26 20:29:11,161 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:11,390 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:12,056 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:12,069 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:12,115 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:12,140 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:12,423 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:12,468 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:12,997 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:13,006 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:13,067 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:13,077 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:17,345 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:17,571 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:17,605 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:18,025 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:18,041 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:18,110 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:18,113 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:18,123 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:18,200 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:18,216 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:18,602 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:18,616 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:28,350 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:28,416 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:28,778 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:29,016 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:29,030 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:29,159 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:29,172 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:29,409 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:29:29,427 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:29,440 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:29,848 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:29:29,860 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:29:30,699 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-497e5f2b-323d-401b-b73e-62b5455aca7d', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 20:29:30,706 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:29:30,707 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:29:30,733 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d656b9950>
2025-07-26 20:29:30,734 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3d6585deb0> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:29:30,749 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3d656b9910>
2025-07-26 20:29:30,749 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:29:30,750 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:29:30,750 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:29:30,750 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:29:30,750 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:29:31,910 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:29:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:29:31Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:29:31Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:29:30Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:29:31Z'), (b'request-id', b'req_011CRWGCWsZHyZYAy9yfmvDX'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656a64b3cd5eacf-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:29:31,911 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:29:31,911 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:29:31,912 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:29:31,912 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:29:31,912 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:29:31,912 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:29:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:29:31Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:29:31Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:29:30Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:29:31Z', 'request-id': 'req_011CRWGCWsZHyZYAy9yfmvDX', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656a64b3cd5eacf-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:29:31,913 - anthropic._base_client - DEBUG - request_id: req_011CRWGCWsZHyZYAy9yfmvDX
2025-07-26 20:29:32,186 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-022ba401-1253-445e-8795-1e20c069e852', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'gpt-4o', 'max_tokens': 10}}
2025-07-26 20:29:32,193 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:29:32,193 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:29:32,210 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f9836b12150>
2025-07-26 20:29:32,211 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f9837a42330> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:29:32,229 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f9836b12210>
2025-07-26 20:29:32,229 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:29:32,230 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:29:32,230 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:29:32,230 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:29:32,230 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:29:32,720 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:29:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'342'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'382'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999996'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'db9c0b7b-41ee-423f-82f9-cd93ed6f718d'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=IkOmUUztpIbB6mclSOb7dD9zFdca7dhFvCLGRevEPwM-1753561772-1.0.1.1-GqY1YuaDR90di8r8S_BYIuB._DH0h2mktP2FMkLX60ph8d0Kw6b.escjn5DIR7v1vVzHQRMnEiIz5U81kBqxFtoNohSIxyQHfjTYdXaisD4; path=/; expires=Sat, 26-Jul-25 20:59:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=oUQH0c_vOcF5wY_KCCxMAvGmrG6CCXd9p9j7Zukjwy4-1753561772713-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656a65478c460a1-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:29:32,721 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:29:32,721 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:29:32,722 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:29:32,722 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:29:32,722 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:29:32,722 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:29:32 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '342'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '382'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999996'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'db9c0b7b-41ee-423f-82f9-cd93ed6f718d'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=IkOmUUztpIbB6mclSOb7dD9zFdca7dhFvCLGRevEPwM-1753561772-1.0.1.1-GqY1YuaDR90di8r8S_BYIuB._DH0h2mktP2FMkLX60ph8d0Kw6b.escjn5DIR7v1vVzHQRMnEiIz5U81kBqxFtoNohSIxyQHfjTYdXaisD4; path=/; expires=Sat, 26-Jul-25 20:59:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=oUQH0c_vOcF5wY_KCCxMAvGmrG6CCXd9p9j7Zukjwy4-1753561772713-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9656a65478c460a1-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:29:32,723 - openai._base_client - DEBUG - request_id: db9c0b7b-41ee-423f-82f9-cd93ed6f718d
2025-07-26 20:29:32,984 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-5f2d9370-cef2-40cc-bd52-524012b1e9eb', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'grok-2-1212', 'max_tokens': 10}}
2025-07-26 20:29:32,993 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 20:29:32,993 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:29:33,019 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f08e22f0f10>
2025-07-26 20:29:33,020 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f08e306e210> server_hostname='api.x.ai' timeout=5.0
2025-07-26 20:29:33,038 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f08e22f0fd0>
2025-07-26 20:29:33,038 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:29:33,040 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:29:33,041 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:29:33,041 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:29:33,041 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:29:33,466 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:29:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-dbe2e75b51d8a8038c6368d1d1e514f0-9732574200422439-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=OFs_oI0eTva6eLhivk8uF70AqNl9nIr0zhYgkirGPfk-1753561773-1.0.1.1-j9g1vWBrrN4jqykWaVmGF_P5m0SGv2Yfj0C1.HGIsGeNUff3ClNZ8VL5YOG8h.Jq6kLIhB1sDkwpzR_MyJiWlAuVw7kOgMz84YsYwZVGcaM; path=/; expires=Sat, 26-Jul-25 20:59:33 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656a65989859126-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:29:33,467 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:29:33,468 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:29:33,468 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:29:33,468 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:29:33,468 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:29:33,468 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:29:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'x-zero-data-retention': 'false', 'x-request-id': '00-dbe2e75b51d8a8038c6368d1d1e514f0-9732574200422439-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=OFs_oI0eTva6eLhivk8uF70AqNl9nIr0zhYgkirGPfk-1753561773-1.0.1.1-j9g1vWBrrN4jqykWaVmGF_P5m0SGv2Yfj0C1.HGIsGeNUff3ClNZ8VL5YOG8h.Jq6kLIhB1sDkwpzR_MyJiWlAuVw7kOgMz84YsYwZVGcaM; path=/; expires=Sat, 26-Jul-25 20:59:33 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '9656a65989859126-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:29:33,469 - openai._base_client - DEBUG - request_id: 00-dbe2e75b51d8a8038c6368d1d1e514f0-9732574200422439-01
2025-07-26 20:29:44,693 - httpcore.connection - DEBUG - close.started
2025-07-26 20:29:44,694 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:30:13,245 - httpcore.connection - DEBUG - close.started
2025-07-26 20:30:13,246 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:30:13,421 - httpcore.connection - DEBUG - close.started
2025-07-26 20:30:13,422 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:30:14,372 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:30:14,862 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:30:15,014 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:30:15,031 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:30:15,305 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:30:15,568 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:30:15,579 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:30:15,662 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:30:16,029 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:30:16,049 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:30:16,184 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:30:16,194 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:30:47,319 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:30:47,674 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:30:47,684 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:30:57,746 - claude_service - INFO - Génération d876c511-6d52-4387-9607-c32db9a8e9a2 créée avec succès
2025-07-26 20:30:58,011 - claude_service - INFO - Démarrage génération O-Series avec modèle o3
2025-07-26 20:30:58,292 - claude_service - INFO - Tentative de connexion à l'API responses.create pour o3
2025-07-26 20:30:58,587 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/responses', 'files': None, 'idempotency_key': 'stainless-python-retry-f4355d16-fe61-4362-8da7-5705e618685e', 'json_data': {'input': [{'role': 'user', 'content': [{'type': 'input_text', 'text': 'allo'}]}], 'model': 'o3', 'reasoning': {'effort': 'medium', 'summary': 'auto'}, 'store': True, 'stream': True, 'text': {'format': {'type': 'text'}}, 'tools': []}}
2025-07-26 20:30:58,597 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/responses
2025-07-26 20:30:58,597 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:30:58,610 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3b6bfa83d0>
2025-07-26 20:30:58,610 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3b71869c70> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:30:58,632 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3b701e1550>
2025-07-26 20:30:58,632 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:30:58,633 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:30:58,633 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:30:58,634 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:30:58,634 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:30:59,044 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:30:59 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'm-lai'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'x-request-id', b'req_b90cc43a2281450290e461567428de05'), (b'openai-processing-ms', b'275'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=nQ2zrgCLa16jsTi4c8dcl0Ba49JOmcVJ.aVE_i66LOQ-1753561859-1.0.1.1-g3dmJLjZwdhdK5FF8av.LaQHXodTHGs_PawZVSqSisdXJqME73kA_YlEyY72KtIbzXts8KhucrvJ785r42oZL4wlyVeUDyVeHrC35iTVick; path=/; expires=Sat, 26-Jul-25 21:00:59 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=LaLzjfj4AwJj0OBqYrH9sSl88EMoT9mtKJccZyjTi8c-1753561859037-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656a8707f580276-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:30:59,045 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
2025-07-26 20:30:59,045 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/responses "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:30:59 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-version', '2020-10-01'), ('openai-organization', 'm-lai'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('x-request-id', 'req_b90cc43a2281450290e461567428de05'), ('openai-processing-ms', '275'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=nQ2zrgCLa16jsTi4c8dcl0Ba49JOmcVJ.aVE_i66LOQ-1753561859-1.0.1.1-g3dmJLjZwdhdK5FF8av.LaQHXodTHGs_PawZVSqSisdXJqME73kA_YlEyY72KtIbzXts8KhucrvJ785r42oZL4wlyVeUDyVeHrC35iTVick; path=/; expires=Sat, 26-Jul-25 21:00:59 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=LaLzjfj4AwJj0OBqYrH9sSl88EMoT9mtKJccZyjTi8c-1753561859037-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9656a8707f580276-ORD'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:30:59,045 - openai._base_client - DEBUG - request_id: req_b90cc43a2281450290e461567428de05
2025-07-26 20:30:59,045 - claude_service - INFO - Début du parsing du stream O-Series pour o3
2025-07-26 20:30:59,045 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:31:26,766 - claude_service - INFO - Réponse O-Series complétée pour o3
2025-07-26 20:31:27,051 - claude_service - INFO - Coût enregistré pour d876c511-6d52-4387-9607-c32db9a8e9a2: $0.9460
2025-07-26 20:31:27,109 - routes - INFO - Stream terminé pour d876c511-6d52-4387-9607-c32db9a8e9a2: completed
2025-07-26 20:33:33,052 - httpcore.http11 - DEBUG - receive_response_body.failed exception=GeneratorExit()
2025-07-26 20:33:33,053 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:33:33,053 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:33:34,797 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:33:34,803 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:33:35,235 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:33:35,494 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:33:35,516 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:33:35,562 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:33:35,579 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:33:35,591 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:33:36,006 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:33:36,025 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:33:36,131 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:33:36,142 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:21,848 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:22,096 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:22,639 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:22,702 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:22,720 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:22,969 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:22,981 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:23,110 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:23,159 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:23,171 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:23,514 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:23,523 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:33,484 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:33,937 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:34,351 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:34,380 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:34,479 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:34,639 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:34,666 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:34,829 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:34,966 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:34,991 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:35,362 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:35,377 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:37,902 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:38,561 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:38,604 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:38,836 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:38,969 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:39,316 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:39,328 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:39,339 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:39,404 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:39,417 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:39,689 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:39,698 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:42,481 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:42,717 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:43,066 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:43,099 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:43,405 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:43,420 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:43,895 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:43,927 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:44,336 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:44,349 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:44,372 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:44,380 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:47,295 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:47,501 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:47,542 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:47,623 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:34:47,843 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:47,857 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:48,120 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:48,136 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:48,154 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:48,166 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:34:48,206 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:34:48,214 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:35:02,504 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:35:02,759 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:35:02,841 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:35:02,843 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:35:03,136 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:35:03,152 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:35:03,309 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:35:03,309 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:35:03,318 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:35:03,321 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:35:03,322 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:35:03,336 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:35:22,088 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:35:22,441 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:35:22,451 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:37:10,947 - claude_service - INFO - Génération 6d01fdf6-9d7d-4427-b9ab-e214c9a13729 créée avec succès
2025-07-26 20:37:11,217 - claude_service - INFO - Démarrage génération O-Series avec modèle o3
2025-07-26 20:37:11,506 - claude_service - INFO - Connexion à l'API responses.create pour o3
2025-07-26 20:37:11,756 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/responses', 'files': None, 'idempotency_key': 'stainless-python-retry-81ac8c4a-7dd4-4910-8fce-df3062a2cb91', 'json_data': {'input': [{'role': 'user', 'content': [{'type': 'input_text', 'text': 'allo'}]}], 'model': 'o3', 'reasoning': {'effort': 'medium', 'summary': 'auto'}, 'store': True, 'stream': True, 'text': {'format': {'type': 'text'}}, 'tools': []}}
2025-07-26 20:37:11,763 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/responses
2025-07-26 20:37:11,763 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:37:11,776 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb32d6a8350>
2025-07-26 20:37:11,776 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb32ee6dd00> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:37:11,793 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb32d7f3890>
2025-07-26 20:37:11,794 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:37:11,794 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:37:11,794 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:37:11,795 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:37:11,795 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:37:12,137 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:37:12 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'm-lai'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'x-request-id', b'req_aa5e24b4b0eb1f3e7798f3ea3a2cdd5a'), (b'openai-processing-ms', b'181'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=ftbs9S5RqZCuluhSTHuOHQ.cInbU564VN44_2Edp5Gw-1753562232-1.0.1.1-Ry6XbOXGZU26Sh9DmQUXJHVfRTeWn.w4ESJHLrE4WjntCYQN1p9JVJyR9T2MTdywp35BvyApsYy4osXHWFEa6ckRtK10Vzv4p3asvR_SXkc; path=/; expires=Sat, 26-Jul-25 21:07:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=iqSgPeXAC2El1SrpD6iClB0Y6h_rYjaVVfGj7lBbnHw-1753562232130-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656b18cb84486f6-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:37:12,138 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
2025-07-26 20:37:12,139 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/responses "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:37:12 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-version', '2020-10-01'), ('openai-organization', 'm-lai'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('x-request-id', 'req_aa5e24b4b0eb1f3e7798f3ea3a2cdd5a'), ('openai-processing-ms', '181'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=ftbs9S5RqZCuluhSTHuOHQ.cInbU564VN44_2Edp5Gw-1753562232-1.0.1.1-Ry6XbOXGZU26Sh9DmQUXJHVfRTeWn.w4ESJHLrE4WjntCYQN1p9JVJyR9T2MTdywp35BvyApsYy4osXHWFEa6ckRtK10Vzv4p3asvR_SXkc; path=/; expires=Sat, 26-Jul-25 21:07:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=iqSgPeXAC2El1SrpD6iClB0Y6h_rYjaVVfGj7lBbnHw-1753562232130-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9656b18cb84486f6-ORD'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:37:12,139 - openai._base_client - DEBUG - request_id: req_aa5e24b4b0eb1f3e7798f3ea3a2cdd5a
2025-07-26 20:37:12,139 - claude_service - INFO - Début du parsing du stream O-Series pour o3
2025-07-26 20:37:12,139 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:37:42,532 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:37:42,858 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:37:42,866 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:39:15,266 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:39:15,980 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:39:16,005 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:39:16,248 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:39:16,537 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:39:16,603 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:39:16,822 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:39:16,833 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:39:17,155 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:39:17,172 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:39:17,225 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:39:17,234 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:39:28,873 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:39:29,197 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:39:29,205 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:40:42,600 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:40:42,730 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:40:42,823 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:40:43,289 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:40:43,306 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:40:43,510 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:40:43,510 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:40:43,523 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:40:43,526 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:40:44,007 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:40:44,500 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:40:44,512 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:41:38,865 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:41:39,247 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:41:39,256 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:42:43,031 - database - INFO - Génération 6d01fdf6-9d7d-4427-b9ab-e214c9a13729 supprimée
2025-07-26 20:42:47,995 - database - INFO - Génération d876c511-6d52-4387-9607-c32db9a8e9a2 supprimée
2025-07-26 20:42:52,257 - database - INFO - Génération 3dc7ca61-d111-4f7e-89f9-74f349176dca supprimée
2025-07-26 20:42:56,599 - database - INFO - Génération e87bec5a-58b0-4085-94f4-529038ee039b supprimée
2025-07-26 20:43:02,008 - database - INFO - Génération a323d8aa-c145-4c9c-8b1b-86f00b3a5082 supprimée
2025-07-26 20:46:34,584 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:46:35,239 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:46:35,252 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:46:35,335 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:46:35,532 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:46:35,552 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:46:35,826 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:46:35,844 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:46:35,995 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:46:36,012 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:46:36,027 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:46:36,041 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:46:41,142 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:46:41,812 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:46:41,820 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:46:41,903 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:46:42,311 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:46:42,431 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:46:42,510 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:46:42,522 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:46:42,741 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:46:42,748 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:46:42,899 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:46:42,912 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:47:06,045 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:47:06,250 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:47:06,646 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:47:06,699 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:47:06,712 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:47:07,092 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:47:07,105 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:47:07,259 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:47:07,266 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:47:07,270 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:47:07,654 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:47:07,662 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:47:09,773 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:47:10,446 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:47:10,507 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:47:10,523 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:47:10,663 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:47:10,998 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:47:11,015 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:47:11,204 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:47:11,212 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:47:42,089 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:47:42,399 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:47:42,407 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:01,257 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:01,604 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:01,924 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:01,934 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:02,003 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:02,210 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:02,225 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:02,273 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:02,404 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:02,415 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:02,702 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:02,712 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:13,119 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:13,722 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:13,857 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:13,868 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:14,024 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:14,295 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:14,347 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:14,363 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:14,514 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:14,528 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:14,678 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:14,687 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:17,518 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:17,991 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:18,081 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:18,107 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:18,119 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:18,519 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:18,527 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:18,534 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:48:18,565 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:18,574 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:48:18,950 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:48:18,959 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:21,696 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:21,804 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:21,840 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:22,314 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:22,329 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:22,495 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:22,528 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:22,542 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:22,632 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:22,643 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:23,047 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:23,059 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:26,120 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:26,127 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:26,414 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:26,734 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:26,745 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:26,781 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:26,799 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:26,903 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:27,134 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:27,147 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:27,420 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:27,430 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:29,762 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:29,844 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:30,157 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:30,166 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:30,221 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:30,229 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:37,895 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:50:38,259 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:50:38,270 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:50:52,774 - claude_service - INFO - Génération 67e52f2a-1fac-4ed9-886b-800528e32592 créée avec succès
2025-07-26 20:50:53,043 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e93af104-5711-48e1-a23c-2da72169bc90', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 20:50:53,050 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:50:53,051 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:50:53,077 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8c77925c50>
2025-07-26 20:50:53,078 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f8c789c7d10> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:50:53,093 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8c77933290>
2025-07-26 20:50:53,094 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:50:53,094 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:50:53,095 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:50:53,095 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:50:53,095 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:50:53,965 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:50:53 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-RAY', b'9656c599dfcaeaef-ORD'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:50:53Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:50:53Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:50:53Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:50:53Z'), (b'request-id', b'req_011CRWHq3SSgT14fNyirJttu'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare')])
2025-07-26 20:50:53,967 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:50:53,967 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:50:53 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-ray': '9656c599dfcaeaef-ORD', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:50:53Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:50:53Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:50:53Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:50:53Z', 'request-id': 'req_011CRWHq3SSgT14fNyirJttu', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare'})
2025-07-26 20:50:53,967 - anthropic._base_client - DEBUG - request_id: req_011CRWHq3SSgT14fNyirJttu
2025-07-26 20:50:53,967 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:50:54,857 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:50:54,857 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:50:54,857 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:50:55,143 - claude_service - INFO - Coût enregistré pour 67e52f2a-1fac-4ed9-886b-800528e32592: $0.0003
2025-07-26 20:50:55,293 - routes - INFO - Stream terminé pour 67e52f2a-1fac-4ed9-886b-800528e32592: completed
2025-07-26 20:51:08,637 - claude_service - INFO - Génération 145485d6-2635-4f74-870b-01fc65ce2955 créée avec succès
2025-07-26 20:51:08,905 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-f9cacbbc-1680-41bb-8112-f666f875038f', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'ca va'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 20:51:08,912 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:51:08,912 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:51:08,938 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f89d53625d0>
2025-07-26 20:51:08,939 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f89d63bfd10> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:51:08,955 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f89d53769d0>
2025-07-26 20:51:08,956 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:51:08,956 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:51:08,957 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:51:08,957 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:51:08,957 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:51:10,338 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:51:10 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-RAY', b'9656c5fd0fc21401-ORD'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:51:09Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:51:09Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:51:09Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:51:09Z'), (b'request-id', b'req_011CRWHrDFpXEkAsngoKxhv5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare')])
2025-07-26 20:51:10,340 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:51:10,340 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:51:10 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-ray': '9656c5fd0fc21401-ORD', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:51:09Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:51:09Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:51:09Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:51:09Z', 'request-id': 'req_011CRWHrDFpXEkAsngoKxhv5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare'})
2025-07-26 20:51:10,340 - anthropic._base_client - DEBUG - request_id: req_011CRWHrDFpXEkAsngoKxhv5
2025-07-26 20:51:10,341 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:51:11,539 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:51:11,539 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:51:11,540 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:51:11,837 - claude_service - INFO - Coût enregistré pour 145485d6-2635-4f74-870b-01fc65ce2955: $0.0004
2025-07-26 20:51:12,120 - routes - INFO - Stream terminé pour 145485d6-2635-4f74-870b-01fc65ce2955: completed
2025-07-26 20:51:44,090 - claude_service - INFO - Génération 295777ab-a4fa-4316-be39-f24db93d834b créée avec succès
2025-07-26 20:51:44,355 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-46cdb8c1-1eab-44e6-bd3a-5c0ffea861c8', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'cest quoi mon premier message que je tai envoyer'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 20:51:44,356 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:51:44,356 - httpcore.connection - DEBUG - close.started
2025-07-26 20:51:44,356 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:51:44,357 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:51:44,382 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f89d53c4ed0>
2025-07-26 20:51:44,383 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f89d63bfd10> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:51:44,399 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f89d53be210>
2025-07-26 20:51:44,399 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:51:44,400 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:51:44,400 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:51:44,400 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:51:44,400 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:51:45,304 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:51:45 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-RAY', b'9656c6da8dd8eae8-ORD'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:51:44Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:51:44Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:51:44Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:51:44Z'), (b'request-id', b'req_011CRWHtpoYDA5YJ8tGDUZ5G'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare')])
2025-07-26 20:51:45,305 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:51:45,305 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:51:45 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-ray': '9656c6da8dd8eae8-ORD', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:51:44Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:51:44Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:51:44Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:51:44Z', 'request-id': 'req_011CRWHtpoYDA5YJ8tGDUZ5G', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare'})
2025-07-26 20:51:45,305 - anthropic._base_client - DEBUG - request_id: req_011CRWHtpoYDA5YJ8tGDUZ5G
2025-07-26 20:51:45,306 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:51:49,103 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:51:49,104 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:51:49,104 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:51:49,406 - claude_service - INFO - Coût enregistré pour 295777ab-a4fa-4316-be39-f24db93d834b: $0.0014
2025-07-26 20:51:49,664 - routes - INFO - Stream terminé pour 295777ab-a4fa-4316-be39-f24db93d834b: completed
2025-07-26 20:52:56,851 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:52:56,909 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:52:56,913 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:52:57,003 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:52:57,545 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:52:57,558 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:52:57,568 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:52:57,575 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:52:57,612 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:52:57,627 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:52:57,856 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:52:57,865 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:53:02,107 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:53:02,133 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:53:02,363 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:53:02,862 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:53:02,922 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:53:02,935 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:53:02,969 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:53:02,980 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:53:03,038 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:53:03,048 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:53:03,354 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:53:03,367 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:53:29,453 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:53:29,535 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:53:29,558 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:53:29,911 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:53:30,129 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:53:30,142 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:53:30,197 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:53:30,201 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:53:30,211 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:53:30,216 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:53:30,397 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:53:30,406 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:53:39,567 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:53:39,935 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:53:39,945 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:54:45,673 - claude_service - INFO - Génération e00db594-9a18-4646-9b35-c3d597897aad créée avec succès
2025-07-26 20:54:45,933 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-3e9eaa8a-cb14-4247-9531-687c6511fe08', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 20:54:45,940 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:54:45,942 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:54:45,956 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8c782bc810>
2025-07-26 20:54:45,956 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f8c789cbe30> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:54:45,972 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8c77953210>
2025-07-26 20:54:45,973 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:54:45,973 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:54:45,973 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:54:45,974 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:54:45,974 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:54:47,472 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:54:47 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:54:46Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:54:46Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:54:46Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:54:46Z'), (b'request-id', b'req_011CRWJ8E4t6CYs6UkgQj3zQ'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656cb495aad232d-ORD')])
2025-07-26 20:54:47,473 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:54:47,473 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:54:47 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:54:46Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:54:46Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:54:46Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:54:46Z', 'request-id': 'req_011CRWJ8E4t6CYs6UkgQj3zQ', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656cb495aad232d-ORD'})
2025-07-26 20:54:47,473 - anthropic._base_client - DEBUG - request_id: req_011CRWJ8E4t6CYs6UkgQj3zQ
2025-07-26 20:54:47,474 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:54:48,344 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:54:48,344 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:54:48,344 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:54:48,631 - claude_service - INFO - Coût enregistré pour e00db594-9a18-4646-9b35-c3d597897aad: $0.0003
2025-07-26 20:54:48,802 - routes - INFO - Stream terminé pour e00db594-9a18-4646-9b35-c3d597897aad: completed
2025-07-26 20:55:10,430 - claude_service - INFO - Génération 01344b13-0758-46f9-bab6-6e35fe0dfc9c créée avec succès
2025-07-26 20:55:10,687 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b05acf4d-5d65-481c-bc80-241bc3e5b6b4', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'cest quoi le premier mesdsage que je tai envoeyer'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 20:55:10,688 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:55:10,688 - httpcore.connection - DEBUG - close.started
2025-07-26 20:55:10,689 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:55:10,689 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:55:10,750 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8c779bc7d0>
2025-07-26 20:55:10,751 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f8c789cbe30> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:55:10,766 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8c779a5610>
2025-07-26 20:55:10,766 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:55:10,767 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:55:10,767 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:55:10,767 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:55:10,768 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:55:11,746 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:55:11 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:55:10Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:55:10Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:55:10Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:55:10Z'), (b'request-id', b'req_011CRWJA36tJjkoDgtDUjCJV'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656cbe45e3922f9-ORD')])
2025-07-26 20:55:11,747 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:55:11,747 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:55:11 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:55:10Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:55:10Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:55:10Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:55:10Z', 'request-id': 'req_011CRWJA36tJjkoDgtDUjCJV', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656cbe45e3922f9-ORD'})
2025-07-26 20:55:11,747 - anthropic._base_client - DEBUG - request_id: req_011CRWJA36tJjkoDgtDUjCJV
2025-07-26 20:55:11,748 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:55:15,937 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:55:15,937 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:55:15,938 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:55:16,217 - claude_service - INFO - Coût enregistré pour 01344b13-0758-46f9-bab6-6e35fe0dfc9c: $0.0015
2025-07-26 20:55:16,308 - routes - INFO - Stream terminé pour 01344b13-0758-46f9-bab6-6e35fe0dfc9c: completed
2025-07-26 20:56:22,205 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-386f6211-6145-4a2d-b65c-dea8f5214b40', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 20:56:22,213 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:56:22,214 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:56:22,241 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f6935664a10>
2025-07-26 20:56:22,241 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f69356f8560> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:56:22,257 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f6934d78690>
2025-07-26 20:56:22,257 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:56:22,258 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:56:22,258 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:56:22,258 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:56:22,258 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:56:23,711 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:56:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:56:23Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:56:23Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:56:22Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:56:23Z'), (b'request-id', b'req_011CRWJFJk7hwZYWH5YkXtNs'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656cda32d0eeae0-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 20:56:23,712 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:56:23,712 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:56:23,712 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:56:23,713 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:56:23,713 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:56:23,713 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:56:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:56:23Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:56:23Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:56:22Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:56:23Z', 'request-id': 'req_011CRWJFJk7hwZYWH5YkXtNs', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656cda32d0eeae0-ORD', 'content-encoding': 'gzip'})
2025-07-26 20:56:23,713 - anthropic._base_client - DEBUG - request_id: req_011CRWJFJk7hwZYWH5YkXtNs
2025-07-26 20:56:24,007 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-fc73923a-fe30-41df-abb6-6e25093797d7', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'gpt-4o', 'max_tokens': 10}}
2025-07-26 20:56:24,008 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:56:24,011 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:56:24,031 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8c76c1a710>
2025-07-26 20:56:24,032 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f8c77910b00> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:56:24,049 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8c76c1a7d0>
2025-07-26 20:56:24,049 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:56:24,050 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:56:24,050 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:56:24,050 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:56:24,050 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:56:24,562 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:56:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'384'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'387'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999996'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'9382b2e8-0afc-467f-92b4-e63cef3e2b68'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=EAWTPp9qQh5IhOwxtVCQhMcNx8Qc0u4F2.iMvBzBysE-1753563384-1.0.1.1-Q.ZplLhwBQdh4UotaSBeiJayyIKNIvpu__CHI6qtg22Pu4GORGbmUABqC0Rr82MS5iUwcI4nqNaCB6xkQDovDW7jNNU1UeulRpZ7gdGSjdg; path=/; expires=Sat, 26-Jul-25 21:26:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=vpzznWv6hI00d8xYz1whW6niSvsITSPVq1NffFA.g74-1753563384555-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656cdae5f2c4d2c-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:56:24,563 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:56:24,563 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:56:24,564 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:56:24,564 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:56:24,564 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:56:24,564 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:56:24 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '384'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '387'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999996'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', '9382b2e8-0afc-467f-92b4-e63cef3e2b68'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=EAWTPp9qQh5IhOwxtVCQhMcNx8Qc0u4F2.iMvBzBysE-1753563384-1.0.1.1-Q.ZplLhwBQdh4UotaSBeiJayyIKNIvpu__CHI6qtg22Pu4GORGbmUABqC0Rr82MS5iUwcI4nqNaCB6xkQDovDW7jNNU1UeulRpZ7gdGSjdg; path=/; expires=Sat, 26-Jul-25 21:26:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=vpzznWv6hI00d8xYz1whW6niSvsITSPVq1NffFA.g74-1753563384555-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9656cdae5f2c4d2c-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:56:24,564 - openai._base_client - DEBUG - request_id: 9382b2e8-0afc-467f-92b4-e63cef3e2b68
2025-07-26 20:56:24,847 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-53fef1cf-5dd6-4f86-80ea-6ad700689dc1', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'grok-2-1212', 'max_tokens': 10}}
2025-07-26 20:56:24,855 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 20:56:24,855 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:56:24,883 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fc2ad1c42d0>
2025-07-26 20:56:24,883 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc2ad515f40> server_hostname='api.x.ai' timeout=5.0
2025-07-26 20:56:24,900 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fc2ad5659d0>
2025-07-26 20:56:24,901 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:56:24,902 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:56:24,902 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:56:24,903 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:56:24,903 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:56:25,201 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:56:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-e33900c830f9babe86fe8992cf85f3d2-6eff44a00043c42b-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=W1qKjcfSKjjHya2T2KUtPjmjnFAmlEmcLdZxlP9t2ao-1753563385-1.0.1.1-KnghO1H5lwepvdU5lKTdlyyI3TeB2mfU2ad09BEzl3A0Z_e5sx_zkDOkGzLgWd3Jr1vwFJDkAXbb7CfrpXsEs2Ztskq0tZ6SzVxfUq9WZmo; path=/; expires=Sat, 26-Jul-25 21:26:25 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656cdb3af36619f-ORD')])
2025-07-26 20:56:25,209 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:56:25,210 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:56:25,210 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:56:25,211 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:56:25,211 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:56:25,211 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:56:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'x-zero-data-retention': 'false', 'x-request-id': '00-e33900c830f9babe86fe8992cf85f3d2-6eff44a00043c42b-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=W1qKjcfSKjjHya2T2KUtPjmjnFAmlEmcLdZxlP9t2ao-1753563385-1.0.1.1-KnghO1H5lwepvdU5lKTdlyyI3TeB2mfU2ad09BEzl3A0Z_e5sx_zkDOkGzLgWd3Jr1vwFJDkAXbb7CfrpXsEs2Ztskq0tZ6SzVxfUq9WZmo; path=/; expires=Sat, 26-Jul-25 21:26:25 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '9656cdb3af36619f-ORD'})
2025-07-26 20:56:25,211 - openai._base_client - DEBUG - request_id: 00-e33900c830f9babe86fe8992cf85f3d2-6eff44a00043c42b-01
2025-07-26 20:56:37,415 - httpcore.connection - DEBUG - close.started
2025-07-26 20:56:37,416 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:56:37,428 - httpcore.connection - DEBUG - close.started
2025-07-26 20:56:37,430 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:56:38,096 - httpcore.connection - DEBUG - close.started
2025-07-26 20:56:38,097 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:56:38,707 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:56:38,774 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:56:38,867 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:56:39,337 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:56:39,359 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:56:39,388 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:56:39,402 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:56:39,547 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:56:39,558 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:56:39,745 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:56:40,166 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:56:40,178 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:56:43,453 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:56:43,928 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:56:43,932 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:56:44,192 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:56:44,201 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:56:44,208 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:56:44,526 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:56:44,540 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:56:44,574 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:56:44,582 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:56:44,799 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:56:44,812 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:56:53,882 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:56:54,255 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:56:54,267 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 20:57:10,054 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 20:57:10,054 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 20:57:10,206 - claude_service - INFO - Génération 6814afcd-1b67-420c-97f6-c9ff00edd033 créée avec succès
2025-07-26 20:57:10,458 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-47c0e29f-582a-41bf-84a8-651c16e539c1', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 20:57:10,465 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:57:10,465 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:57:10,491 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f6934d2a7d0>
2025-07-26 20:57:10,491 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f6935dbfd10> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:57:10,507 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f6934d1a7d0>
2025-07-26 20:57:10,507 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:57:10,508 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:57:10,508 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:57:10,509 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:57:10,509 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:57:11,374 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:57:11 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:57:10Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:57:10Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:57:10Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:57:10Z'), (b'request-id', b'req_011CRWJJs3ejWPeydNRnFJUP'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656ced0bc0df8d7-ORD')])
2025-07-26 20:57:11,375 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:57:11,375 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:57:11 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:57:10Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:57:10Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:57:10Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:57:10Z', 'request-id': 'req_011CRWJJs3ejWPeydNRnFJUP', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656ced0bc0df8d7-ORD'})
2025-07-26 20:57:11,375 - anthropic._base_client - DEBUG - request_id: req_011CRWJJs3ejWPeydNRnFJUP
2025-07-26 20:57:11,375 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:57:12,198 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:57:12,198 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:57:12,198 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:57:12,468 - claude_service - INFO - Coût enregistré pour 6814afcd-1b67-420c-97f6-c9ff00edd033: $0.0003
2025-07-26 20:57:12,673 - routes - INFO - Stream terminé pour 6814afcd-1b67-420c-97f6-c9ff00edd033: completed
2025-07-26 20:57:27,503 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 20:57:27,504 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 20:57:27,652 - claude_service - INFO - Génération eca04c19-32bc-44c1-815a-aa986d2cad28 créée avec succès
2025-07-26 20:57:27,901 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-3e07ca5a-c1f7-4be8-a105-cc0c10357e37', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'cest quoi premier message je tai envoyer'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 20:57:27,902 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:57:27,903 - httpcore.connection - DEBUG - close.started
2025-07-26 20:57:27,903 - httpcore.connection - DEBUG - close.complete
2025-07-26 20:57:27,903 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:57:27,965 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f6934df48d0>
2025-07-26 20:57:27,965 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f6935dbfd10> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:57:27,984 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f6934df7e10>
2025-07-26 20:57:27,984 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:57:27,985 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:57:27,985 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:57:27,985 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:57:27,985 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:57:29,279 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:57:29 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:57:28Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:57:28Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:57:28Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:57:28Z'), (b'request-id', b'req_011CRWJL9mG49bcpjGG8yTo8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656cf3df805873b-ORD')])
2025-07-26 20:57:29,279 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:57:29,280 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:57:29 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:57:28Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:57:28Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:57:28Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:57:28Z', 'request-id': 'req_011CRWJL9mG49bcpjGG8yTo8', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656cf3df805873b-ORD'})
2025-07-26 20:57:29,280 - anthropic._base_client - DEBUG - request_id: req_011CRWJL9mG49bcpjGG8yTo8
2025-07-26 20:57:29,280 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:57:33,229 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:57:33,230 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:57:33,230 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:57:33,495 - claude_service - INFO - Coût enregistré pour eca04c19-32bc-44c1-815a-aa986d2cad28: $0.0013
2025-07-26 20:57:33,738 - routes - INFO - Stream terminé pour eca04c19-32bc-44c1-815a-aa986d2cad28: completed
2025-07-26 20:57:47,242 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 20:57:47,242 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 20:57:47,404 - claude_service - INFO - Génération baa40071-b77a-492f-9cb6-216303791a5b créée avec succès
2025-07-26 20:57:47,853 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-e99b2b7b-607a-427f-a7be-c291f894226b', 'json_data': {'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'gpt-4o-mini', 'max_tokens': 16384, 'stream': True, 'temperature': 1.0}}
2025-07-26 20:57:47,860 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 20:57:47,860 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:57:47,874 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f88545c4c50>
2025-07-26 20:57:47,874 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f8855c69e20> server_hostname='api.openai.com' timeout=5.0
2025-07-26 20:57:47,890 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f88545c4d10>
2025-07-26 20:57:47,890 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:57:47,891 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:57:47,891 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:57:47,891 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:57:47,892 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:57:48,411 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:57:48 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'196'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'199'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999996'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'cec76847-7d06-413c-9199-e2b1a4a7eac0'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=9pBesNQz719BQYFsNW__VPCx00J3vsdyuFr0SzkIEXM-1753563468-1.0.1.1-y6bjAGlnW5kjZih6mJwNn1SvakCmsBnYrrlCJGz1_211lFyDeN_ivhNdp.0HSWd7OIs8v4W0MtqBs6mq1qJ0nYTbLv7din9CCJ9Ioay1MGg; path=/; expires=Sat, 26-Jul-25 21:27:48 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=sl5PeltNNSHL83q8pVKCR04juzhz3WIyd7YrTJT5dJE-1753563468405-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656cfba5e2b0007-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 20:57:48,413 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 20:57:48,413 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 20:57:48 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '196'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '199'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999996'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'cec76847-7d06-413c-9199-e2b1a4a7eac0'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=9pBesNQz719BQYFsNW__VPCx00J3vsdyuFr0SzkIEXM-1753563468-1.0.1.1-y6bjAGlnW5kjZih6mJwNn1SvakCmsBnYrrlCJGz1_211lFyDeN_ivhNdp.0HSWd7OIs8v4W0MtqBs6mq1qJ0nYTbLv7din9CCJ9Ioay1MGg; path=/; expires=Sat, 26-Jul-25 21:27:48 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=sl5PeltNNSHL83q8pVKCR04juzhz3WIyd7YrTJT5dJE-1753563468405-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9656cfba5e2b0007-ORD'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 20:57:48,413 - openai._base_client - DEBUG - request_id: cec76847-7d06-413c-9199-e2b1a4a7eac0
2025-07-26 20:57:48,414 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:57:51,109 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:57:51,109 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:57:51,109 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:57:51,387 - claude_service - INFO - Coût enregistré pour baa40071-b77a-492f-9cb6-216303791a5b: $0.0000
2025-07-26 20:57:51,568 - routes - INFO - Stream terminé pour baa40071-b77a-492f-9cb6-216303791a5b: completed
2025-07-26 20:58:10,907 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 20:58:10,907 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 20:58:11,074 - claude_service - INFO - Génération 4b4dbca6-54f1-4071-9f4a-cf3a426c5e14 créée avec succès
2025-07-26 20:58:11,342 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-6284fe28-a69e-40fd-bc5d-9737bc6d977e', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'cest quoi premier message je tai envoyer'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 20:58:11,350 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 20:58:11,350 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 20:58:11,376 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fc2ad551850>
2025-07-26 20:58:11,376 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc2ae5c3c80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 20:58:11,392 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fc2ad54d490>
2025-07-26 20:58:11,392 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 20:58:11,393 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 20:58:11,393 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 20:58:11,394 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 20:58:11,394 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 20:58:12,320 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 20:58:12 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T20:58:11Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T20:58:11Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T20:58:11Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T20:58:11Z'), (b'request-id', b'req_011CRWJPMLcT785KDr83dNXY'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d04d3e6dacae-ORD')])
2025-07-26 20:58:12,321 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 20:58:12,321 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 20:58:12 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T20:58:11Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T20:58:11Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T20:58:11Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T20:58:11Z', 'request-id': 'req_011CRWJPMLcT785KDr83dNXY', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656d04d3e6dacae-ORD'})
2025-07-26 20:58:12,321 - anthropic._base_client - DEBUG - request_id: req_011CRWJPMLcT785KDr83dNXY
2025-07-26 20:58:12,322 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 20:58:15,888 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 20:58:15,889 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 20:58:15,889 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 20:58:16,190 - claude_service - INFO - Coût enregistré pour 4b4dbca6-54f1-4071-9f4a-cf3a426c5e14: $0.0011
2025-07-26 20:58:16,365 - routes - INFO - Stream terminé pour 4b4dbca6-54f1-4071-9f4a-cf3a426c5e14: completed
2025-07-26 20:59:33,960 - database - INFO - Génération 67e52f2a-1fac-4ed9-886b-800528e32592 supprimée
2025-07-26 20:59:40,358 - database - INFO - Génération 145485d6-2635-4f74-870b-01fc65ce2955 supprimée
2025-07-26 20:59:44,870 - database - INFO - Génération 295777ab-a4fa-4316-be39-f24db93d834b supprimée
2025-07-26 20:59:49,434 - database - INFO - Génération e00db594-9a18-4646-9b35-c3d597897aad supprimée
2025-07-26 20:59:51,305 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 20:59:51,727 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 20:59:51,736 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:00:03,740 - database - INFO - Génération 01344b13-0758-46f9-bab6-6e35fe0dfc9c supprimée
2025-07-26 21:00:09,553 - database - INFO - Génération 6814afcd-1b67-420c-97f6-c9ff00edd033 supprimée
2025-07-26 21:00:14,471 - database - INFO - Génération eca04c19-32bc-44c1-815a-aa986d2cad28 supprimée
2025-07-26 21:00:16,636 - database - INFO - Génération baa40071-b77a-492f-9cb6-216303791a5b supprimée
2025-07-26 21:00:20,831 - database - INFO - Génération 4b4dbca6-54f1-4071-9f4a-cf3a426c5e14 supprimée
2025-07-26 21:00:27,386 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:00:27,386 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:00:27,541 - claude_service - INFO - Génération 968b6828-3941-498a-8329-0ddd1d90203b créée avec succès
2025-07-26 21:00:27,812 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-86edaefa-9382-4b8f-8737-34f2e6ad501a', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:00:27,816 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:00:27,817 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:00:27,843 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8854415190>
2025-07-26 21:00:27,844 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f88561c3c80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:00:27,858 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f885440bad0>
2025-07-26 21:00:27,858 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:00:27,859 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:00:27,859 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:00:27,859 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:00:27,859 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:00:28,767 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:00:28 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:00:27Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:00:27Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:00:27Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:00:27Z'), (b'request-id', b'req_011CRWJZQnkbdUPn2NVdr3T4'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d3a22de5eac6-ORD')])
2025-07-26 21:00:28,767 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:00:28,768 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:00:28 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:00:27Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:00:27Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:00:27Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:00:27Z', 'request-id': 'req_011CRWJZQnkbdUPn2NVdr3T4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656d3a22de5eac6-ORD'})
2025-07-26 21:00:28,768 - anthropic._base_client - DEBUG - request_id: req_011CRWJZQnkbdUPn2NVdr3T4
2025-07-26 21:00:28,768 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:00:29,635 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:00:29,635 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:00:29,635 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:00:29,914 - claude_service - INFO - Coût enregistré pour 968b6828-3941-498a-8329-0ddd1d90203b: $0.0003
2025-07-26 21:00:30,000 - routes - INFO - Stream terminé pour 968b6828-3941-498a-8329-0ddd1d90203b: completed
2025-07-26 21:00:49,318 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:00:49,319 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:00:49,470 - claude_service - INFO - Génération 3965537e-d0ff-4c48-9170-71236116df4d créée avec succès
2025-07-26 21:00:49,724 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-81cb9544-5255-43af-a41d-55b5c1a88b7c', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'cest quoi le premier message que je tai envoyer'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:00:49,732 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:00:49,733 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:00:49,795 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f89d537a390>
2025-07-26 21:00:49,796 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f89d63c3c80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:00:49,810 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f89d532e790>
2025-07-26 21:00:49,811 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:00:49,811 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:00:49,812 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:00:49,812 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:00:49,812 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:00:51,469 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:00:51 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:00:49Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:00:49Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:00:49Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:00:49Z'), (b'request-id', b'req_011CRWJb2fnSAGMeuTRZAFWM'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d42b5da5f15d-ORD')])
2025-07-26 21:00:51,470 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:00:51,471 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:00:51 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:00:49Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:00:49Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:00:49Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:00:49Z', 'request-id': 'req_011CRWJb2fnSAGMeuTRZAFWM', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656d42b5da5f15d-ORD'})
2025-07-26 21:00:51,471 - anthropic._base_client - DEBUG - request_id: req_011CRWJb2fnSAGMeuTRZAFWM
2025-07-26 21:00:51,471 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:00:53,111 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:00:53,111 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:00:53,111 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:00:53,391 - claude_service - INFO - Coût enregistré pour 3965537e-d0ff-4c48-9170-71236116df4d: $0.0007
2025-07-26 21:00:53,557 - routes - INFO - Stream terminé pour 3965537e-d0ff-4c48-9170-71236116df4d: completed
2025-07-26 21:01:17,811 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:01:17,813 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:01:17,970 - claude_service - INFO - Génération ac12e17d-a491-4470-8599-7ffbef4f4323 créée avec succès
2025-07-26 21:01:18,221 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-58ac5fcc-44a8-464e-9d9b-f3eb23428cca', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:01:18,225 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:01:18,226 - httpcore.connection - DEBUG - close.started
2025-07-26 21:01:18,226 - httpcore.connection - DEBUG - close.complete
2025-07-26 21:01:18,227 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:01:18,240 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f89d53f8e90>
2025-07-26 21:01:18,240 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f89d63c3c80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:01:18,256 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f89d53f8a50>
2025-07-26 21:01:18,257 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:01:18,257 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:01:18,257 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:01:18,257 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:01:18,258 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:01:22,160 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:01:22 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:01:18Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:01:18Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:01:18Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:01:18Z'), (b'request-id', b'req_011CRWJd8HSCp1ix7HKH38Z6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d4dd2dad22df-ORD')])
2025-07-26 21:01:22,162 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:01:22,162 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:01:22 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:01:18Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:01:18Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:01:18Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:01:18Z', 'request-id': 'req_011CRWJd8HSCp1ix7HKH38Z6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656d4dd2dad22df-ORD'})
2025-07-26 21:01:22,163 - anthropic._base_client - DEBUG - request_id: req_011CRWJd8HSCp1ix7HKH38Z6
2025-07-26 21:01:22,163 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:01:22,712 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:01:22,713 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:01:22,713 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:01:22,988 - claude_service - INFO - Coût enregistré pour ac12e17d-a491-4470-8599-7ffbef4f4323: $0.0003
2025-07-26 21:01:23,074 - routes - INFO - Stream terminé pour ac12e17d-a491-4470-8599-7ffbef4f4323: completed
2025-07-26 21:01:40,513 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:01:40,515 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:01:40,662 - claude_service - INFO - Génération f63507f5-5ee1-4065-a98a-da79a04df654 créée avec succès
2025-07-26 21:01:40,909 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-1218d27d-9431-4e60-af8b-8c318524f2aa', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'cest quoi le dernier messagfe je tai envoyer'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:01:40,910 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:01:40,910 - httpcore.connection - DEBUG - close.started
2025-07-26 21:01:40,911 - httpcore.connection - DEBUG - close.complete
2025-07-26 21:01:40,911 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:01:40,926 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f6934df1b90>
2025-07-26 21:01:40,926 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f6935dbfd10> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:01:40,941 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f6934df6d10>
2025-07-26 21:01:40,941 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:01:40,942 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:01:40,942 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:01:40,942 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:01:40,943 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:01:41,965 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:01:41 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-RAY', b'9656d56aedd62226-ORD'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:01:40Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:01:40Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:01:41Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:01:40Z'), (b'request-id', b'req_011CRWJeoHVPNSVue6mXpZqE'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare')])
2025-07-26 21:01:41,966 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:01:41,966 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:01:41 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-ray': '9656d56aedd62226-ORD', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:01:40Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:01:40Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:01:41Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:01:40Z', 'request-id': 'req_011CRWJeoHVPNSVue6mXpZqE', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare'})
2025-07-26 21:01:41,966 - anthropic._base_client - DEBUG - request_id: req_011CRWJeoHVPNSVue6mXpZqE
2025-07-26 21:01:41,967 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:01:45,032 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:01:45,032 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:01:45,033 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:01:45,306 - claude_service - INFO - Coût enregistré pour f63507f5-5ee1-4065-a98a-da79a04df654: $0.0011
2025-07-26 21:01:45,435 - routes - INFO - Stream terminé pour f63507f5-5ee1-4065-a98a-da79a04df654: completed
2025-07-26 21:02:16,845 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-0613f593-cc75-49e7-99f1-32618f1f7a87', 'json_data': {'max_tokens': 10, 'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'claude-sonnet-4-20250514'}}
2025-07-26 21:02:16,846 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:02:16,846 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:02:16,860 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f69344035d0>
2025-07-26 21:02:16,861 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f69356f4f80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:02:16,876 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f69344032d0>
2025-07-26 21:02:16,877 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:02:16,877 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:02:16,877 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:02:16,878 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:02:16,878 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:02:17,988 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:02:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:02:17Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:02:17Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:02:16Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:02:17Z'), (b'request-id', b'req_011CRWJhSwDJ7JVgdAqw2LUf'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d64b888b608e-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 21:02:17,989 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:02:17,989 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:02:17,990 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:02:17,990 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:02:17,990 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:02:17,990 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:02:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:02:17Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:02:17Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:02:16Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:02:17Z', 'request-id': 'req_011CRWJhSwDJ7JVgdAqw2LUf', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656d64b888b608e-ORD', 'content-encoding': 'gzip'})
2025-07-26 21:02:17,990 - anthropic._base_client - DEBUG - request_id: req_011CRWJhSwDJ7JVgdAqw2LUf
2025-07-26 21:02:18,218 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-9dca8000-3205-47f3-a016-0c465fb1f282', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'gpt-4o', 'max_tokens': 10}}
2025-07-26 21:02:18,225 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 21:02:18,225 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:02:18,239 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fdc8ad5c890>
2025-07-26 21:02:18,240 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fdc8b6f4a70> server_hostname='api.openai.com' timeout=5.0
2025-07-26 21:02:18,255 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fdc8a9c54d0>
2025-07-26 21:02:18,256 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:02:18,256 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:02:18,256 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:02:18,257 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:02:18,257 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:02:18,683 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:02:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'349'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'351'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999996'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'4f4f4358-b223-4ece-94ad-0977ab0daa08'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=h6kN0cRoZoDsmc.BzgfOlmpU4dZHh_5Xzh4y3hXEOnA-1753563738-1.0.1.1-nWj9S_4jEGAqupmWV1pzX25cLrrqK8IeTQQmy5l1zpKsIcWkvf_B6mleYCUX855DjTmH58duRdlJPImCAbWVl6k79ZieamtP0kGy8wdMPbI; path=/; expires=Sat, 26-Jul-25 21:32:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Bu8o28dLX1L4zlyrWrf4oUdlwZm.BSqt_6BLuwleglU-1753563738676-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d65429677a5f-ORD'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 21:02:18,684 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 21:02:18,685 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:02:18,685 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:02:18,685 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:02:18,685 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:02:18,685 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 21:02:18 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '349'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '351'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999996'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', '4f4f4358-b223-4ece-94ad-0977ab0daa08'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=h6kN0cRoZoDsmc.BzgfOlmpU4dZHh_5Xzh4y3hXEOnA-1753563738-1.0.1.1-nWj9S_4jEGAqupmWV1pzX25cLrrqK8IeTQQmy5l1zpKsIcWkvf_B6mleYCUX855DjTmH58duRdlJPImCAbWVl6k79ZieamtP0kGy8wdMPbI; path=/; expires=Sat, 26-Jul-25 21:32:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=Bu8o28dLX1L4zlyrWrf4oUdlwZm.BSqt_6BLuwleglU-1753563738676-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9656d65429677a5f-ORD'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 21:02:18,686 - openai._base_client - DEBUG - request_id: 4f4f4358-b223-4ece-94ad-0977ab0daa08
2025-07-26 21:02:18,750 - httpcore.connection - DEBUG - close.started
2025-07-26 21:02:18,751 - httpcore.connection - DEBUG - close.complete
2025-07-26 21:02:18,918 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-73069d63-cb7a-4ccc-bf3b-3d6ed974e9f0', 'json_data': {'messages': [{'role': 'user', 'content': 'Test'}], 'model': 'grok-2-1212', 'max_tokens': 10}}
2025-07-26 21:02:18,919 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.x.ai/v1/chat/completions
2025-07-26 21:02:18,919 - httpcore.connection - DEBUG - connect_tcp.started host='api.x.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:02:18,945 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f692ff51510>
2025-07-26 21:02:18,946 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f69356f57f0> server_hostname='api.x.ai' timeout=5.0
2025-07-26 21:02:18,964 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f692ff515d0>
2025-07-26 21:02:18,964 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:02:18,964 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:02:18,965 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:02:18,965 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:02:18,965 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:02:19,277 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:02:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-zero-data-retention', b'false'), (b'x-request-id', b'00-77d51d2d18e7dfcb00a79e138ad4e796-3cf3b5ed00503adf-01'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'*'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=RFeQ9NP5swc.ppp1nCG30L5P_XMV3MCE96ZNz_.lOio-1753563739-1.0.1.1-Y9i5ZkS3rMsmgMlcN5oDMW8ulCgWnJ8ozS6oprHL_HdgRx9Uh98HrSSzoiL0K9HoYC1ybv4dNyW_DF8wHnX9G0SyeE8auaKakUimU76QBtM; path=/; expires=Sat, 26-Jul-25 21:32:19 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d6588feb224c-ORD'), (b'Content-Encoding', b'gzip')])
2025-07-26 21:02:19,277 - httpx - INFO - HTTP Request: POST https://api.x.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 21:02:19,278 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:02:19,278 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:02:19,278 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:02:19,278 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:02:19,278 - openai._base_client - DEBUG - HTTP Response: POST https://api.x.ai/v1/chat/completions "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:02:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'x-zero-data-retention': 'false', 'x-request-id': '00-77d51d2d18e7dfcb00a79e138ad4e796-3cf3b5ed00503adf-01', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-origin': '*', 'access-control-expose-headers': '*', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=RFeQ9NP5swc.ppp1nCG30L5P_XMV3MCE96ZNz_.lOio-1753563739-1.0.1.1-Y9i5ZkS3rMsmgMlcN5oDMW8ulCgWnJ8ozS6oprHL_HdgRx9Uh98HrSSzoiL0K9HoYC1ybv4dNyW_DF8wHnX9G0SyeE8auaKakUimU76QBtM; path=/; expires=Sat, 26-Jul-25 21:32:19 GMT; domain=.x.ai; HttpOnly; Secure; SameSite=None', 'strict-transport-security': 'max-age=31536000', 'server': 'cloudflare', 'cf-ray': '9656d6588feb224c-ORD', 'content-encoding': 'gzip'})
2025-07-26 21:02:19,278 - openai._base_client - DEBUG - request_id: 00-77d51d2d18e7dfcb00a79e138ad4e796-3cf3b5ed00503adf-01
2025-07-26 21:02:33,859 - httpcore.connection - DEBUG - close.started
2025-07-26 21:02:33,860 - httpcore.connection - DEBUG - close.complete
2025-07-26 21:02:34,813 - httpcore.connection - DEBUG - close.started
2025-07-26 21:02:34,814 - httpcore.connection - DEBUG - close.complete
2025-07-26 21:02:35,340 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:02:35,441 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:02:35,720 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:02:35,921 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:02:35,934 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:02:35,952 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:02:35,966 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:02:36,202 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:02:36,210 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:02:36,316 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:02:36,671 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:02:36,682 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:02:43,561 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:02:43,947 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:02:43,958 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:02:51,503 - routes - INFO - [DEBUG] Continue ID reçu: None
2025-07-26 21:02:51,503 - routes - INFO - [DEBUG] Data complète: {'prompt': 'allo', 'model': 'claude-sonnet-4-20250514', 'temperature': 1}
2025-07-26 21:02:51,504 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:02:51,504 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:02:51,672 - claude_service - INFO - Génération a8187a3f-3648-41ea-a3c9-bb7beb0f537e créée avec succès
2025-07-26 21:02:51,946 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-40c11f6b-fee9-4126-a50b-d32cc058a613', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:02:51,953 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:02:51,954 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:02:51,980 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe77565ddd0>
2025-07-26 21:02:51,981 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe775db7c80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:02:51,996 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe774d4a6d0>
2025-07-26 21:02:51,996 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:02:51,997 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:02:51,997 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:02:51,997 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:02:51,997 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:02:52,982 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:02:52 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:02:52Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:02:52Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:02:52Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:02:52Z'), (b'request-id', b'req_011CRWJk33N3EM4TPxpQekXR'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d7270f4b508f-ORD')])
2025-07-26 21:02:52,983 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:02:52,983 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:02:52 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:02:52Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:02:52Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:02:52Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:02:52Z', 'request-id': 'req_011CRWJk33N3EM4TPxpQekXR', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656d7270f4b508f-ORD'})
2025-07-26 21:02:52,984 - anthropic._base_client - DEBUG - request_id: req_011CRWJk33N3EM4TPxpQekXR
2025-07-26 21:02:52,984 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:02:54,793 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:02:54,794 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:02:54,794 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:02:55,097 - claude_service - INFO - Coût enregistré pour a8187a3f-3648-41ea-a3c9-bb7beb0f537e: $0.0003
2025-07-26 21:02:55,158 - routes - INFO - Stream terminé pour a8187a3f-3648-41ea-a3c9-bb7beb0f537e: completed
2025-07-26 21:03:09,340 - routes - INFO - [DEBUG] Continue ID reçu: None
2025-07-26 21:03:09,340 - routes - INFO - [DEBUG] Data complète: {'prompt': 'cest quoi le dernier mesdsage que je tai envoyuer', 'model': 'claude-sonnet-4-20250514', 'temperature': 1}
2025-07-26 21:03:09,340 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:03:09,340 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:03:09,492 - claude_service - INFO - Génération 9ba2c113-a7d8-4a00-ab14-2b1ab356de08 créée avec succès
2025-07-26 21:03:09,755 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c9fe362c-14bb-4d5c-9566-642244d21f95', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'cest quoi le dernier mesdsage que je tai envoyuer'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:03:09,763 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:03:09,763 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:03:09,778 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fdc8ad4fad0>
2025-07-26 21:03:09,778 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fdc8bd9bd10> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:03:09,794 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fdc8ad3e790>
2025-07-26 21:03:09,794 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:03:09,795 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:03:09,795 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:03:09,795 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:03:09,795 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:03:10,655 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:03:10 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:03:09Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:03:09Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:03:09Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:03:09Z'), (b'request-id', b'req_011CRWJmM9pArtuUw45KCqMz'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d7964e25e80e-ORD')])
2025-07-26 21:03:10,656 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:03:10,656 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:03:10 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:03:09Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:03:09Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:03:09Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:03:09Z', 'request-id': 'req_011CRWJmM9pArtuUw45KCqMz', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656d7964e25e80e-ORD'})
2025-07-26 21:03:10,656 - anthropic._base_client - DEBUG - request_id: req_011CRWJmM9pArtuUw45KCqMz
2025-07-26 21:03:10,657 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:03:13,697 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:03:13,697 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:03:13,698 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:03:13,976 - claude_service - INFO - Coût enregistré pour 9ba2c113-a7d8-4a00-ab14-2b1ab356de08: $0.0009
2025-07-26 21:03:14,166 - routes - INFO - Stream terminé pour 9ba2c113-a7d8-4a00-ab14-2b1ab356de08: completed
2025-07-26 21:03:38,304 - routes - INFO - [DEBUG] Continue ID reçu: None
2025-07-26 21:03:38,306 - routes - INFO - [DEBUG] Data complète: {'prompt': 'allo', 'model': 'claude-sonnet-4-20250514', 'temperature': 1}
2025-07-26 21:03:38,306 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:03:38,306 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:03:38,474 - claude_service - INFO - Génération b73e6679-d1fd-4914-bc5c-4859375432b1 créée avec succès
2025-07-26 21:03:38,728 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-51de40fd-2b4d-4617-806f-692783574801', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:03:38,741 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:03:38,741 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:03:38,756 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f88551797d0>
2025-07-26 21:03:38,756 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f88561c7c80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:03:38,771 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8855197250>
2025-07-26 21:03:38,772 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:03:38,772 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:03:38,772 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:03:38,773 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:03:38,773 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:03:39,846 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:03:39 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:03:38Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:03:38Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:03:38Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:03:38Z'), (b'request-id', b'req_011CRWJoV2tCnSXBf1mSeLSz'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d84b5bcea2a1-ORD')])
2025-07-26 21:03:39,847 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:03:39,847 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:03:39 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:03:38Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:03:38Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:03:38Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:03:38Z', 'request-id': 'req_011CRWJoV2tCnSXBf1mSeLSz', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656d84b5bcea2a1-ORD'})
2025-07-26 21:03:39,848 - anthropic._base_client - DEBUG - request_id: req_011CRWJoV2tCnSXBf1mSeLSz
2025-07-26 21:03:39,848 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:03:40,729 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:03:40,730 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:03:40,730 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:03:41,021 - claude_service - INFO - Coût enregistré pour b73e6679-d1fd-4914-bc5c-4859375432b1: $0.0003
2025-07-26 21:03:41,294 - routes - INFO - Stream terminé pour b73e6679-d1fd-4914-bc5c-4859375432b1: completed
2025-07-26 21:04:03,799 - routes - INFO - [DEBUG] Continue ID reçu: None
2025-07-26 21:04:03,799 - routes - INFO - [DEBUG] Data complète: {'prompt': 'quel est le dernier messafge que je tai envioyer', 'model': 'claude-sonnet-4-20250514', 'temperature': 1}
2025-07-26 21:04:03,799 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:04:03,800 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:04:03,950 - claude_service - INFO - Génération fd5e47cd-7157-480a-813a-1f15092dd685 créée avec succès
2025-07-26 21:04:04,219 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-76924ad3-3b24-4886-bccf-ca455dc84612', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'quel est le dernier messafge que je tai envioyer'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:04:04,219 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:04:04,220 - httpcore.connection - DEBUG - close.started
2025-07-26 21:04:04,220 - httpcore.connection - DEBUG - close.complete
2025-07-26 21:04:04,220 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:04:04,233 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f88551e8bd0>
2025-07-26 21:04:04,233 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f88561c7c80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:04:04,251 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f88551e9e90>
2025-07-26 21:04:04,252 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:04:04,252 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:04:04,252 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:04:04,253 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:04:04,253 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:04:05,443 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:04:05 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:04:04Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:04:04Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:04:04Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:04:04Z'), (b'request-id', b'req_011CRWJqMyn8NMCBPJSzbJJs'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656d8ea9a8301ca-ORD')])
2025-07-26 21:04:05,444 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:04:05,444 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:04:05 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:04:04Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:04:04Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:04:04Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:04:04Z', 'request-id': 'req_011CRWJqMyn8NMCBPJSzbJJs', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656d8ea9a8301ca-ORD'})
2025-07-26 21:04:05,444 - anthropic._base_client - DEBUG - request_id: req_011CRWJqMyn8NMCBPJSzbJJs
2025-07-26 21:04:05,445 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:04:09,429 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:04:09,429 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:04:09,429 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:04:09,717 - claude_service - INFO - Coût enregistré pour fd5e47cd-7157-480a-813a-1f15092dd685: $0.0011
2025-07-26 21:04:09,963 - routes - INFO - Stream terminé pour fd5e47cd-7157-480a-813a-1f15092dd685: completed
2025-07-26 21:05:22,811 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:23,515 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:23,553 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:23,601 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:23,604 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:23,625 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:24,142 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:24,145 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:24,149 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:24,151 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:24,156 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:24,164 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:26,562 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:27,203 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:27,212 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:27,401 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:27,406 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:27,459 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:27,945 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:27,957 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:27,974 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:27,997 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:28,013 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:28,022 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:31,258 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:31,515 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:31,517 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:31,977 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:31,997 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:32,144 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:32,161 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:32,161 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:32,177 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:05:32,181 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:05:32,666 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:05:32,679 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:06:03,493 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:06:04,232 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:06:04,251 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:06:04,278 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:06:04,796 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:06:05,031 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:06:05,096 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:06:05,114 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:06:05,750 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:06:05,778 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:06:05,794 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:06:05,811 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:06:23,544 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:06:23,913 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:06:23,923 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:06:30,444 - routes - INFO - [DEBUG] Continue ID reçu: None
2025-07-26 21:06:30,445 - routes - INFO - [DEBUG] Data complète: {'prompt': 'allo', 'model': 'claude-sonnet-4-20250514', 'temperature': 1}
2025-07-26 21:06:30,445 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:06:30,445 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:06:30,621 - claude_service - INFO - Génération 9b6ff135-aa0b-49b1-9f47-81be74f312a1 créée avec succès
2025-07-26 21:06:30,883 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-541bbe13-f29d-4940-88df-a42f1b640a4f', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:06:30,890 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:06:30,891 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:06:30,923 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8855ae76d0>
2025-07-26 21:06:30,924 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f88561c7c80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:06:30,940 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8855adec10>
2025-07-26 21:06:30,941 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:06:30,941 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:06:30,941 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:06:30,942 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:06:30,942 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:06:31,836 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:06:31 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:06:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:06:30Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:06:31Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:06:30Z'), (b'request-id', b'req_011CRWK2B9iS2bZ44kMxtvT5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656dc7f6d1d7fb0-ORD')])
2025-07-26 21:06:31,837 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:06:31,837 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:06:31 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:06:30Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:06:30Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:06:31Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:06:30Z', 'request-id': 'req_011CRWK2B9iS2bZ44kMxtvT5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656dc7f6d1d7fb0-ORD'})
2025-07-26 21:06:31,837 - anthropic._base_client - DEBUG - request_id: req_011CRWK2B9iS2bZ44kMxtvT5
2025-07-26 21:06:31,837 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:06:32,418 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:06:32,418 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:06:32,418 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:06:32,701 - claude_service - INFO - Coût enregistré pour 9b6ff135-aa0b-49b1-9f47-81be74f312a1: $0.0003
2025-07-26 21:06:32,777 - routes - INFO - Stream terminé pour 9b6ff135-aa0b-49b1-9f47-81be74f312a1: completed
2025-07-26 21:06:47,959 - routes - INFO - [DEBUG] Continue ID reçu: None
2025-07-26 21:06:47,960 - routes - INFO - [DEBUG] Data complète: {'prompt': 'cest quoi le dernier messafge que je tai envioyer', 'model': 'claude-sonnet-4-20250514', 'temperature': 1}
2025-07-26 21:06:47,960 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:06:47,960 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:06:48,117 - claude_service - INFO - Génération c1e72912-1506-4db9-a77a-857c1c8dabca créée avec succès
2025-07-26 21:06:48,372 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-30358f3b-b6b6-4d08-bb17-8788f2878c33', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'cest quoi le dernier messafge que je tai envioyer'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:06:48,373 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:06:48,373 - httpcore.connection - DEBUG - close.started
2025-07-26 21:06:48,374 - httpcore.connection - DEBUG - close.complete
2025-07-26 21:06:48,374 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:06:48,399 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f88551c1c50>
2025-07-26 21:06:48,399 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f88561c7c80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:06:48,416 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f88551a8bd0>
2025-07-26 21:06:48,416 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:06:48,417 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:06:48,417 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:06:48,417 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:06:48,417 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:06:49,555 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:06:49 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:06:48Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:06:48Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:06:48Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:06:48Z'), (b'request-id', b'req_011CRWK3Tr5kMu7Mn7sAsuQo'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656dcecaa5d2197-ORD')])
2025-07-26 21:06:49,556 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:06:49,556 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:06:49 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:06:48Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:06:48Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:06:48Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:06:48Z', 'request-id': 'req_011CRWK3Tr5kMu7Mn7sAsuQo', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656dcecaa5d2197-ORD'})
2025-07-26 21:06:49,556 - anthropic._base_client - DEBUG - request_id: req_011CRWK3Tr5kMu7Mn7sAsuQo
2025-07-26 21:06:49,557 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:06:53,658 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:06:53,658 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:06:53,659 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:06:53,935 - claude_service - INFO - Coût enregistré pour c1e72912-1506-4db9-a77a-857c1c8dabca: $0.0016
2025-07-26 21:06:54,220 - routes - INFO - Stream terminé pour c1e72912-1506-4db9-a77a-857c1c8dabca: completed
2025-07-26 21:07:07,295 - routes - INFO - [DEBUG] Continue ID reçu: None
2025-07-26 21:07:07,303 - routes - INFO - [DEBUG] Data complète: {'prompt': 'allo', 'model': 'gpt-4.1', 'temperature': 1}
2025-07-26 21:07:07,303 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:07:07,303 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:07:07,466 - claude_service - INFO - Génération aee13508-14d8-42e9-8314-5781968be703 créée avec succès
2025-07-26 21:07:07,935 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-42e88063-5dba-44a7-9a0a-f71a689cce9e', 'json_data': {'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'gpt-4.1', 'max_tokens': 32768, 'stream': True, 'temperature': 1.0}}
2025-07-26 21:07:07,945 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 21:07:07,946 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:07:07,960 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe7741c2190>
2025-07-26 21:07:07,960 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe775859e20> server_hostname='api.openai.com' timeout=5.0
2025-07-26 21:07:07,975 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe7741c2250>
2025-07-26 21:07:07,975 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:07:07,976 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:07:07,976 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:07:07,976 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:07:07,976 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:07:08,178 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:07:08 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'138'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'140'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999996'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'f9b8d6b0-bde7-437f-a2fb-4377f418d953'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=igXazw8xQJeuIqcM2imNlt6wMVj2kG6zv0vpYEZp3ZM-1753564028-1.0.1.1-f5pu0gterDY8l8vKpai0bLwyMNizt_EsbFDVjWtR968AQSPuT5Vo6F7Kqk0CVPpXMHvTJ05R3ejUB3ktno9KFf35efHxgahRHVaVLyqUmYE; path=/; expires=Sat, 26-Jul-25 21:37:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=vWxLq.hXcqagkUy9TxBx9NMsSFTibsuQQ9dARsNqUNs-1753564028171-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656dd66ee03eb58-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 21:07:08,179 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 21:07:08,179 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 21:07:08 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '138'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '140'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29999996'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'f9b8d6b0-bde7-437f-a2fb-4377f418d953'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=igXazw8xQJeuIqcM2imNlt6wMVj2kG6zv0vpYEZp3ZM-1753564028-1.0.1.1-f5pu0gterDY8l8vKpai0bLwyMNizt_EsbFDVjWtR968AQSPuT5Vo6F7Kqk0CVPpXMHvTJ05R3ejUB3ktno9KFf35efHxgahRHVaVLyqUmYE; path=/; expires=Sat, 26-Jul-25 21:37:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=vWxLq.hXcqagkUy9TxBx9NMsSFTibsuQQ9dARsNqUNs-1753564028171-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9656dd66ee03eb58-ORD'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 21:07:08,179 - openai._base_client - DEBUG - request_id: f9b8d6b0-bde7-437f-a2fb-4377f418d953
2025-07-26 21:07:08,180 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:07:11,560 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:07:11,560 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:07:11,561 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:07:11,849 - claude_service - INFO - Coût enregistré pour aee13508-14d8-42e9-8314-5781968be703: $0.0001
2025-07-26 21:07:12,097 - routes - INFO - Stream terminé pour aee13508-14d8-42e9-8314-5781968be703: completed
2025-07-26 21:07:30,920 - routes - INFO - [DEBUG] Continue ID reçu: None
2025-07-26 21:07:30,921 - routes - INFO - [DEBUG] Data complète: {'prompt': 'cest quoi le premier message que je tai envioyer', 'model': 'gpt-4.1-mini', 'temperature': 1}
2025-07-26 21:07:30,921 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:07:30,921 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:07:31,078 - claude_service - INFO - Génération 0e039ac1-3e5c-4c20-add3-094c2bfccb81 créée avec succès
2025-07-26 21:07:31,552 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-7ce78d3c-e57e-44b6-b9db-2eebb27982a3', 'json_data': {'messages': [{'role': 'user', 'content': 'cest quoi le premier message que je tai envioyer'}], 'model': 'gpt-4.1-mini', 'max_tokens': 32768, 'stream': True, 'temperature': 1.0}}
2025-07-26 21:07:31,553 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-07-26 21:07:31,554 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:07:31,567 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f885443a950>
2025-07-26 21:07:31,567 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f8855c69e20> server_hostname='api.openai.com' timeout=5.0
2025-07-26 21:07:31,582 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f88551ef650>
2025-07-26 21:07:31,583 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:07:31,583 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:07:31,583 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:07:31,584 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:07:31,584 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:07:32,260 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:07:32 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'm-lai'), (b'openai-processing-ms', b'129'), (b'openai-project', b'proj_KX5tOquZig5jkTn8nQ5R3WvN'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'131'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999985'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'f31db6dc-f3c6-452a-8370-8c55e93f8217'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=X.luGIq3qXv.9nGxvBBKi7GB3Tj9vmh8TsQlkN2jNIs-1753564052-1.0.1.1-UDgCBkQWNLLIcICJ8CvvQXpCNItvS9om7vXeOsrADRs3kNg_oE23CK_jljVPoC55_7DdSJQGkoG0SFpv6XbOIlryJC8a_LquDoyJQMqevUA; path=/; expires=Sat, 26-Jul-25 21:37:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=udtgw7xGLO3GTD_kATwG7KYUeXCC3HJyAi30H2D0a7Q-1753564052254-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656ddfa6dd210ab-ORD'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-26 21:07:32,261 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-26 21:07:32,261 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 26 Jul 2025 21:07:32 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'm-lai'), ('openai-processing-ms', '129'), ('openai-project', 'proj_KX5tOquZig5jkTn8nQ5R3WvN'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '131'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999985'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'f31db6dc-f3c6-452a-8370-8c55e93f8217'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=X.luGIq3qXv.9nGxvBBKi7GB3Tj9vmh8TsQlkN2jNIs-1753564052-1.0.1.1-UDgCBkQWNLLIcICJ8CvvQXpCNItvS9om7vXeOsrADRs3kNg_oE23CK_jljVPoC55_7DdSJQGkoG0SFpv6XbOIlryJC8a_LquDoyJQMqevUA; path=/; expires=Sat, 26-Jul-25 21:37:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=udtgw7xGLO3GTD_kATwG7KYUeXCC3HJyAi30H2D0a7Q-1753564052254-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9656ddfa6dd210ab-ORD'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-07-26 21:07:32,262 - openai._base_client - DEBUG - request_id: f31db6dc-f3c6-452a-8370-8c55e93f8217
2025-07-26 21:07:32,262 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:07:37,538 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:07:37,539 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:07:37,539 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:07:37,818 - claude_service - INFO - Coût enregistré pour 0e039ac1-3e5c-4c20-add3-094c2bfccb81: $0.0000
2025-07-26 21:07:37,922 - routes - INFO - Stream terminé pour 0e039ac1-3e5c-4c20-add3-094c2bfccb81: completed
2025-07-26 21:07:54,548 - routes - INFO - [DEBUG] Continue ID reçu: None
2025-07-26 21:07:54,548 - routes - INFO - [DEBUG] Data complète: {'prompt': 'allo', 'model': 'claude-sonnet-4-20250514', 'temperature': 1}
2025-07-26 21:07:54,548 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:07:54,548 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:07:54,708 - claude_service - INFO - Génération f31a3576-07c7-4a7a-8fb2-eb5a3e2a6cd5 créée avec succès
2025-07-26 21:07:54,970 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-323a14b8-07b2-4700-8693-21f9a8b5ca42', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'allo'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:07:54,977 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:07:54,977 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:07:55,003 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fdc8ad424d0>
2025-07-26 21:07:55,004 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fdc8bd9fc80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:07:55,029 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fdc8b69e050>
2025-07-26 21:07:55,029 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:07:55,030 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:07:55,030 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:07:55,030 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:07:55,030 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:07:55,987 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:07:55 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:07:55Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:07:55Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:07:55Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:07:55Z'), (b'request-id', b'req_011CRWK8Negs24GABWEaVH9T'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656de8cfdc76071-ORD')])
2025-07-26 21:07:55,988 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:07:55,988 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:07:55 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:07:55Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:07:55Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:07:55Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:07:55Z', 'request-id': 'req_011CRWK8Negs24GABWEaVH9T', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656de8cfdc76071-ORD'})
2025-07-26 21:07:55,988 - anthropic._base_client - DEBUG - request_id: req_011CRWK8Negs24GABWEaVH9T
2025-07-26 21:07:55,988 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:07:56,869 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:07:56,870 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:07:56,870 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:07:57,158 - claude_service - INFO - Coût enregistré pour f31a3576-07c7-4a7a-8fb2-eb5a3e2a6cd5: $0.0003
2025-07-26 21:07:57,488 - routes - INFO - Stream terminé pour f31a3576-07c7-4a7a-8fb2-eb5a3e2a6cd5: completed
2025-07-26 21:08:14,211 - routes - INFO - [DEBUG] Continue ID reçu: None
2025-07-26 21:08:14,211 - routes - INFO - [DEBUG] Data complète: {'prompt': 'cest quoi premier message je tai envoyer', 'model': 'claude-sonnet-4-20250514', 'temperature': 1}
2025-07-26 21:08:14,212 - routes - INFO - [API] Appel generate_text avec conversation_history: 0 messages
2025-07-26 21:08:14,212 - claude_service - INFO - [GENERATE_CONTENT] Aucun historique fourni
2025-07-26 21:08:14,365 - claude_service - INFO - Génération 2da7cf25-89e6-4916-9201-cf5db7b6a9cb créée avec succès
2025-07-26 21:08:14,623 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'headers': {'X-Stainless-Stream-Helper': 'messages'}, 'files': None, 'idempotency_key': 'stainless-python-retry-7437845b-fe70-48f7-bd3d-f5a5fcf256ef', 'json_data': {'max_tokens': 64000, 'messages': [{'role': 'user', 'content': 'cest quoi premier message je tai envoyer'}], 'model': 'claude-sonnet-4-20250514', 'temperature': 1.0, 'stream': True}}
2025-07-26 21:08:14,624 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-07-26 21:08:14,624 - httpcore.connection - DEBUG - close.started
2025-07-26 21:08:14,625 - httpcore.connection - DEBUG - close.complete
2025-07-26 21:08:14,625 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 21:08:14,638 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8854467c10>
2025-07-26 21:08:14,638 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f88561c7c80> server_hostname='api.anthropic.com' timeout=5.0
2025-07-26 21:08:14,654 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f885445f650>
2025-07-26 21:08:14,654 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 21:08:14,654 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-26 21:08:14,654 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 21:08:14,655 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-26 21:08:14,655 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 21:08:15,588 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 21:08:15 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'no-cache'), (b'anthropic-ratelimit-input-tokens-limit', b'2000000'), (b'anthropic-ratelimit-input-tokens-remaining', b'2000000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-07-26T21:08:14Z'), (b'anthropic-ratelimit-output-tokens-limit', b'400000'), (b'anthropic-ratelimit-output-tokens-remaining', b'400000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-07-26T21:08:14Z'), (b'anthropic-ratelimit-requests-limit', b'4000'), (b'anthropic-ratelimit-requests-remaining', b'3999'), (b'anthropic-ratelimit-requests-reset', b'2025-07-26T21:08:14Z'), (b'anthropic-ratelimit-tokens-limit', b'2400000'), (b'anthropic-ratelimit-tokens-remaining', b'2400000'), (b'anthropic-ratelimit-tokens-reset', b'2025-07-26T21:08:14Z'), (b'request-id', b'req_011CRWK9pYhZHDh9JFbQtJF1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9656df079aefe828-ORD')])
2025-07-26 21:08:15,589 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-07-26 21:08:15,589 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 26 Jul 2025 21:08:15 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'no-cache', 'anthropic-ratelimit-input-tokens-limit': '2000000', 'anthropic-ratelimit-input-tokens-remaining': '2000000', 'anthropic-ratelimit-input-tokens-reset': '2025-07-26T21:08:14Z', 'anthropic-ratelimit-output-tokens-limit': '400000', 'anthropic-ratelimit-output-tokens-remaining': '400000', 'anthropic-ratelimit-output-tokens-reset': '2025-07-26T21:08:14Z', 'anthropic-ratelimit-requests-limit': '4000', 'anthropic-ratelimit-requests-remaining': '3999', 'anthropic-ratelimit-requests-reset': '2025-07-26T21:08:14Z', 'anthropic-ratelimit-tokens-limit': '2400000', 'anthropic-ratelimit-tokens-remaining': '2400000', 'anthropic-ratelimit-tokens-reset': '2025-07-26T21:08:14Z', 'request-id': 'req_011CRWK9pYhZHDh9JFbQtJF1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '6fcc8f83-1f9c-4d33-ba07-4d4df37d67f5', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9656df079aefe828-ORD'})
2025-07-26 21:08:15,589 - anthropic._base_client - DEBUG - request_id: req_011CRWK9pYhZHDh9JFbQtJF1
2025-07-26 21:08:15,589 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 21:08:20,888 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-26 21:08:20,888 - httpcore.http11 - DEBUG - response_closed.started
2025-07-26 21:08:20,888 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-26 21:08:21,173 - claude_service - INFO - Coût enregistré pour 2da7cf25-89e6-4916-9201-cf5db7b6a9cb: $0.0015
2025-07-26 21:08:21,332 - routes - INFO - Stream terminé pour 2da7cf25-89e6-4916-9201-cf5db7b6a9cb: completed
2025-07-26 21:19:03,224 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:19:03,225 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:19:03,230 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:19:03,258 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:19:04,066 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:19:04,087 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:19:04,100 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:19:04,107 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:19:04,169 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:19:04,170 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:19:04,183 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:19:04,197 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:19:24,984 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:19:25,356 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:19:25,367 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:19:26,665 - routes - ERROR - Erreur dashboard: Could not build url for endpoint 'logout'. Did you mean 'playground' instead?
2025-07-26 21:19:26,665 - app - ERROR - Exception on /dashboard [GET]
Traceback (most recent call last):
  File "/home/runner/workspace/routes.py", line 39, in dashboard
    return render_template('dashboard.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 77, in top-level template code
    <li><a class="dropdown-item" href="{{ url_for('logout') }}"><i class="fas fa-sign-out-alt me-2"></i>Déconnexion</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'logout'. Did you mean 'playground' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes.py", line 48, in dashboard
    return render_template('dashboard.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/runner/workspace/templates/base.html", line 77, in top-level template code
    <li><a class="dropdown-item" href="{{ url_for('logout') }}"><i class="fas fa-sign-out-alt me-2"></i>Déconnexion</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'logout'. Did you mean 'playground' instead?
2025-07-26 21:19:26,669 - routes - ERROR - Erreur interne: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-07-26 21:19:59,593 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:20:00,039 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:20:00,049 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:29:09,844 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:29:10,255 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:29:10,269 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:29:17,028 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:29:17,394 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:29:17,403 - claude_service - INFO - Client xAI initialisé avec succès
2025-07-26 21:29:26,549 - claude_service - INFO - Client Anthropic initialisé avec succès
2025-07-26 21:29:26,890 - claude_service - INFO - Client OpenAI initialisé avec succès
2025-07-26 21:29:26,902 - claude_service - INFO - Client xAI initialisé avec succès
